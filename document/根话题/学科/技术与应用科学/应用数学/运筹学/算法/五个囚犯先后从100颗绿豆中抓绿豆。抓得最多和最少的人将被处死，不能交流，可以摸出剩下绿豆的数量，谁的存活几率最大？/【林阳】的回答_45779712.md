# 五个囚犯先后从100颗绿豆中抓绿豆。抓得最多和最少的人将被处死，不能交流，可以摸出剩下绿豆的数量，谁的存活几率最大？
- 点赞数：5054
- 更新时间：2015年04月28日18时05分01秒
- 回答url：https://www.zhihu.com/question/19912025/answer/45779712
<body>
 <p data-pid="YHHw4-6y">看Matrix67大牛的博客，让我学到了一个思维方式，那就是从最简单的情况开始考虑。</p>
 <p data-pid="n1ZjS9bh">在大家开始看答案之前，我必须指出：因为题目中没有“每个人都知道其他人也很聪明”这个条件，所以，<b>不会出现A选96颗豆子这种情形</b>。</p>
 <p data-pid="DAYwG44u">下面是分析：</p>
 <p data-pid="yrK_PEFA">假设有3个人ABC，10个豆子，其他条件不变。</p>
 <p data-pid="Sr6VDIX-">一开始B是非常紧张的，他开始了思考。</p>
 <p data-pid="8UoMX6CF">对他来讲，有上中下三种策略</p>
 <ol>
  <li data-pid="qD5FeQql">上策：自己活着</li>
  <li data-pid="mj7sjZzt">中策：全部死光光</li>
  <li data-pid="FYpLbSw_">下策：自己死了，但有其他人活着。</li>
 </ol>
 <p data-pid="Hivhw4kP">然后他就开始预测A的行为：</p>
 <ol>
  <li data-pid="zFmQPzHX">A如果拿8颗豆子，B拿1颗豆子，C拿1颗豆子。全死。</li>
  <li data-pid="bKk99RO-">A如果拿7颗豆子，现在轮到B做选择了</li>
  <ol>
   <li data-pid="5xBKQ1R-">B如果拿1颗豆子，C不敢拿1颗，必然拿2颗。C独活。</li>
   <li data-pid="eDGfOrh-">B如果拿2颗豆子，C只能拿1颗，B独活。</li>
   <li data-pid="G-cWyTby">因为B是个理性人，<b>B这个小婊砸一定会拿2颗</b>。AC死了。</li>
  </ol>
  <li data-pid="8NYFiYKx">A如果拿6颗，B就拿3颗；A如果拿5颗，B就拿4颗。都是B独活，AC死。（我真的不是在黑A站）<br></li>
  <li data-pid="7ZjMidub">B已经找到了规律，那就是，让自己拿的数量在AC之间，就可以保证活。想到此处，他不由得笑出声来。A冷冷的看了他一眼。</li>
  <li data-pid="OWPTCphs">A如果拿4颗，现在轮到B做选择了。</li>
  <ol>
   <li data-pid="LoknsC1M">如果B拿5颗，C只能拿1颗，A独活，BC死。</li>
   <li data-pid="m3hFdoYD">如果B拿4颗，C不论拿几颗，都是三人同死。</li>
   <li data-pid="gfv9kwjP">如果B拿3颗，C在得知前两人共拿7颗的情况下，选择拿3颗，三人同归于尽。</li>
   <li data-pid="nTn8ThKA">如果B拿2颗或1颗，C会选择拿3颗，C独活。AB死。</li>
   <li data-pid="EpZrjqMp"><b>B惊奇的发现，不管怎么选，自己都会死</b>。他是不会选择让C这个小婊砸活着的。</li>
   <li data-pid="j9R9wSFJ">于是B选择了拿3颗。</li>
  </ol>
  <li data-pid="6e7SGCIN">A如果拿3颗，B略微思索了一下，也会选择三个人同归于尽。</li>
  <li data-pid="RQoWIlPI">A如果拿2颗，B会拿3颗，但是C哈哈一笑（C已经习惯了在B的脑洞中死亡），他不拿5颗，也不拿4颗，也不会拿1颗，他拿了3颗。三人同归于尽。</li>
  <li data-pid="5NacrJrP">A如果拿一颗，那么（感谢 <a data-hash="612843b6b185e471bb1eaa70d2eafebe" href="https://www.zhihu.com/people/612843b6b185e471bb1eaa70d2eafebe" class="member_mention" data-editable="true" data-title="@胡昌俊" data-tip="p$b$612843b6b185e471bb1eaa70d2eafebe" data-hovercard="p$b$612843b6b185e471bb1eaa70d2eafebe">@胡昌俊</a> 指正）</li>
  <ol>
   <li data-pid="VdPi2jIR">B选1颗，3人同死</li>
   <li data-pid="vI6w5s1g">B选2颗，CC会选择三人同归于尽。</li>
   <li data-pid="y6NN4mjY">B选3颗或以上，C选AB的平均数。AC活，但B死，所以B不会做这个选择。</li>
  </ol>
 </ol>
 <p data-pid="VloPJQzV">但是A也思考了上述的全部过程，A悲催的发现。如果B很聪明，不管自己怎么选，都是个死（对，你去上面仔细看看，我们已经列举了所有的情况）。既然这样，A把希望寄托在B不是很聪明上面，他微微一笑，选了4颗豆子。</p>
 <p data-pid="BKk-34Wd">ABC卒。</p>
 <p data-pid="52FKEbY1">我们归纳出一个定理：<b>如果3个人有n个豆子，<img src="https://www.zhihu.com/equation?tex=n%5Cgg+3" alt="n\gg 3" eeimg="1">，且A不知道B和C是不是理性的，他可以选择<img src="https://www.zhihu.com/equation?tex=%5Bn%2F3%5D" alt="[n/3]" eeimg="1">，如果ABC三人都是理性的，他们会同归于尽。</b></p>
 <p data-pid="GjqPXI0E">时光荏苒，有个变态又抓到了4个人，ABCD，然后给了他们20颗豆子。</p>
 <p data-pid="w9pZYR4r">我们继续从如果A拿20颗豆子开始分析。啊，不，还是直接写结论吧。</p>
 <ol>
  <li data-pid="unys5ObY">当A选择17个时，同归于尽。</li>
  <li data-pid="8K_Nl4tb">当A选择16到6个时，B活着。A死。<br></li>
  <li data-pid="nJ8Eo1Ud">当A选择5时，B选4，C选4，D选择4和大家同归于尽。</li>
  <li data-pid="5cwNsvq6">当A选择4时，B选5，C选4，D选择4和大家同归于尽。</li>
  <li data-pid="IAk5N-bm">。。。</li>
  <li data-pid="UMyN-7b_">A发现自己必死。于是他拿了5颗豆子，他寄希望于其他人高尚一些。</li>
  <li data-pid="okOSQR1X">ABCD卒。</li>
 </ol>
 <p data-pid="NkdbV8jr">转眼到了2015年，题主抓住了5个人，给了他们100颗豆子。第一个人深吸一口烟，吐出个烟圈，<b>他拿了20个</b>。</p>
 <p data-pid="mpx2vEPB">====程序员的分割线===</p>
 <p data-pid="D0fTlSvi">后来我又写了个程序，模拟了如下状况：</p>
 <p data-pid="IaJ8zJjS">假设所有人都假设其他人的选择是随机的（可能是因为每个人都假设其他人可能是聪明人，笨的人，高尚的人，自私的人，抑郁症患者等），那么在所有的样本空间里（75287520种可能性），做出最有利于自己的选择：</p>
 <p data-pid="A07IOki_">100 left for A</p>
 <p data-pid="_bDigX7H">A will chose 10</p>
 <p data-pid="qU-P6oPc">90 left for B</p>
 <p data-pid="1J3rNA1G">B will chose 11</p>
 <p data-pid="Q7AdUchC">79 left for C</p>
 <p data-pid="DDUvFqOx">C will chose 11</p>
 <p data-pid="9znOQru1">68 left for D</p>
 <p data-pid="KSGtfjqj">D will chose 10</p>
 <p data-pid="4sVJOdot">58 left for E</p>
 <p data-pid="y4riB5sC">E will chose 10</p>
 <p data-pid="ZRtRVIxI">源码在此</p><a href="https://link.zhihu.com/?target=https%3A//github.com/picasso250/math/blob/master/a.c" class=" wrap external" target="_blank" rel="nofollow noreferrer">math/a.c at master · picasso250/math · GitHub</a>
</body>
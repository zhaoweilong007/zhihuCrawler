# 为什么光的真空速度是 299,792,458 米/秒？是什么决定了这个速度？
- 点赞数：12926
- 更新时间：2019年09月14日02时06分50秒
- 回答url：https://www.zhihu.com/question/292450646/answer/820445169
<body>
 <p data-pid="sj1Zs26a">两天收了4k赞，感谢各位大佬喜欢这个回答。</p>
 <p data-pid="XGfuWDhx">我只是生物狗，日常科研需要写点代码处理实验数据什么的，答案里提及的数学物理计算机其实都只知道有这回事，拿来瞎比比开心一下而已，不是真懂这么多。</p>
 <p data-pid="xcP6-qlh">评论里有网友猜答案里说的程序员的原型是作者自己。是的，我初中的时候瞎几把写了个三体问题模拟器，后来学到新的编程或者数学知识就改进一下代码，回答里直到k-d tree空间分割碰撞判定都是实现过的。</p>
 <p data-pid="Qy82ganA">感谢评论里做计算机图形学流体模拟的大佬 <a class="member_mention" href="https://www.zhihu.com/people/4146bb31e7ea6abe568420e83dcc62c0" data-hash="4146bb31e7ea6abe568420e83dcc62c0" data-hovercard="p$b$4146bb31e7ea6abe568420e83dcc62c0">@洋葱头</a> 指出的n-body问题两两计算作用力求解，时间复杂度是O(n^2)，而不是指数上升，回答已改正。</p>
 <p data-pid="pqrk7Zav">知乎用户里真的有很多专业人士，发个娱乐向的回答也能感受到同行评议般的学术氛围，这种严谨的考究精神是极好的。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="RMEnS-bu">//下面是原来的回答，修改了一个错误</p>
 <p data-pid="nLHP-3xa">先说结论：因为这个世界很有可能是一台计算机模拟出来的。</p>
 <p data-pid="OakLEU1j">在牛顿看来，两个物体的相互作用是瞬间发生的，不需要时间，可以认为作用的传播速度是无穷大。</p>
 <p data-pid="hdzSo6WO">但后来很多实验发现光速是有限的，而且这个速度是宇宙中物质运动速度的上限。以及，各种相互作用也是光速传播的。</p>
 <p data-pid="PweLST35">唯有量子纠缠引起的概率变化传播得比这个速度快，这导致后来著名的EPR实验，这是后话。</p>
 <p data-pid="P_fMCtfz">那么，这些现象给我们什么提示呢？</p>
 <p data-pid="SZaRyvxP">假如，现在有一个程序员，老板提出一个需求，在计算机里模拟一个宇宙。</p>
 <p data-pid="dGwAGTJJ">首先，程序员决定先实现万有引力。</p>
 <p data-pid="v5VqsWjQ">程序员充满干劲地去找数学老师，老师扔给程序员两本高等数学，上下册。</p>
 <p data-pid="GQjEoxF8">于是程序员自学了高等数学，发现，可以很简单地计算出两个物体之间的相互作用，微分方程一解，任意时刻的位置和速度都能直接求得，也就是说，两个物体之间的引力相互作用存在解析解。</p>
 <p data-pid="VKB5_6FR">当加入第三个物体后，微分方程居然解不出来了，程序员去问数学老师，老师丢给程序员一本数值分析。</p>
 <p data-pid="MT-P_v6s">于是程序员自学了数值分析，发现可以对微分方程进行数值计算，即使得不到解析解的情况下，可以用迭代的方法，解出微分方程在任意精度的数值解。</p>
 <p data-pid="SJzofaN1">但这样就引入了一个新的问题，那就是时间的最小单位。如果迭代步长太大(或者使用了低阶的迭代方程)，很有可能方程就不收敛，或者说累积误差就会增大，以至于计算结果和真值差太远，甚至会引起计算结果变为无穷大，导致程序报错。</p>
 <p data-pid="V3vfrplG">所以，选择一个很小的步长来推演整个体系，并使用更高阶的迭代方程，能让数值解更接近真实解，并让微分方程代表的体系稳定持续地运行。</p>
 <p data-pid="HHfxOKYo">程序员很高兴，以为问题都解决了。于是程序员上传了万有引力0.1版。两天后，程序员在issues里接到反馈，称体系的粒子数增加到一千亿之后，系统卡了。</p>
 <p data-pid="F1_HnFVY">这只是一个星系的恒星数量，什么破电脑，这都跑不动。程序员一路抱怨着，再去问数学老师，怎么优化代码。数学老师扔给程序员一本有限元分析。</p>
 <p data-pid="78iW7Jwm">程序员自学完有限元分析，发现，一个多体系统里，如果计算每个粒子与其他所有粒子的相互作用，其计算量随着粒子数量的二次方增加，最后导致计算机难以处理大量粒子的相互作用，导致不能实时运行，引起卡顿。而解决这个问题的思路在于，可以将空间分割为网格，使得每个格子里最多存在一个粒子，粒子与粒子之间直接的相互作用计算，转变为粒子与其所在格子的相互作用。格子只与其相邻格子进行插值计算从而更新状态。这样下来，终于能在时间复杂度O(nlogn)下完成粒子相互作用计算了。程序员提交了万有引力0.2版。</p>
 <p data-pid="ADYsgPFF">这个版本引入了场的概念，让粒子之间直接相互作用，变成粒子和场的相互作用，场是格子和临近格子之间的梯度，梯度驱动着粒子的运动。通过简单的二次插值，就能得到精度很高的结果。但引入场概念是有代价的，那就是对于粒子系统来说，原本瞬间能完成的相互作用，变成要通过场将这个作用传播出去，而由于计算量问题，每一次迭代计算对场的更新只能更新有限的范围，这导致了场的传播有一个速度上限，这个速度跟计算机计算能力有关。但是，在小范围内，这个效应并不明显，并不妨碍这个版本的应用。</p>
 <p data-pid="SwZS6-EN">一周过去了。0.2版反响不错，老板告诉程序员，用户呼吁为粒子系统加入体积和碰撞的设定。</p>
 <p data-pid="Uc_y8IoP">程序员这次没有去找数学老师，自己琢磨出了将空间按k-d tree分割处理后，单独处理每个碰撞判定的方法，这样避免了重新对所有粒子两两进行距离计算，防止系统重新变为O(n^2）复杂度。</p>
 <p data-pid="i0oNZ96U">程序员提交了万有引力0.3 体积与碰撞。</p>
 <p data-pid="2ee5aeqW">没两天，用户又发现了程序的问题。那就是在一个迭代周期内，本来应该进入同一个网格，触发碰撞判定的两个粒子，因为速度太大，直接跳过了该网格而进入了下一个不发生碰撞的网格。导致两个粒子穿过了彼此，而不是发生碰撞。</p>
 <p data-pid="lqkU6DI8">程序员只好硬着头皮去找数学老师。数学老师丢给程序员一本书，洛伦兹变换。</p>
 <p data-pid="xo-7SDQI">程序员自学了洛伦兹变换，领悟到，只要将粒子的速度和质量联系起来，使得粒子在一个迭代周期里，运动距离不能超过一个格子，这样就避免了碰撞穿透的问题。</p>
 <p data-pid="K5WkQOLy">程序员提交了万有引力0.31版，修复了碰撞穿透的问题。</p>
 <p data-pid="QkDtafsz">这个版本受到了用户的一致好评。到此，一个模拟天体运动的模拟器基本完成。场和物质的运动速度的上限存在是因为，数值求解微分方程存在时间(迭代步长)最小单位，粒子数和计算量之间需要用有限元方法来妥协，导致最后在一个时间单位内，物质和场运动不能超过一个空间网格。这就是后来老板让更新的电磁作用模型遵守的时空结构，也就是为什么光速是这么一个值。</p>
 <p data-pid="qXYDCQ6I">后来，老板提出要加入基本粒子模型，原子和原子核，电磁相互作用，而且必须兼容之前的架构，导致模拟器到现在还有一些问题还没来得及完善，这都是后话。</p>
</body>
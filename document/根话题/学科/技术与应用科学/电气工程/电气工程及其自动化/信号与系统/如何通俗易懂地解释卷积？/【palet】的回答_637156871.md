# 如何通俗易懂地解释卷积？
- 点赞数：15059
- 更新时间：2019年12月20日19时35分40秒
- 回答url：https://www.zhihu.com/question/22298352/answer/637156871
<body>
 <h2>对卷积的困惑</h2>
 <p data-pid="_tuQIAsP">卷积这个概念，很早以前就学过，但是一直没有搞懂。教科书上通常会给出定义，给出很多性质，也会用实例和图形进行解释，但究竟为什么要这么设计，这么计算，背后的意义是什么，往往语焉不详。作为一个学物理出身的人，一个公式倘若倘若给不出结合实际的直观的通俗的解释（也就是背后的“物理”意义），就觉得少了点什么，觉得不是真的懂了。</p>
 <p data-pid="jHMcbgBO">教科书上一般定义函数 <img src="https://www.zhihu.com/equation?tex=f%2Cg" alt="f,g" eeimg="1"> ​的卷积 <img src="https://www.zhihu.com/equation?tex=f%2Ag%28n%29" alt="f*g(n)" eeimg="1"> ​如下：</p>
 <p data-pid="yi_vCtg_">连续形式：​</p>
 <p data-pid="hAoueYMo"><img src="https://www.zhihu.com/equation?tex=%28f%2Ag%29%28n%29%3D%5Cint_%7B-%5Cinfty+%7D%5E%7B%5Cinfty%7Df%28%5Ctau+%29g%28n-%5Ctau%29d%5Ctau" alt="(f*g)(n)=\int_{-\infty }^{\infty}f(\tau )g(n-\tau)d\tau" eeimg="1"></p>
 <p data-pid="er4lYvdF">​​离散形式：​</p>
 <p data-pid="KVpqbchT"><img src="https://www.zhihu.com/equation?tex=%28f%2Ag%29%28n%29%3D%5Csum_%7B%5Ctau%3D-%5Cinfty+%7D%5E%7B%5Cinfty%7Df%28%5Ctau%29g%28n-%5Ctau%29" alt="(f*g)(n)=\sum_{\tau=-\infty }^{\infty}f(\tau)g(n-\tau)" eeimg="1"></p>
 <p data-pid="Ak1aWSn4">​并且也解释了，先对g函数进行翻转，相当于在数轴上把g函数从右边褶到左边去，也就是卷积的“卷”的由来。</p>
 <p data-pid="Ul5Z81jS">然后再把g函数平移到n，在这个位置对两个函数的对应点相乘，然后相加，这个过程是卷积的“积”的过程。</p>
 <p data-pid="CTQ1Ex7C">这个只是从计算的方式上对公式进行了解释，从数学上讲无可挑剔，但进一步追问，为什么要先翻转再平移，这么设计有何用意？还是有点费解。</p>
 <p data-pid="KwPPnSHu">在知乎，已经很多的热心网友对卷积举了很多形象的例子进行了解释，如卷地毯、丢骰子、打耳光、存钱等等。读完觉得非常生动有趣，但过细想想，还是感觉有些地方还是没解释清楚，甚至可能还有瑕疵，或者还可以改进（这些后面我会做一些分析）。</p>
 <p data-pid="b6tsBU5s">带着问题想了两个晚上，终于觉得有些问题想通了，所以就写出来跟网友分享，共同学习提高。不对的地方欢迎评论拍砖。。。</p>
 <p data-pid="StFRQ0Ln">明确一下，这篇文章主要想解释两个问题：</p>
 <p data-pid="C7pnAVWe">1. 卷积这个名词是怎么解释？“卷”是什么意思？“积”又是什么意思？</p>
 <p data-pid="7Nvh6jes">2. 卷积背后的意义是什么，该如何解释？</p>
 <h2>考虑的应用场景</h2>
 <p data-pid="Rjv_vvOk">为了更好地理解这些问题，我们先给出两个典型的应用场景：</p>
 <p data-pid="cPX5Uyqy">1. 信号分析</p>
 <p data-pid="LhNztR6v">一个输入信号<i>f(t)</i>，经过一个线性系统（其特征可以用单位冲击响应函数<i>g(t)</i>描述）以后，输出信号应该是什么？实际上通过卷积运算就可以得到输出信号。</p>
 <p data-pid="cgBel9HD">2. 图像处理</p>
 <p data-pid="CJMZGsZn">输入一幅图像<i>f(x,y)</i>，经过特定设计的卷积核<i>g(x,y)</i>进行卷积处理以后，输出图像将会得到模糊，边缘强化等各种效果。</p>
 <h3>对卷积的理解</h3>
 <p data-pid="BD-cF1Ad">对卷积这个名词的理解：<b>所谓两个函数的卷积，本质上就是先将一个函数翻转，然后进行滑动叠加。</b></p>
 <p data-pid="7DwT7vF8">在连续情况下，叠加指的是对两个函数的乘积求积分，在离散情况下就是加权求和，为简单起见就统一称为叠加。</p>
 <p data-pid="d6HSXqwF">整体看来是这么个过程：</p>
 <p data-pid="Trsk1ckF">翻转——&gt;滑动——&gt;叠加——&gt;滑动——&gt;叠加——&gt;滑动——&gt;叠加.....</p>
 <p data-pid="oweITjj5">多次滑动得到的一系列叠加值，构成了卷积函数。</p>
 <p data-pid="gBt5qZb1">卷积的“卷”，指的的函数的翻转，从 <i>g(t) </i>变成 <i>g(-t) </i>的这个过程；同时，“卷”还有滑动的意味在里面（吸取了网友<a href="https://www.zhihu.com/people/li-wen-qing-25-49" class="internal">李文清</a>的建议）。如果把卷积翻译为“褶积”，那么这个“褶”字就只有翻转的含义了。</p>
 <p data-pid="M0HZG1fN">卷积的“积”，指的是积分/加权求和。</p>
 <p data-pid="EZyuIffA">有些文章只强调滑动叠加求和，而没有说函数的翻转，我觉得是不全面的；有的文章对“卷”的理解其实是“积”，我觉得是张冠李戴。</p>
 <p data-pid="xEfqy5DN">对卷积的意义的理解：</p>
 <p data-pid="eTMHApd_">1. 从“积”的过程可以看到，我们得到的叠加值，是个全局的概念。以信号分析为例，卷积的结果是不仅跟当前时刻输入信号的响应值有关，也跟过去所有时刻输入信号的响应都有关系，考虑了对过去的所有输入的效果的累积。在图像处理的中，卷积处理的结果，其实就是把每个像素周边的，甚至是整个图像的像素都考虑进来，对当前像素进行某种加权处理。所以说，“积”是全局概念，或者说是一种“混合”，把两个函数在时间或者空间上进行混合。</p>
 <p data-pid="bZQeOPJb">2. 那为什么要进行“卷”？直接相乘不好吗？我的理解，进行“卷”（翻转）的目的其实是施加一种约束，它指定了在“积”的时候以什么为参照。在信号分析的场景，它指定了在哪个特定时间点的前后进行“积”，在空间分析的场景，它指定了在哪个位置的周边进行累积处理。</p>
 <h2>举例说明</h2>
 <p data-pid="Pj46LhAs">下面举几个例子说明为什么要翻转，以及叠加求和的意义。</p>
 <h3>例1：信号分析</h3>
 <p data-pid="Xoxb1FgZ">如下图所示，输入信号是<i> f(t) </i>，是随时间变化的。系统响应函数是 <i>g(t) </i>，图中的响应函数是随时间指数下降的，它的物理意义是说：如果在 <i>t</i>=0 的时刻有一个输入，那么随着时间的流逝，这个输入将不断衰减。换言之，到了 <i>t</i>=T时刻，原来在 <i>t</i>=0 时刻的输入<i>f</i>(0)的值将衰减为<i>f</i>(0)<i>g</i>(T)。</p>
 <p data-pid="kqRedg5B">​</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-59c8bcf17c24119810ad3071b960f1ba_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1149" data-rawheight="613" data-original-token="v2-80a2f66a55d558b48ab1b1b209de61fb" data-default-watermark-src="https://picx.zhimg.com/50/v2-b21f4f6e470ab585dd6a62677897a79e_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1149" data-original="https://pic1.zhimg.com/v2-59c8bcf17c24119810ad3071b960f1ba_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="0RiihM7F">​​考虑到信号是连续输入的，也就是说，每个时刻都有新的信号进来，所以，最终输出的是所有之前输入信号的累积效果。如下图所示，在T=10时刻，输出结果跟图中带标记的区域整体有关。其中，f(10)因为是刚输入的，所以其输出结果应该是f(10)g(0)，而时刻t=9的输入f(9)，只经过了1个时间单位的衰减，所以产生的输出应该是 f(9)g(1)，如此类推，即图中虚线所描述的关系。这些对应点相乘然后累加，就是T=10时刻的输出信号值，这个结果也是f和g两个函数在T=10时刻的卷积值。</p>
 <p data-pid="CqdNpGFl">​</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-de38ad49f9a1c99dafcc5d0a7fcac2ef_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1355" data-rawheight="765" data-original-token="v2-fa2c8811a8c93536534775584d75c7fa" data-default-watermark-src="https://picx.zhimg.com/50/v2-d819315b37ec016dbe9d8d87405aca43_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1355" data-original="https://pic1.zhimg.com/v2-de38ad49f9a1c99dafcc5d0a7fcac2ef_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="rqrVUmjN">​​显然，上面的对应关系看上去比较难看，是拧着的，所以，我们把g函数对折一下，变成了g(-t)，这样就好看一些了。看到了吗？这就是为什么卷积要“卷”，要翻转的原因，这是从它的物理意义中给出的。</p>
 <p data-pid="JdV2XAGG">​</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-5d5ca564c8f0eaba9cd9865a9c944fbb_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1519" data-rawheight="625" data-original-token="v2-21fd2a6204955c8aab1a53085d88540e" data-default-watermark-src="https://picx.zhimg.com/50/v2-672f00dafc4db198d997ff4820f6e121_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1519" data-original="https://picx.zhimg.com/v2-5d5ca564c8f0eaba9cd9865a9c944fbb_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="7_-x0IUG">​​上图虽然没有拧着，已经顺过来了，但看上去还有点错位，所以再进一步平移T个单位，就是下图。它就是本文开始给出的卷积定义的一种图形的表述：</p>
 <p data-pid="KLfTqwye">​</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-847a8d7c444508862868fa27f2b4c129_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1337" data-rawheight="617" data-original-token="v2-649ad5b4af0fe37396159f60bb9e1e6c" data-default-watermark-src="https://picx.zhimg.com/50/v2-3be63a5d8773d60194ac31757ef71712_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1337" data-original="https://picx.zhimg.com/v2-847a8d7c444508862868fa27f2b4c129_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="abGMXTUW">​​所以，在以上计算T时刻的卷积时，要维持的约束就是： <i>t+ (T-t) = T</i> 。这种约束的意义，大家可以自己体会。</p>
 <h3>例2：丢骰子</h3>
 <p data-pid="vrOu7VEf">在本问题 <a href="https://www.zhihu.com/question/22298352/answer/228543288" class="internal">如何通俗易懂地解释卷积</a>？中排名第一的 <a href="https://www.zhihu.com/people/matongxue" class="internal">马同学</a>在中举了一个很好的例子（下面的一些图摘自马同学的文章，在此表示感谢），用丢骰子说明了卷积的应用。</p>
 <p data-pid="sOLJdztn">要解决的问题是：有两枚骰子，把它们都抛出去，两枚骰子点数加起来为4的概率是多少?</p>
 <p data-pid="lrvzWMMi">​</p>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-a5238ad7dfccc0f2645e1c34c10a19c9_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="720" data-rawheight="393" data-original-token="v2-747019ff4cc15b828101708f2c5392aa" data-default-watermark-src="https://pica.zhimg.com/50/v2-923f249785230a40b63681aeebd79056_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="720" data-original="https://picx.zhimg.com/v2-a5238ad7dfccc0f2645e1c34c10a19c9_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="Gg0ybbsY">​​分析一下，两枚骰子点数加起来为4的情况有三种情况：1+3=4， 2+2=4, 3+1=4</p>
 <p data-pid="s8wG1A57">因此，两枚骰子点数加起来为4的概率为：</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-e5a05d465fc32d4e880f7d77e811fb7e_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="431" data-rawheight="60" data-original-token="v2-e5a05d465fc32d4e880f7d77e811fb7e" class="origin_image zh-lightbox-thumb" width="431" data-original="https://picx.zhimg.com/v2-e5a05d465fc32d4e880f7d77e811fb7e_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="xQT0xEr_">​​写成卷积的方式就是：​</p>
 <p data-pid="ZpWVRc60"><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+%28f%2Ag%29%284%29%3D%5Csum+_%7Bm%3D1%7D%5E%7B3%7Df%284-m%29g%28m%29%5C%5C" alt="\displaystyle (f*g)(4)=\sum _{m=1}^{3}f(4-m)g(m)\\" eeimg="1"></p>
 <p data-pid="gDUk4lFH">​​在这里我想进一步用上面的翻转滑动叠加的逻辑进行解释。</p>
 <p data-pid="CvoZX0bv">首先，因为两个骰子的点数和是4，为了满足这个约束条件，我们还是把函数 g 翻转一下，然后阴影区域上下对应的数相乘，然后累加，相当于求自变量为4的卷积值，如下图所示：</p>
 <p data-pid="11Onyo4G">​</p>
 <figure data-size="small">
  <img src="https://pica.zhimg.com/50/v2-c6d14a16dee215b2d6b9e020aefd2542_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="717" data-rawheight="287" data-original-token="v2-fcdd07bf4974065e01a15e3424c31bce" data-default-watermark-src="https://pic1.zhimg.com/50/v2-33d9b3388993330a6a3b07569531af0b_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="717" data-original="https://picx.zhimg.com/v2-c6d14a16dee215b2d6b9e020aefd2542_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="vqBgctGf">​​进一步，如此翻转以后，可以方便地进行推广去求两个骰子点数和为 <i>n </i>时的概率，为<i>f </i>和 <i>g</i>的卷积 <i>f*g(n)</i>，如下图所示：​</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-860cdc53a489be168e9a12845c7eadc4_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="445" data-rawheight="731" data-original-token="v2-4e6d7dc874abc577cc36d0a766af5b80" data-default-watermark-src="https://picx.zhimg.com/50/v2-de63c89afafd1f90829509c095774983_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="445" data-original="https://pica.zhimg.com/v2-860cdc53a489be168e9a12845c7eadc4_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="vSZR8vcA">​​由上图可以看到，函数 <i>g</i> 的滑动，带来的是点数和的增大。这个例子中对f和g的约束条件就是点数和，它也是卷积函数的自变量。有兴趣还可以算算，如果骰子的每个点数出现的概率是均等的，那么两个骰子的点数和n=7的时候，概率最大。</p>
 <h3>例3：图像处理</h3>
 <p data-pid="fg1epNKV">还是引用知乎问题 <a href="https://www.zhihu.com/question/22298352/answer/228543288" class="internal">如何通俗易懂地解释卷积</a>？中 <a href="https://www.zhihu.com/people/matongxue" class="internal">马同学</a>的例子。图像可以表示为矩阵形式（下图摘自马同学的文章）：</p>
 <p data-pid="yzVR74Nk">​</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-8dd14775ab8c91a09507f52e44f347f3_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-original-token="v2-8dd14775ab8c91a09507f52e44f347f3" class="content_image">
 </figure>
 <p data-pid="T6t2xJr9">对图像的处理函数（如平滑，或者边缘提取），也可以用一个g矩阵来表示，如：</p>
 <p data-pid="0A7A8vsL"><img src="https://www.zhihu.com/equation?tex=g%3D%5Cbegin%7Bbmatrix%7D+%26b_%7B-1%2C-1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C1%7D%5C%5C+%26b_%7B0%2C-1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C1%7D+%5C%5C+%26b_%7B1%2C-1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C1%7D+%5Cend%7Bbmatrix%7D" alt="g=\begin{bmatrix} &amp;b_{-1,-1} &amp;b_{-1,0} &amp;b_{-1,1}\\ &amp;b_{0,-1} &amp;b_{0,0} &amp;b_{0,1} \\ &amp;b_{1,-1} &amp;b_{1,0} &amp;b_{1,1} \end{bmatrix}" eeimg="1"></p>
 <p data-pid="-d7rFgXc">注意，我们在处理平面空间的问题，已经是二维函数了，相当于：</p>
 <p data-pid="bhV60Dmk"><img src="https://www.zhihu.com/equation?tex=f%28x%2Cy%29%3Da_%7Bx%2Cy%7D+++++" alt="f(x,y)=a_{x,y}     " eeimg="1"></p>
 <p data-pid="MiJUGF6Z"><img src="https://www.zhihu.com/equation?tex=g%28x%2Cy%29%3Db_%7Bx%2Cy%7D" alt="g(x,y)=b_{x,y}" eeimg="1"></p>
 <p data-pid="CAiyiCjP">那么函数f和g的在（u，v）处的卷积 <img src="https://www.zhihu.com/equation?tex=f%2Ag%28u%2Cv%29" alt="f*g(u,v)" eeimg="1"> 该如何计算呢？</p>
 <p data-pid="thSr8myj">按卷积的定义，二维离散形式的卷积公式应该是：</p>
 <p data-pid="cRUnJA-_"><img src="https://www.zhihu.com/equation?tex=%28f+%2A+g%29%28u%2C+v%29%3D%5Csum_%7Bi%7D+%5Csum_%7Bj%7D+f%28i%2C+j%29g%28u-i%2C+v-j%29%3D%5Csum_%7Bi%7D+%5Csum_%7Bj%7D+a_%7Bi%2Cj%7D+b_%7Bu-i%2Cv-j%7D+" alt="(f * g)(u, v)=\sum_{i} \sum_{j} f(i, j)g(u-i, v-j)=\sum_{i} \sum_{j} a_{i,j} b_{u-i,v-j} " eeimg="1"></p>
 <p data-pid="F_BHEvQk">从卷积定义来看，应该是在x和y两个方向去累加（对应上面离散公式中的i和j两个下标），而且是无界的，从负无穷到正无穷。可是，真实世界都是有界的。例如，上面列举的图像处理函数g实际上是个3x3的矩阵，意味着，在除了原点附近以外，其它所有点的取值都为0。考虑到这个因素，上面的公式其实退化了，它只把坐标（u,v）附近的点选择出来做计算了。所以，真正的计算如下所示：</p>
 <p data-pid="fenrYmrW">​</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-29b46dc4d83fb10239888227fceac1a3_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1303" data-rawheight="559" data-original-token="v2-cd8e6a9ac0e7927f10905843279b7525" data-default-watermark-src="https://pica.zhimg.com/50/v2-56e6fd9db1af100b5f47a8f74d0e729b_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1303" data-original="https://picx.zhimg.com/v2-29b46dc4d83fb10239888227fceac1a3_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="Ex3t5Yyb">​​首先我们在原始图像矩阵中取出（u,v）处的矩阵：</p>
 <p data-pid="GLKd9uuI"><img src="https://www.zhihu.com/equation?tex=f%3D%5Cbegin%7Bbmatrix%7D+%26a_%7Bu-1%2Cv-1%7D+%26a_%7Bu-1%2Cv%7D+%26a_%7Bu-1%2Cv%2B1%7D%5C%5C+%26a_%7Bu%2Cv-1%7D+%26a_%7Bu%2Cv%7D+%26a_%7Bu%2Cv%2B1%7D+%5C%5C+%26a_%7Bu%2B1%2Cv-1%7D+%26a_%7Bu%2B1%2Cv%7D+%26a_%7Bu%2B1%2Cv%2B1%7D+%5Cend%7Bbmatrix%7D" alt="f=\begin{bmatrix} &amp;a_{u-1,v-1} &amp;a_{u-1,v} &amp;a_{u-1,v+1}\\ &amp;a_{u,v-1} &amp;a_{u,v} &amp;a_{u,v+1} \\ &amp;a_{u+1,v-1} &amp;a_{u+1,v} &amp;a_{u+1,v+1} \end{bmatrix}" eeimg="1"></p>
 <p data-pid="p2PbRsKL">然后将图像处理矩阵翻转（这个翻转有点意思，可以有几种不同的理解，其效果是等效的：（1）先沿x轴翻转，再沿y轴翻转；（2）先沿x轴翻转，再沿y轴翻转；），如下：</p>
 <p data-pid="aJ3-mtFq">原始矩阵：</p>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-6904fa21bf262e735a41159796534dfd_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="746" data-rawheight="301" data-original-token="v2-c6101dab991c6a617acca8139e8f33bc" data-default-watermark-src="https://picx.zhimg.com/50/v2-641108464df08e9dc5e1ded1f9e60f12_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="746" data-original="https://pic1.zhimg.com/v2-6904fa21bf262e735a41159796534dfd_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="0rGq98_E">翻转后的矩阵： <img src="https://www.zhihu.com/equation?tex=g%5E%7B%27%7D%3D%5Cbegin%7Bbmatrix%7D+%26b_%7B1%2C1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C-1%7D%5C%5C+%26b_%7B0%2C1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C-1%7D+%5C%5C+%26b_%7B-1%2C1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C-1%7D+%5Cend%7Bbmatrix%7D" alt="g^{'}=\begin{bmatrix} &amp;b_{1,1} &amp;b_{1,0} &amp;b_{1,-1}\\ &amp;b_{0,1} &amp;b_{0,0} &amp;b_{0,-1} \\ &amp;b_{-1,1} &amp;b_{-1,0} &amp;b_{-1,-1} \end{bmatrix}" eeimg="1"></p>
 <p data-pid="XtsLifVm">（1）先沿x轴翻转，再沿y轴翻转</p>
 <p data-pid="xvwK4HgZ"><img src="https://www.zhihu.com/equation?tex=g%3D%5Cbegin%7Bbmatrix%7D+%26b_%7B-1%2C-1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C1%7D%5C%5C+%26b_%7B0%2C-1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C1%7D+%5C%5C+%26b_%7B1%2C-1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C1%7D+%5Cend%7Bbmatrix%7D%3D%3E%5Cbegin%7Bbmatrix%7D+%26b_%7B1%2C-1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C1%7D%5C%5C+%26b_%7B0%2C-1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C1%7D+%5C%5C+%26b_%7B-1%2C-1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C1%7D+%5Cend%7Bbmatrix%7D%3D%3E%5Cbegin%7Bbmatrix%7D+%26b_%7B1%2C1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C-1%7D%5C%5C+%26b_%7B0%2C1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C-1%7D+%5C%5C+%26b_%7B-1%2C1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C-1%7D+%5Cend%7Bbmatrix%7D%3Dg%5E%7B%27%7D" alt="g=\begin{bmatrix} &amp;b_{-1,-1} &amp;b_{-1,0} &amp;b_{-1,1}\\ &amp;b_{0,-1} &amp;b_{0,0} &amp;b_{0,1} \\ &amp;b_{1,-1} &amp;b_{1,0} &amp;b_{1,1} \end{bmatrix}=>\begin{bmatrix} &amp;b_{1,-1} &amp;b_{1,0} &amp;b_{1,1}\\ &amp;b_{0,-1} &amp;b_{0,0} &amp;b_{0,1} \\ &amp;b_{-1,-1} &amp;b_{-1,0} &amp;b_{-1,1} \end{bmatrix}=>\begin{bmatrix} &amp;b_{1,1} &amp;b_{1,0} &amp;b_{1,-1}\\ &amp;b_{0,1} &amp;b_{0,0} &amp;b_{0,-1} \\ &amp;b_{-1,1} &amp;b_{-1,0} &amp;b_{-1,-1} \end{bmatrix}=g^{'}" eeimg="1"></p>
 <p data-pid="XJ5W5idR">（2）先沿y轴翻转，再沿x轴翻转</p>
 <p data-pid="7eWm_Ah2"><img src="https://www.zhihu.com/equation?tex=g%3D%5Cbegin%7Bbmatrix%7D+%26b_%7B-1%2C-1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C1%7D%5C%5C+%26b_%7B0%2C-1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C1%7D+%5C%5C+%26b_%7B1%2C-1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C1%7D+%5Cend%7Bbmatrix%7D%3D%3E%5Cbegin%7Bbmatrix%7D+%26b_%7B-1%2C1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C-1%7D%5C%5C+%26b_%7B0%2C1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C-1%7D+%5C%5C+%26b_%7B1%2C1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C-1%7D+%5Cend%7Bbmatrix%7D%3D%3E%5Cbegin%7Bbmatrix%7D+%26b_%7B1%2C1%7D+%26b_%7B1%2C0%7D+%26b_%7B1%2C-1%7D%5C%5C+%26b_%7B0%2C1%7D+%26b_%7B0%2C0%7D+%26b_%7B0%2C-1%7D+%5C%5C+%26b_%7B-1%2C1%7D+%26b_%7B-1%2C0%7D+%26b_%7B-1%2C-1%7D+%5Cend%7Bbmatrix%7D%3Dg%5E%7B%27%7D" alt="g=\begin{bmatrix} &amp;b_{-1,-1} &amp;b_{-1,0} &amp;b_{-1,1}\\ &amp;b_{0,-1} &amp;b_{0,0} &amp;b_{0,1} \\ &amp;b_{1,-1} &amp;b_{1,0} &amp;b_{1,1} \end{bmatrix}=>\begin{bmatrix} &amp;b_{-1,1} &amp;b_{-1,0} &amp;b_{-1,-1}\\ &amp;b_{0,1} &amp;b_{0,0} &amp;b_{0,-1} \\ &amp;b_{1,1} &amp;b_{1,0} &amp;b_{1,-1} \end{bmatrix}=>\begin{bmatrix} &amp;b_{1,1} &amp;b_{1,0} &amp;b_{1,-1}\\ &amp;b_{0,1} &amp;b_{0,0} &amp;b_{0,-1} \\ &amp;b_{-1,1} &amp;b_{-1,0} &amp;b_{-1,-1} \end{bmatrix}=g^{'}" eeimg="1"></p>
 <p data-pid="7LsnFruf">计算卷积时，就可以用 <img src="https://www.zhihu.com/equation?tex=f" alt="f" eeimg="1"> 和 <img src="https://www.zhihu.com/equation?tex=g%5E%7B%27%7D" alt="g^{'}" eeimg="1"> 的内积：</p>
 <p data-pid="OfZ8CCpS"><img src="https://www.zhihu.com/equation?tex=f%2Ag%28u%2Cv%29%3Da_%7Bu-1%2Cv-1%7D+%5Ctimes+b_%7B1%2C1%7D+%2B+a_%7Bu-1%2Cv%7D+%5Ctimes+b_%7B1%2C0%7D+%2Ba_%7Bu-1%2Cv%2B1%7D+%5Ctimes+b_%7B1%2C-1%7D+" alt="f*g(u,v)=a_{u-1,v-1} \times b_{1,1} + a_{u-1,v} \times b_{1,0} +a_{u-1,v+1} \times b_{1,-1} " eeimg="1"></p>
 <p data-pid="pkrWi4Oh"><img src="https://www.zhihu.com/equation?tex=+%2B+a_%7Bu%2Cv-1%7D+%5Ctimes+b_%7B0%2C1%7D+%2B+a_%7Bu%2Cv%7D+%5Ctimes+b_%7B0%2C0%7D+%2B+a_%7Bu%2Cv%2B1%7D+%5Ctimes+b_%7B0%2C-1%7D" alt=" + a_{u,v-1} \times b_{0,1} + a_{u,v} \times b_{0,0} + a_{u,v+1} \times b_{0,-1}" eeimg="1"></p>
 <p data-pid="IZ3ofpFL"><img src="https://www.zhihu.com/equation?tex=+%2B+a_%7Bu%2B1%2Cv-1%7D+%5Ctimes+b_%7B-1%2C1%7D+%2B+a_%7Bu%2B1%2Cv%7D+%5Ctimes+b_%7B-1%2C0%7D+%2B+a_%7Bu%2B1%2Cv%2B1%7D+%5Ctimes+b_%7B-1%2C-1%7D" alt=" + a_{u+1,v-1} \times b_{-1,1} + a_{u+1,v} \times b_{-1,0} + a_{u+1,v+1} \times b_{-1,-1}" eeimg="1"></p>
 <p data-pid="NE_w0V35">请注意，以上公式有一个特点，做乘法的两个对应变量a,b的下标之和都是（u,v），其目的是对这种加权求和进行一种约束。这也是为什么要将矩阵g进行翻转的原因。以上矩阵下标之所以那么写，并且进行了翻转，是为了让大家更清楚地看到跟卷积的关系。这样做的好处是便于推广，也便于理解其物理意义。实际在计算的时候，都是用翻转以后的矩阵，直接求矩阵内积就可以了。</p>
 <p data-pid="YSkYqWa3">以上计算的是（u,v）处的卷积，延x轴或者y轴滑动，就可以求出图像中各个位置的卷积，其输出结果是处理以后的图像（即经过平滑、边缘提取等各种处理的图像）。</p>
 <p data-pid="_y9ZJRGG">再深入思考一下，在算图像卷积的时候，我们是直接在原始图像矩阵中取了（u,v）处的矩阵，为什么要取这个位置的矩阵，本质上其实是为了满足以上的约束。因为我们要算（u，v）处的卷积，而g矩阵是3x3的矩阵，要满足下标跟这个3x3矩阵的和是（u,v），只能是取原始图像中以（u，v）为中心的这个3x3矩阵，即图中的阴影区域的矩阵。</p>
 <p data-pid="TasQ6BCh">推而广之，如果如果g矩阵不是3x3，而是7x7，那我们就要在原始图像中取以（u，v）为中心的7x7矩阵进行计算。由此可见，这种卷积就是把原始图像中的相邻像素都考虑进来，进行混合。相邻的区域范围取决于g矩阵的维度，维度越大，涉及的周边像素越多。而矩阵的设计，则决定了这种混合输出的图像跟原始图像比，究竟是模糊了，还是更锐利了。</p>
 <p data-pid="H4YsTEYw">比如说，如下图像处理矩阵将使得图像变得更为平滑，显得更模糊，因为它联合周边像素进行了平均处理：</p>
 <p data-pid="zDVJKGSl"><img src="https://www.zhihu.com/equation?tex=g%3D%5Cbegin%7Bbmatrix%7D+%26%5Cfrac%7B1%7D%7B9%7D+%26%5Cfrac%7B1%7D%7B9%7D+%26%5Cfrac%7B1%7D%7B9%7D%5C%5C+%26%5Cfrac%7B1%7D%7B9%7D+%26%5Cfrac%7B1%7D%7B9%7D+%26%5Cfrac%7B1%7D%7B9%7D+%5C%5C+%26%5Cfrac%7B1%7D%7B9%7D+%26%5Cfrac%7B1%7D%7B9%7D+%26%5Cfrac%7B1%7D%7B9%7D+%5Cend%7Bbmatrix%7D" alt="g=\begin{bmatrix} &amp;\frac{1}{9} &amp;\frac{1}{9} &amp;\frac{1}{9}\\ &amp;\frac{1}{9} &amp;\frac{1}{9} &amp;\frac{1}{9} \\ &amp;\frac{1}{9} &amp;\frac{1}{9} &amp;\frac{1}{9} \end{bmatrix}" eeimg="1"></p>
 <p data-pid="uhxxWbFs">而如下图像处理矩阵将使得像素值变化明显的地方更为明显，强化边缘，而变化平缓的地方没有影响，达到提取边缘的目的：</p>
 <p data-pid="digXiJX-"><img src="https://www.zhihu.com/equation?tex=g%3D%5Cbegin%7Bbmatrix%7D+%26-1+%26-1+%26-1%5C%5C+%26-1+%269+%26-1+%5C%5C+%26-1+%26-1+%26-1+%5Cend%7Bbmatrix%7D" alt="g=\begin{bmatrix} &amp;-1 &amp;-1 &amp;-1\\ &amp;-1 &amp;9 &amp;-1 \\ &amp;-1 &amp;-1 &amp;-1 \end{bmatrix}" eeimg="1"></p>
 <h2>对一些解释的不同意见</h2>
 <p data-pid="6sIijmnu">上面一些对卷积的形象解释，如知乎问题<a href="https://www.zhihu.com/question/54677157" class="internal">卷积为什么叫「卷」积？</a>中 <a href="https://www.zhihu.com/people/jing-zhe-511" class="internal">荆哲</a> ，以及问题 <a href="https://www.zhihu.com/question/22298352/answer/228543288" class="internal">如何通俗易懂地解释卷积</a>？中 <a href="https://www.zhihu.com/people/matongxue" class="internal">马同学</a> 等人提出的如下比喻：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-fd98e1ae48d582b127853ea3832f329c_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="935" data-rawheight="357" data-original-token="v2-290e14274a83f288abc3b75fa4bec60b" data-default-watermark-src="https://picx.zhimg.com/50/v2-ae9797dd6eac9118d68425375b5d8f46_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="935" data-original="https://pic1.zhimg.com/v2-fd98e1ae48d582b127853ea3832f329c_r.jpg?source=1940ef5c">
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-bc4ae0b5fbf526796f5c204ed71018cc_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1128" data-rawheight="399" data-original-token="v2-9f7da14687f4b682f6b4e0c64c267c9c" data-default-watermark-src="https://pic1.zhimg.com/50/v2-542350e8d081b6c9b9f1b47ecf58d4cd_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1128" data-original="https://picx.zhimg.com/v2-bc4ae0b5fbf526796f5c204ed71018cc_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="GUOahUbP">​​其实图中“卷”的方向，是沿该方向进行积分求和的方向，并无翻转之意。因此，这种解释，并没有完整描述卷积的含义，对“卷”的理解值得商榷。</p>
 <h2>一些参考资料</h2>
 <p data-pid="kNJnX6uP">《数字信号处理（第二版）》程乾生，北京大学出版社</p>
 <p data-pid="g9k1BpS1">《信号与系统引论》 郑君里，应启珩，杨为理，高等教育出版社</p>
</body>
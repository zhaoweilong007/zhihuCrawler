# 学计算机的你有什么理想？
- 点赞数：6090
- 更新时间：2021年10月31日09时49分40秒
- 回答url：https://www.zhihu.com/question/418579933/answer/1535385614
<body>
 <p data-pid="QEz3rrIn">理想是多么昂贵的一个词啊。</p>
 <p data-pid="J2JOusgv">读大学期间，有一年寒假回家的火车上，我和对面一个三十多岁的中年人聊天，聊到理想，他说：”只有你们年轻人还在谈理想，你到了我这个年龄，就知道理想这种东西没有生活来得实在。“我无言以对，因为我也不能确定到了中年，我自己会不会也变成一个忘记了自己的理想的人。</p>
 <p data-pid="rdlhcQpC">十五年过去了，我成了那个油腻中年，现在扪心自问：你还有理想吗？</p>
 <p data-pid="0ihW-VIG">我皱着眉头，觉得难以回答。仔细回顾着这十几年的历程，我自己并不敢确定。思绪随着回忆飘到十二年前。</p>
 <p data-pid="9P2H13-n">2008年，我在人大金仓工作。人大金仓是从事国产数据库开发的，它使用的内核是PostgreSQL，本质上说，商用的Kingbase（金仓的产品）是PostgreSQL的发行版。但是当时，我们羞于提到基于开源的二次开发——主要是对开源软件的玩法还不理解，没有正确地认识到维护一个发行版的技术难度和商业价值，所以在很多场合下会声称是纯自研的。当然自研替换也一直在做，那是后话了。</p>
 <p data-pid="zE4UdBkE">在金仓的时候，一个月3000块钱，只能住在唐家岭的类似地下室的小单间里，每个月房租450，为了省钱，没舍得租带空调的屋子。现在回想，生活是很苦的，但是那一段时间非常开心。我经常自己学习开源软件的代码，把derby, mysql, postgre对比着看。其中，学习时间最长，对我影响最大的，其实还是mysql。那会儿为了学习mysql，经常会熬夜到很晚。</p>
 <p data-pid="IqlrKP1H">记得有一次，我在公司看B+树代码。从上学的时候，就一直对B+树的很多设计很不明白，直到看到了mysql中的B+树索引，并且使用gdb一步步地调试它的代码，然后就恍然大悟。那种一下子想透了的感觉就像小说里写的打通了任督二脉，莫名地舒爽。当我下楼准备骑车回家的时候，已经是凌晨了，却发现车胎爆了。想象一下这个场景吧，一个年轻人，一文不名，还在为自己的房租和饭钱发愁，推着一辆爆了胎的自行车，大半夜默默地走在荒凉的北清路上，回到自己的半地下室。生活可能无法再惨淡一些了。但是这个年轻人的脸上不是沮丧懊恼冷漠麻木，而是洋溢着胜利的快乐，他心中有诗，眼里有光。</p>
 <p data-pid="G99CCPMn">从软件园到唐家岭的那一段路在2008年还是一片松树林场，春夜里北京的风吹动松林，生出阵阵松涛，那一晚的月亮很亮。“自古多情，不离我去者，唯清风与明月”我这样想着，又不由地想起郁达夫的《春风沉醉的晚上》，这才是真正的春风沉醉。孔子评价颜回”一箪食，一瓢饮，居陋巷，人不堪其忧，回也不改其乐“。基本上就是描述的我这种状态。</p>
 <p data-pid="p3x7NxBU">我有个中学同学在外企，一个月工资8K，一起吃饭的时候，他和我说：”你技术比我好，要不别在金仓了，来我们这里吧，我给你内推，肯定能进来的。”我拒绝掉了，因为我当时觉得操作系统，编译器，数据库这些基础软件，中国不能一直受制于人，虽然现在穷一点，苦一点，但为了我们这个国家能在基础软件领域的独立自强，我愿意贡献我的一腔热血。如果说有理想，那我觉得这肯定算是了。</p>
 <p data-pid="BSqBeffx">另一条线，2006年，我在中关村图书大厦淘到一本《自己动手写操作系统》，于渊写的，如获至宝，整个大三下学期和大三暑假就沉浸在自己写操作系统的快乐中（这也是为什么我的第一本书坚持要叫《自己动手写Python虚拟机》的根本原因，我在致敬偶像）。对于操作系统，我几乎是抱着和数据库同样的热情在投入。我用了半年时间入门，再用了两年时间用现代的编译器把linux0.11重写了一遍。在核高基项目中，金仓和红旗有合作项目，然后趁着这个机会，了解了现代操作系统的进展，我觉得我个人兴趣应该是在操作系统，但同时又感到我的理论基础不足，然后就决定去读个研，研究生毕业以后再加入红旗。</p>
 <p data-pid="MMvvqLfk">如果一切都按照我的设想发展的话，我应该考到清华大学计算机系软件所，但是最后因为各种变化，最后来到了计算机系媒体所。但我觉得既来之则安之，再说数字图像，信号处理，视频解压缩什么的也确实是我比较喜欢的东西。然后就开始了在清华大学三年的学习过程。我毕业的时候，2012年，计算机视觉正处在神经网络爆发的前夜，我没能赶上深度学习的时代，再加上，我一直觉得还是应该回到基础软件领域，所以找工作的时候，还是优先考虑基础软件开发的。但不幸的是，这时候的红旗已经进入破产清算阶段了。</p>
 <p data-pid="Z_fTIt_Z">突然有一种拔剑四顾心茫然的感觉。平台没了，但我还是要吃饭的，这时就选择加入网易去做游戏。我曾经犹豫过，是否还要坚持做基础软件，但转念一想，管他呢，反正基础软件就这样了，没戏了，没前途了，我一个人什么也改变不了，哪里给钱多就去哪里吧。然后我就在网易呆了三年，应该说这三年是比较痛苦的三年，因为我发现我只是比较喜欢玩游戏，但并不喜欢做游戏。做游戏和玩游戏还是有很大的区别的。这算是对背叛理想的一种惩罚吧。</p>
 <p data-pid="QrsD2Q-6">最终，我决定不再让收入成为我下一份工作的考量因素，我要重新回到基础软件领域。这一次我选择了编译器。在玩操作系统的时候，我看到尽管进程管理，内存管理什么的，是非常复杂的，但在CPU的限制之下，其实也没有什么特别能玩出花儿来的，反而是文件系统，如果踩进去了，真的是非常非常有意思。我这里主要是指的可执行文件格式，加载器，shell这些东西。而要搞清楚可执行文件格式，或者说要在自己的操作系统上支持自己的可执行文件格式，你就需要有自己的编译器和链接器。所以很多研究操作系统的人都会转去研究链接器然后进入到编译器这个领域。</p>
 <p data-pid="bX3k8MHQ">文件格式把我带到了编译器的门口，而在网易工作期间，叶劲锋的《游戏引擎架构》这本书对我的影响很大，在这本书的指引下，我对游戏引擎中的物理引擎，计算几何和Python虚拟机部分进行了深入的学习。最终我产生了去做编程语言虚拟机开发的想法。</p>
 <p data-pid="cGW2JcN0">换工作的时候，我同时拿到了华为和阿里的offer，阿里是做数据库开发，华为则是从事Java语言虚拟机的维护。按照当时的阿里股价计算，华为的纸面offer比阿里低大约50%吧。但我这一次决定跟随内心的理想，重新回到基础软件自主的道路上来。我记得打电话拒掉阿里offer的时候，阿里的HR以为我是用华为的offer来和他谈工资，但当我坦诚地说，华为的offer只有你们的一半，我就是想去做编译器，这是我的理想。电话那头沉默了一会，说：“难得这个世界上还有为了理想而奋斗的人，impressive, anyway, 真心祝你好运，希望我们未来还有合作的机会。”嗯，为了理想而奋斗，这句评价让我也一直铭记在心，一直很感谢这位HR的鼓励。</p>
 <p data-pid="QvXe3SSc">在华为的经历也谈不上一帆风顺，但是为了基础软件自主可控这个理想，坐冷板凳什么的，我根本不在乎，让我上我就上，让我下我就下，似乎为了理想没什么不能受的委屈。我想，这才是理想存在的意义。</p>
 <p data-pid="zhSSd16Y">回忆结束，看起来，我还是一个有理想的人，总还不是没有梦想的咸鱼一条。</p>
 <p data-pid="QRL182uS">路还长，但风光还好，拍拍行囊，为了梦想一直前行。不论前路多孤单，总有清风沉醉，明月皎然。</p>
 <p data-pid="ow0fBqHQ">========================================</p>
 <p data-pid="d2c0VTZm">在基础软件领域转了一圈，被人鼓动着能不能把最核心的知识总结下来。于是就上线了这个专栏：</p><a href="https://link.zhihu.com/?target=https%3A//time.geekbang.org/column/intro/100094901%3Ftab%3Dcatalog" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-0749be6a17e60e6045d4958510bd39b9_ipico.jpg" data-image-width="600" data-image-height="600" class=" wrap external" target="_blank" rel="nofollow noreferrer">编程高手必学的内存知识_内存_海纳_系统级程序员_系统开发_软件开发_操作系统_进程_CPU_硬件_修炼内功_垃圾回收_cache_链接_内存管理_内存模型_编译器-极客时间</a>
 <p data-pid="B_s9dD4Q">如果你喜欢底层软件开发，想研究底层知识，可以关注一下。</p>
</body>
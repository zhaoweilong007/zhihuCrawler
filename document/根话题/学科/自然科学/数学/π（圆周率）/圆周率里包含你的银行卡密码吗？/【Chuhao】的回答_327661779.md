# 圆周率里包含你的银行卡密码吗？
- 点赞数：20966
- 更新时间：2018年09月26日15时03分15秒
- 回答url：https://www.zhihu.com/question/23419402/answer/327661779
<body>
 <p data-pid="2o9qVeSt">这个问题挺有意思，非数学专业，就从计算机的角度分析一下这个问题吧。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="qJuQq85t">-----我是条分割线-----</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="OcuDHznx">为了分析这个问题，我先用y-cruncher跑出了π的前10亿位，感觉应该够用！</p>
 <p data-pid="J5a6OBPA">不够用也没办法了，内存有限，而且跑程序时CPU占用率100%，风扇吹的我心慌。</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-135629bf7291a4b7016e204be4f0b200_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="472" data-rawheight="104" data-original-token="v2-135629bf7291a4b7016e204be4f0b200" class="origin_image zh-lightbox-thumb" width="472" data-original="https://picx.zhimg.com/v2-135629bf7291a4b7016e204be4f0b200_r.jpg?source=1940ef5c">
  <figcaption>
   让人无奈的占用率
  </figcaption>
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="AqQuW__e">计算前10亿位共用时190.515秒，数据以txt的格式保存，大小976.563MB。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="l5-nJgWl">下面开始我们的分析工作。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="nVcHH-DH">先简单的搜索一下，发现自己能想到的几个六位数字都出现了（包括我的银行卡密码）</p>
 <p data-pid="IPF_AKHX">举几个例子：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-b5618665501df450e5ed175e49c9d082_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="912" data-rawheight="607" data-original-token="v2-b5618665501df450e5ed175e49c9d082" class="origin_image zh-lightbox-thumb" width="912" data-original="https://picx.zhimg.com/v2-b5618665501df450e5ed175e49c9d082_r.jpg?source=1940ef5c">
  <figcaption>
   000000出现在小数点后第1,699,927位
  </figcaption>
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-a393e1fc3f2e67cc78c1edc0054dc59f_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="912" data-rawheight="607" data-original-token="v2-a393e1fc3f2e67cc78c1edc0054dc59f" class="origin_image zh-lightbox-thumb" width="912" data-original="https://picx.zhimg.com/v2-a393e1fc3f2e67cc78c1edc0054dc59f_r.jpg?source=1940ef5c">
  <figcaption>
   111111出现在小数点后第255,945位
  </figcaption>
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-ebe9e56f1caba6b7cc67a5a0f213b069_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="912" data-rawheight="607" data-original-token="v2-ebe9e56f1caba6b7cc67a5a0f213b069" class="origin_image zh-lightbox-thumb" width="912" data-original="https://picx.zhimg.com/v2-ebe9e56f1caba6b7cc67a5a0f213b069_r.jpg?source=1940ef5c">
  <figcaption>
   222222出现在小数点后第963,024位
  </figcaption>
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-f7ae6a7122fe98ae0c88c74dc2e51da3_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="912" data-rawheight="607" data-original-token="v2-f7ae6a7122fe98ae0c88c74dc2e51da3" class="origin_image zh-lightbox-thumb" width="912" data-original="https://picx.zhimg.com/v2-f7ae6a7122fe98ae0c88c74dc2e51da3_r.jpg?source=1940ef5c">
  <figcaption>
   123456出现在小数点后第2,458,885位
  </figcaption>
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="87V0ncC6"><b>注：每行有1024个字符，所以计算公式应为1024*（行数-1）+列数-2，其中2为开头的“3.”</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="lQt2Jxvs">但是不可能手动把000000~999999全验证一遍吧（虽然我今天很闲），还是要写个程序跑一下。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Xwxeeb9A"><b>不考虑复杂度问题的话，</b>代码很快就写完了,只有短短的14行。</p>
 <div class="highlight">
  <pre><code class="language-text">pwds = []
for num in range(1000000):
    pwds.append("0" * (6 - len(str(num))) + str(num))

with open("Pi-1000000000.txt","r")as f:
    pai=f.read()

#输出字符串的长度和π的前109位
print(len(pai),pai[0:110])
stat = []

for pwd in pwds:
    stat.append([pwd,pai.index(pwd)-1])
    if len(stat) % 1000 == 1:
        print(stat[-1])

with open("Pi-stat.txt","w")as f:
    for data in stat:
        f.write(data[0]+':'+str(data[1])+'\n')</code></pre>
 </div>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="n1QPypTy">因为我用的是index，<b>如果密码不存在的话，则会直接抛出异常。</b>但是我的直觉是000000~999999是都存在的（其实是我懒得多写代码了）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="vIAZzTkX">检索的速度大概是1000条/秒，接下来就是耐心的等待过程。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="IdwVaE2F">程序跑完了！不出所料，<b>所有的六位银行卡密码在π中都是存在的。</b></p>
 <p data-pid="SkBTGeK2">最后出现的密码是569540，位于小数点后14,118,307位.（10亿位有点过剩啊！）</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-dc0a499c84c4743ef0deaa18b3be262e_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="661" data-rawheight="607" data-original-token="v2-dc0a499c84c4743ef0deaa18b3be262e" class="origin_image zh-lightbox-thumb" width="661" data-original="https://picx.zhimg.com/v2-dc0a499c84c4743ef0deaa18b3be262e_r.jpg?source=1940ef5c">
  <figcaption>
   统计数据截图
  </figcaption>
 </figure>
 <p data-pid="7MgNYIXN">同时我也把数据上传到百度网盘了，感兴趣的朋友们可以下载看一下。<b>所有需要的文件都在最下方。需要的朋友自取。</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="csf0jW0P">-----又是条分割线-----</p>
 <p data-pid="Qla7OzbI">第一次收到这么多的赞。</p>
 <p data-pid="I5VwdOay">于是我又写了个程序把π前10亿位中的生日给跑了出来，生日的范围为1920~2020共计101年。</p>
 <p data-pid="Rf-kOm8Y">上代码~供有兴趣的朋友研究，可以一起讨论如何计算的更快。（感觉这个完全可以出一个面试题的！我水平是不太行，下面是我想到的方法。）</p>
 <div class="highlight">
  <pre><code class="language-text">month = {'01':31,'02':28,'03':31,
         '04':30,'05':31,'06':30,
         '07':31,'08':31,'09':30,
         '10':31,'11':30,'12':31}

def judge(Jdate):
    if int(Jdate[0:4]) &lt; 1920 or int(Jdate[0:4]) &gt; 2021:
        return False
    else:
        if int(Jdate[4:6]) &gt; 12 or int(Jdate[4:6]) == 0:
            return False
        else:
            p = month[Jdate[4:6]]
            if int(Jdate[4:6]) == 2 and int(Jdate[0:4])%4 == 0:
                p = p+1
            if int(Jdate[6:8]) &gt; p or int(Jdate[6:8]) == 0:
                return False
            else:
                return True


with open("Pi-1000000000.txt","r")as f:
    pai=f.read()

#输出字符串的长度和π的前109位
print(len(pai),pai[0:110])
stat = []

for num in range(2,len(pai)-8):
    if judge(pai[num:num+8]):
        stat.append([pai[num:num+8],num-1])
    if num % 1000000 == 0:
        print(num)

stat.sort()

with open("Pi-birthday.txt","w")as f:
    for data in stat:
        f.write(data[0]+':'+str(data[1])+'\n')</code></pre>
 </div>
 <p class="ztext-empty-paragraph"><br></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="2882tnXi">-----还是条分割线-----</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="LoRHisxZ"><b>大家不要私信给我发银行卡密码了！很危险的！真要查的话，可以看评论置顶，有个朋友分享了在线查询的链接。范围精确到2亿位。</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="xmeRJYHQ">下面的内容非程序员可忽略...</p>
 <p data-pid="qMFZiLu9">经评论区的朋友们启发，而且实在受不了别人喷我程序运行的慢了。又写了一个更快的检索<b>6位数字（就是所谓的银行卡密码）</b>的算法。</p>
 <p data-pid="jTOa2YL5">感兴趣的程序员可以看一下。我感觉速度还行。十几秒钟就能检索完毕。更快的我暂时也还没想到..毕竟答主还只是一个大二在校生，也没搞过ACM竞赛，水平有限。</p>
 <div class="highlight">
  <pre><code class="language-text">#将000000~999999存到字典中，初始化出现的位置为正无穷（用10亿+1代替）
dic = {}
for num in range(1000000):
    dic["0" * (6 - len(str(num))) + str(num)] = 1000000001

#读取π
with open("Pi-1000000000.txt","r")as f:
    pai=f.read()

#输出字符串π的长度和π的前109位
print(len(pai),pai[0:110])

stat = []
#p=1，跳过了"3."
p = 1
#p允许的最大数值
p_max = len(pai)-1000000


'''
倒序查找，开始时从第1000001位向第1位检索，
检索到第1位时，若字典中仍存在无穷大，则从
2000001位向1000001位检索。以此类推，直到
字典中不存在无穷大或者p大于p_max
'''

while 1000000001 in dic.values() and p&lt;p_max:
    for i in range(p+1000000,p,-1):
        pwd = pai[i:i+6]
        if i &lt; dic[pwd]:
            dic[pwd] = i-1
        if i%100000 == 0:
            print(i)
    p = p+1000000

with open("pi-stat.txt",'w')as f:
    for item in dic.items():
        f.write(item[0]+':'+str(item[1])+'\n')</code></pre>
 </div>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="XOp-2HW_"><b>需要的文件在这里~</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Ic4Oyfeg"><b>六位银行卡密码出现位置</b></p>
 <p data-pid="Z7Hm3Ot3">文件：<a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1smIZWxJ" class=" wrap external" target="_blank" rel="nofollow noreferrer">Pi-stat.txt</a></p>
 <p data-pid="l-7D9vX4">密码:8rc9</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="NVEhIeRU"><b>生日出现位置</b></p>
 <p data-pid="Er26zFhx">文件：<a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1i6ULDMP" class=" wrap external" target="_blank" rel="nofollow noreferrer">Pi-birthday.txt</a></p>
 <p data-pid="Rr_dQ-Xn">密码：v4o4</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Y8pyAYs0"><b>10亿位圆周率</b></p>
 <p data-pid="eXqP11qH">文件：<a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1df9ccA" class=" wrap external" target="_blank" rel="nofollow noreferrer">Pi-1000000000.txt</a></p>
 <p data-pid="o-Ep0fgv">密码：drq8</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="vrUIwPOB"><b>2500万位圆周率</b></p>
 <p data-pid="KJLj4W3-">文件：<a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1qZNfSHe" class=" wrap external" target="_blank" rel="nofollow noreferrer">Pi-25000000.txt</a></p>
 <p data-pid="U_73QF32">密码：0aq8</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="dHLKVoUU">------------2018.08.06--------</p>
 <p data-pid="bzmQPVRu">从今天起禁止任何形式的转载。</p>
</body>
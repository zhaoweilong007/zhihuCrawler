# 142857 这个数为什么这么神秘呢？还有其他的吗？
- 点赞数：9238
- 更新时间：2017年07月13日15时55分58秒
- 回答url：https://www.zhihu.com/question/19761522/answer/197503061
<body>
 <p data-pid="6eF95OAs">（这是一个初中数学水平就可以阅读的答案 ^_^）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="UQ2ME1gN">142857，又称 “走马灯数”，是世界上最著名的几个数之一 （ 也许仅次于 <img src="https://www.zhihu.com/equation?tex=%5Cpi" alt="\pi" eeimg="1"> 、 <img src="https://www.zhihu.com/equation?tex=e" alt="e" eeimg="1"> ），也许很多人很小的时候，就会在趣味数学里看到这个数。而这个神秘的数，最早发现于埃及的金字塔内。</p>
 <p data-pid="cOO0tr72">为什么说这个数是 <b>走马灯数</b> 呢？</p>
 <p data-pid="W56Cj37e">这是因为，它 2~6 倍，都恰好是这六个数字的重新排列</p>
 <p data-pid="6FSwSQE3">：285714,428571,571428,714285,857142……</p>
 <p data-pid="1ojWJqRD">并且是 <b>按次序 </b>排列的哦，如下图所示，是不是很像 “走马灯” 呢？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <figure>
  <img src="https://pic1.zhimg.com/50/v2-6b64b407ec63e62fbcb00a045c08aa5e_720w.jpg?source=1940ef5c" data-rawwidth="369" data-rawheight="423" data-original-token="v2-6b64b407ec63e62fbcb00a045c08aa5e" class="content_image" width="369">
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Izrl0UXR">这样的“走马灯” 性质实在是让人啧啧称奇。于是我们开始好奇，142857 为什么会具有这样神奇的性质？ 是否还会有其他数具有这样的性质呢？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="ku60a1dm">先回答第一个问题。</p>
 <p data-pid="wIXHo4OJ">数学系的人也许会高冷地回答你：<b>因为 10 是模 7 的一个原根</b>。</p>
 <p data-pid="Nf70xdRe">但这个回答，一定是令 99 % 的人懵逼的。</p>
 <p data-pid="OBy3GJb7">大部分普通人恐怕会问：“原根” 是什么？</p>
 <p data-pid="m6ykCizk">当然，也许还有些连初中数学都还给老师的人，会问：“模” 是什么，哈？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="K28wgVq1">（哎，作为一名水平低下的数学爱好者，有时候我有点讨厌某些学数学的大佬，因为明明可以用更通俗的语言解释，但他们却总喜欢用一些高深的术语去吓跑数学小白们，去扑灭他们对数学的热情，其心可诛啊！ ）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="AlZNl9kl">这个问题，其实正是让数学小白们叩开 <b>初等数论 </b>大门的伟大机会啊！</p>
 <p data-pid="a5ZLBr2q">我相信，要完整地理解这个问题的来龙去脉，对于初中数学水平的人，大概也就需要半个小时而已~</p>
 <p data-pid="wekaXdUx">当然，需要 3 个很简单的前提条件：</p>
 <ol>
  <li data-pid="l2B4-yXv">你知道 <b>质数</b>（素数）的概念：只能被 1 和自身整除的数；也知道 <b>互质 </b>的含义（最大公约数为1）；</li>
  <li data-pid="nFVZy80t">你会 <b>竖式计算</b>；</li>
  <li data-pid="e98YW5Z3">你已经知道：142857*7=999999；</li>
 </ol>
 <p data-pid="-nK41VD5">那么，下面我们开始吧~</p>
 <p class="ztext-empty-paragraph"><br></p>
 <h2>一、竖式计算的奥秘</h2>
 <p data-pid="u-npDRLg">既然你已经知道了 142857*7=999999，那么你一定很容易联想到 1/7 会有 142857 的循环节。毕竟 1000000 除以 7 余 1 嘛！竖式计算告诉我们，产生循环几乎是显然的：</p>
 <p class="ztext-empty-paragraph"><br></p>
 <figure>
  <img src="https://pica.zhimg.com/50/v2-feb0ef71a8b56774efda8949cf12dc43_720w.jpg?source=1940ef5c" data-rawwidth="346" data-rawheight="595" data-original-token="v2-feb0ef71a8b56774efda8949cf12dc43" class="content_image" width="346">
 </figure>
 <p data-pid="TCgAGPyi">仔细观察一下竖式计算，你会发现一个很有趣的现象：</p>
 <p data-pid="dDBtBMHV">前 6 次相减，余数分别 3、2、6、4、5、1，恰好遍历了比 7 小的 1~6，这就意味着，下一个余数无论是几，都必然会和前面的重复，从而必须产生循环。</p>
 <p data-pid="weX8q1bZ">这个现象揭示了一个简单的定理：</p>
 <p data-pid="TDCmdwXe"><b>定理 1.1：1/n 的小数展开，其循环节长度不超过 n-1。</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="uP2K8fr3">如果循环节恰好为 n-1 ，在竖式计算的每一步中，余数一定遍历了 1，2，…，n-1，那么显然，1/n, 2/n,…， (n-1)/n 的竖式计算，一定能和 1/n 的竖式计算中的某一步衔接起来，循环节会形成 “走马灯” 的效果。</p>
 <p data-pid="PyzH3vx6">反之，对于任意一个“走马灯数”，我们可以把它当做循环小数的循环节，而循环小数必然可以表示成分数 k/n，若循环节小于 n-1，那么余数必然不能遍历 1，2，…，n-1，那么 “走马灯” 的效果则不会出现。于是我们得到了另一个定理：</p>
 <p data-pid="LR5vUiD5"><b>定理 1.2：对每一个 “走马灯数” ，都存在自然数 n，走马灯数为 1/n 的小数展开后的循环节，且这个循环节恰好有 n-1 位。</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="uDC7149q">接下来，我们需要寻找满足条件的 n，初等数论 的大门将缓缓打开。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <h2><b>二、费马不只发现了“费马大定理”</b></h2>
 <p data-pid="siJ6kiRl">在这一部分，我们需要接触 3 个初等数论的基础概念：</p>
 <ol>
  <li data-pid="BLKu3ckg"><b>同余</b>：若 a 除以 n 和 b 除以 n 的余数相同，则称 a 和 b 对模 n 同余，记作 <img src="https://www.zhihu.com/equation?tex=a+%5Cequiv+b+" alt="a \equiv b " eeimg="1"> (mod n)；</li>
  <li data-pid="L02g9w-j"><b>欧拉函数</b>：小于 n 的正整数中与 n 互质的数的数目，记为 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28n%29" alt="\phi(n)" eeimg="1"> ；</li>
  <li data-pid="JH2kcHE-"><b>剩余系</b>：对全体自然数，按照除以 n 的余数可以分成 n 类，每一类构成的集合叫做 <b>剩余类</b>；在每一个剩余类中取一个数，构成的集合叫做 <b>完全剩余系</b>；在每一个和 n 互质的剩余类中取一个数，构成的集合叫<b> 简化剩余系</b>。易见，一个模 n 的简化剩余系中有 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28n%29" alt="\phi(n)" eeimg="1"> 个元素。</li>
 </ol>
 <p data-pid="jo5wX-Pj">关于欧拉函数，举 2 个例子：</p>
 <ol>
  <li data-pid="XcbFxZuJ">比如 6，在 1、2、3、4、5 中，只有 1 和 5 是和 6 互质的，所以 <img src="https://www.zhihu.com/equation?tex=%5Cphi%286%29%3D2" alt="\phi(6)=2" eeimg="1"> ;</li>
  <li data-pid="QPc1PoyD">对于任意质数 p，显然 1~ p-1 都和其互质，因此 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28p%29%3Dp-1" alt="\phi(p)=p-1" eeimg="1"> 。</li>
 </ol>
 <p data-pid="YUvJ5n22">于是我们很快可以得到一个定理：</p>
 <p data-pid="G5RDzLKo"><b>定理 2.1（费马-欧拉定理）：若 a 和 m 互质，则 </b><img src="https://www.zhihu.com/equation?tex=a%5E%7B%5Cphi%28m%29%7D%5Cequiv+1+" alt="a^{\phi(m)}\equiv 1 " eeimg="1"> (mod m)</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="UAGL0aTb">这是第一个需要稍微思考一下的定理。但证明也并不复杂：</p>
 <p data-pid="3qQh5ZXi">在 1~ m-1 中取一个模 m 的简化剩余系，从小到大排列为 <img src="https://www.zhihu.com/equation?tex=x_%7B1%7D%2Cx_%7B2%7D%2C...%2Cx_%7B%5Cphi%28m%29%7D" alt="x_{1},x_{2},...,x_{\phi(m)}" eeimg="1"> ，任意两个数之间的差都小于 m-1，考虑每个数的 a 倍，由于 a 和 m 互质，显然有：</p>
 <p data-pid="wIGCYucE"><img src="https://www.zhihu.com/equation?tex=ax_%7Bi%7D+%5Cnot+%5Cequiv+ax_%7Bj%7D+%28i+%5Cneq+j%29" alt="ax_{i} \not \equiv ax_{j} (i \neq j)" eeimg="1"> (mod m)</p>
 <p data-pid="hMBe5fSW">于是 <img src="https://www.zhihu.com/equation?tex=ax_%7B1%7D%2Cax_%7B2%7D%2C...%2Cax_%7B%5Cphi%28m%29%7D" alt="ax_{1},ax_{2},...,ax_{\phi(m)}" eeimg="1"> 也构成了模 m 的简化剩余系。</p>
 <p data-pid="QUGPr57Z">则有： <img src="https://www.zhihu.com/equation?tex=x_%7B1%7D%C2%B7x_%7B2%7D%C2%B7...%C2%B7x_%7B%5Cphi%28m%29%7D%5Cequiv+ax_%7B1%7D%C2%B7ax_%7B2%7D%C2%B7...%C2%B7ax_%7B%5Cphi%28m%29%7D+%3D+a%5E%7B%5Cphi%28m%29%7Dx_%7B1%7D%C2%B7x_%7B2%7D%C2%B7...%C2%B7x_%7B%5Cphi%28m%29%7D" alt="x_{1}·x_{2}·...·x_{\phi(m)}\equiv ax_{1}·ax_{2}·...·ax_{\phi(m)} = a^{\phi(m)}x_{1}·x_{2}·...·x_{\phi(m)}" eeimg="1"> (mod m)</p>
 <p data-pid="ohQ30SQR">那么： <img src="https://www.zhihu.com/equation?tex=m%7C+x_%7B1%7D%C2%B7x_%7B2%7D%C2%B7...%C2%B7x_%7B%5Cphi%28m%29%7D%28a%5E%7B%5Cphi%28m%29%7D-1%29" alt="m| x_{1}·x_{2}·...·x_{\phi(m)}(a^{\phi(m)}-1)" eeimg="1"></p>
 <p data-pid="gnkvZyhJ"><img src="https://www.zhihu.com/equation?tex=x_%7B1%7D%C2%B7x_%7B2%7D%C2%B7...%C2%B7x_%7B%5Cphi%28m%29%7D" alt="x_{1}·x_{2}·...·x_{\phi(m)}" eeimg="1"> 和 m 互质，所以 <img src="https://www.zhihu.com/equation?tex=m%7C%28a%5E%7B%5Cphi%28m%29%7D-1%29" alt="m|(a^{\phi(m)}-1)" eeimg="1"> ，证毕！</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="DDNzKPZr">特别地，当 m 为质数的时候，结合欧拉函数的定义，我们得到了费马小定理：</p>
 <p data-pid="n_HbNVab"><b>定理 2.2（费马小定理）：若 p 为质数，且 a 和 p 互质，则 </b><img src="https://www.zhihu.com/equation?tex=a%5E%7Bp-1%7D%5Cequiv+1+" alt="a^{p-1}\equiv 1 " eeimg="1"> (mod p)</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="pNznl8dh">费马大定理是我们耳熟能详的，但其实费马小定理也是初等数论中比较基本的定理哦！</p>
 <p class="ztext-empty-paragraph"><br></p>
 <h2>三、原根，以及 A001913</h2>
 <p data-pid="tvNxAilm">在费马-欧拉定理中，取 a=10，当 m 与 10 互质的时候，才有： <img src="https://www.zhihu.com/equation?tex=10%5E%7B%5Cphi%28m%29%7D+%5Cequiv+1+" alt="10^{\phi(m)} \equiv 1 " eeimg="1"> （mod m），从而形成 纯循环小数。联想到竖式计算：</p>
 <p data-pid="nV2ygPtJ">在 1/m 的计算过程中， <img src="https://www.zhihu.com/equation?tex=%5Cphi%28m%29" alt="\phi(m)" eeimg="1"> 一定是循环节（但不一定是最短的），显然，当且仅当 m 为质数的时候，才可能有 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28m%29%3Dm-1" alt="\phi(m)=m-1" eeimg="1"> 。满足 “走马灯” 性质 m 至少是质数，且与 10 互质。</p>
 <p data-pid="V8equ_p0">但 m 是质数并不是充分条件，如 m=3， <img src="https://www.zhihu.com/equation?tex=%5Cphi%283%29%3D2" alt="\phi(3)=2" eeimg="1"> ，而 <img src="https://www.zhihu.com/equation?tex=10%5E1%5Cequiv+1" alt="10^1\equiv 1" eeimg="1"> (mod 3)。</p>
 <p data-pid="eiMQFnxG">于是原根的定义便呼之欲出了<b>： </b>设 m 是正整数，a 是整数，若 a 模 m 的阶（使得 <img src="https://www.zhihu.com/equation?tex=a%5Ek+%5Cequiv+1+" alt="a^k \equiv 1 " eeimg="1"> （mod m）的最小正整数 k）等于 <img src="https://www.zhihu.com/equation?tex=%5Cphi%28m%29" alt="\phi(m)" eeimg="1"> ，则称 a 为模 m 的一个<b>原根</b>。</p>
 <p data-pid="SIUYGAa-">因此我们得到了最终的结果：</p>
 <p data-pid="BTNWXt-v"><b>定理3： 对每一个 “走马灯数”，必然存在自然数p，走马灯数为 1/p 小数展开后的循环节，且 p 的充要条件是： ① p 是质数； ② p 与 10 互质； ③ 10 是模 p 的一个原根。</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="KG8XCG6M">有一个收录了各种数列的网站叫 OEIS，它恰好收录了走马灯数相关的 p： <a href="https://link.zhihu.com/?target=http%3A//oeis.org/A001913" class=" wrap external" target="_blank" rel="nofollow noreferrer">A001913</a></p>
 <figure>
  <img src="https://pica.zhimg.com/50/v2-ec07a4c084e50fe0990d5a27b716a1b4_720w.jpg?source=1940ef5c" data-rawwidth="752" data-rawheight="362" data-original-token="v2-ec07a4c084e50fe0990d5a27b716a1b4" class="origin_image zh-lightbox-thumb" width="752" data-original="https://pic1.zhimg.com/v2-ec07a4c084e50fe0990d5a27b716a1b4_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="9AsACYfo">与此同时，还给出了 “走马灯数” 数列：<a href="https://link.zhihu.com/?target=http%3A//oeis.org/A180340" class=" wrap external" target="_blank" rel="nofollow noreferrer">A180340 </a></p>
 <p data-pid="NvxXuxb2">142857, 588235294117647, 52631578947368421, 434782608695652173913, 344827586206896551724137931, 212765957446808510638297872340425531914893617, 169491525423728813559322033898305084745762711864406779661</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="JUp0xBLu">这便是第二个问题的答案了。</p>
</body>
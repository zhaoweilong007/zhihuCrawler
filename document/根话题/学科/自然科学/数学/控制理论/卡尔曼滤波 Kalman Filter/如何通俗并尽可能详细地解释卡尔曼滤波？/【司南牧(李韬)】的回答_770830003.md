# 如何通俗并尽可能详细地解释卡尔曼滤波？
- 点赞数：5455
- 更新时间：2021年08月14日16时18分58秒
- 回答url：https://www.zhihu.com/question/23971601/answer/770830003
<body>
 <blockquote data-pid="utcX2Lb6">
  牛逼的算法往往都是来源于一个很简单的思想所演化而来，如果你不了解这个思想和演化过程那就谈不上了解那个牛逼的算法 —— <a class="member_mention" href="https://www.zhihu.com/people/6d4a5a9a31d949919d6c132d5c88e6a9" data-hash="6d4a5a9a31d949919d6c132d5c88e6a9" data-hovercard="p$b$6d4a5a9a31d949919d6c132d5c88e6a9">@司南牧</a>
 </blockquote>
 <p data-pid="xN-7dKEm"><b>兄弟姐妹们不要只收藏嘛，有赞才有动力鸭</b>！</p>
 <h2>直观理解</h2>
 <p data-pid="bsasDaHM"><b>首先卡尔曼滤波要解决的问题是什么</b>？我以机器人估计自己离障碍物距离为例</p>
 <p data-pid="hzsjmMjH">答：首先机器人已知“传感器测量的机器人离障碍物的距离（我们称它为<b>观测值，比如雷达直接测量机器人离障碍物距离7m</b>）”，“上个时刻机器人离障碍物距离”和“自己当前时刻的速度”这三个数据。而根据“上个时刻机器人离障碍物距离”和“自己当前时刻的速度”可以估算出当前机器人离障碍物的距离（我们称它为<b>估计值</b>）。<b>比如：上一秒离障碍物10m，速度是4m/s，那么现在这秒估计就离障碍物距离是6m</b>。（其实这个叫做机器人移动建模想了解更多移动模型与滤波算法的联系细节的童鞋可以看看《<a href="https://link.zhihu.com/?target=https%3A//blog.csdn.net/varyshare/article/details/100061173" class=" wrap external" target="_blank" rel="nofollow noreferrer">机器人移动模型：根据控制命令预测机器人位置</a>》这篇文章）</p>
 <p data-pid="Wigth4Ez">那么问题来了，<b>机器人离障碍物的距离现在既有个观测值7m，又有个估计值6m</b>。到底相信哪个？单纯相信观测值万一那传感器坏了呢？单纯相信估计值那么万一上个时刻的距离估计值或者速度不准呢？所以，我们要根据观测值和估计值的准确度来得到最终机器人离障碍物的距离估计值。准确度高的就最终结果比重高，准确度低就占比低。如果雷达测量的那个7m准确度是90%，根据速度估计出的那个6m准确度是80%，那么最终的距离估计结果就是 <img src="https://www.zhihu.com/equation?tex=result%3D%281-%5Cfrac%7B0.9%7D%7B0.8%2B0.9%7D%29%2A6+%2B+%5Cfrac%7B0.9%7D%7B0.8%2B0.9%7D%2A7%3D6.52" alt="result=(1-\frac{0.9}{0.8+0.9})*6 + \frac{0.9}{0.8+0.9}*7=6.52" eeimg="1"> 米.</p>
 <p data-pid="rqePv7Gf">事实上 <img src="https://www.zhihu.com/equation?tex=+%5Cfrac%7B0.9%7D%7B0.8%2B0.9%7D" alt=" \frac{0.9}{0.8+0.9}" eeimg="1"> 这个就是所谓的卡尔曼增益，它就是表示这个传感器数据相对于根据速度计算出的估计值的靠谱程度。（每个传感器在使用前都可以对它的噪声的方差进行测量，可以搜下Allen方差，我们测量出每个传感器的噪声方差不就知道每个传感器靠谱程度了？）</p>
 <p data-pid="3hOwEsPh"><b>直观理解讲完了，以上</b>。如果你想进一步了解卡尔曼滤波在实际应用中怎么计算的可以看看这篇文章《<a href="https://zhuanlan.zhihu.com/p/77327349" class="internal">司南牧：[易懂]如何理解那个把嫦娥送上天的卡尔曼滤波算法Kalman filter?</a>》。接下来我会介绍卡尔曼滤波推导的理论知识。</p>
 <p data-pid="wg68ymC4"><b>但是上面的90%与80%这两个准确度是怎么计算的？卡尔曼这个人到底是怎么发明卡尔曼滤波算法的？卡尔曼发明算法的思路历程是什么？卡尔曼滤波算法到底与贝叶斯滤波算法有什么联系？</b>我想这些肯定是你脑海中挥之不去的阴影，仅仅从直观理解无法解答这些问题<b>。</b></p>
 <p data-pid="Ok7bYEaZ"><b><u>卡尔曼滤波Python代码实践</u></b><a href="https://www.zhihu.com/people/6d4a5a9a31d949919d6c132d5c88e6a9" class="internal">@司南牧</a>已经在下面这个专栏文章末尾更新啦。下面这个代码可以帮助大家更好的理解卡尔曼滤波。<a href="https://zhuanlan.zhihu.com/p/77327349" class="internal">司南牧：[易懂]如何理解那个把嫦娥送上天的卡尔曼滤波算法Kalman filter</a>。</p>
 <h2>我就从算法发明的角度来挑战一下。</h2>
 <p data-pid="_iQoHIFW"><b>我希望在学本文前你能对贝叶斯滤波有了解。如果你还不清楚贝叶斯滤波怎么做的？可以看看这篇文章<a href="https://zhuanlan.zhihu.com/p/75880143" class="internal">【易懂教程】我是如何十分钟理解与推导贝叶斯滤波(Bayes Filter)算法？</a></b></p>
 <p data-pid="eAkFgz_w"><b>首先卡尔曼滤波算法是对贝叶斯滤波的一种具体实现</b>。那么贝叶斯滤波又是什么？<b>贝叶斯滤波是一种思想</b>，它告诉了我们怎么在知道观测值与根据控制命令所计算的估计值这两种值的可信度时如何计算最终估计出的值的可信度。<b>但是贝叶斯滤波并没有告诉我们怎么计算观测值与估计值的可信度</b>。<b>而卡尔曼滤波算法就是对贝叶斯滤波算法的一个具体实现</b>。卡尔曼滤波认为观测值可信度模型是一个正态分布，控制模型是一个正态分布。然后信号是线性变化的。也就是说卡尔曼假设上文中的机器人一定是匀速直线运动，机器人离障碍物距离变化肯定是随时间线性变化（这就是卡尔曼算法的局限，你设计一种新的假设那就发明了新的算法）</p>
 <p data-pid="q0TBf4qZ">知乎打公式太麻烦了我公式多的地方就弄图片了。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-7465c49eb97cc40072786969801521ab_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="782" data-rawheight="544" data-original-token="v2-7465c49eb97cc40072786969801521ab" data-default-watermark-src="https://picx.zhimg.com/50/v2-f8b5a91320a4d7fca8afb2c4515fd703_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="782" data-original="https://picx.zhimg.com/v2-7465c49eb97cc40072786969801521ab_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-c32b1fd0b42f013d9e2281ccf13c16de_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="785" data-rawheight="650" data-original-token="v2-c32b1fd0b42f013d9e2281ccf13c16de" data-default-watermark-src="https://picx.zhimg.com/50/v2-f37d1b73016d36c1783a91ca1a2e86be_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="785" data-original="https://picx.zhimg.com/v2-c32b1fd0b42f013d9e2281ccf13c16de_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-7d3599194fb080dc7b1b47aa6b05de88_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="776" data-rawheight="424" data-original-token="v2-7d3599194fb080dc7b1b47aa6b05de88" data-default-watermark-src="https://picx.zhimg.com/50/v2-53e6934d6f5c780af5178bd77893335a_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="776" data-original="https://picx.zhimg.com/v2-7d3599194fb080dc7b1b47aa6b05de88_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-264122b220dec41188eba215e0c392f7_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="777" data-rawheight="494" data-original-token="v2-264122b220dec41188eba215e0c392f7" data-default-watermark-src="https://picx.zhimg.com/50/v2-c915b445b9b762552f4f25783d32a450_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="777" data-original="https://picx.zhimg.com/v2-264122b220dec41188eba215e0c392f7_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="tY_ECrQg">关于怎么代入化简推导得到很简洁的机器人状态估计迭代计算表达式和卡尔曼增益。我最近将会在知乎专栏《<a href="https://zhuanlan.zhihu.com/aitom" class="internal">适合初学者的机器学习神经网络理论到实践</a>》下一篇文章<a href="https://zhuanlan.zhihu.com/p/77327349" class="internal">Ai酱：如何理解那个能造导弹军舰还把嫦娥送上天的卡尔曼滤波算法Kalman filter?</a>介绍。<b>欢迎关注与点赞</b>。</p>
 <p data-pid="BzcUIPKz"><b><u>卡尔曼滤波Python代码实践</u></b> <a href="https://www.zhihu.com/people/6d4a5a9a31d949919d6c132d5c88e6a9" class="internal">@司南牧</a> 已经在下面这个专栏文章末尾更新啦。下面这个代码可以帮助大家更好的理解卡尔曼滤波。<a href="https://zhuanlan.zhihu.com/p/77327349" class="internal">司南牧：[易懂]如何理解那个把嫦娥送上天的卡尔曼滤波算法Kalman filter</a>。</p>
 <p data-pid="SOyZbloS">推荐阅读：</p>
 <ul>
  <li data-pid="e5F_Rmhn"><a href="https://www.zhihu.com/question/25371476/answer/805825047" class="internal">怎样从实际场景上理解粒子滤波（Particle Filter）？</a></li>
 </ul>
 <p data-pid="X6_qdXD4"><a href="https://zhuanlan.zhihu.com/p/43452377" class="internal">司南牧：{高中生能看懂的}梯度下降是个啥？</a></p>
 <p data-pid="za2JDfIX"><a href="https://zhuanlan.zhihu.com/p/59678480" class="internal">司南牧：易懂的神经网络理论到实践(1)：单个神经元+随机梯度下降学习逻辑与规则</a></p>
 <p data-pid="lPg-SsXb"><a href="https://zhuanlan.zhihu.com/p/68208880" class="internal">司南牧：[漫谈]高中的消元法解方程与线性代数及LU分解之间的联系</a></p>
 <p data-pid="xid7YQUP"><a href="https://link.zhihu.com/?target=https%3A//github.com/varyshare/easy_slam_tutorial" class=" wrap external" target="_blank" rel="nofollow noreferrer">简单的SLAM实践教程与代码开源项目-github</a></p>
 <p data-pid="Djo5R5qk"><a href="https://link.zhihu.com/?target=https%3A//varyshare.gitbook.io/easy-machine-leaning/" class=" wrap external" target="_blank" rel="nofollow noreferrer">司南牧著: 易懂的机器学习与实践教程</a></p><a href="https://link.zhihu.com/?target=https%3A//www.linkedin.com/in/slam-litao/" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">司南牧(李韬)的LinkedIn主页</a>
 <p></p>
</body>
# 贝叶斯定理厉害在哪里？
- 点赞数：20688
- 更新时间：2024年02月26日15时07分10秒
- 回答url：https://www.zhihu.com/question/61298823/answer/1545994922
<body>
 <p data-pid="VoqmPB3y">贝叶斯定理太有用了，不管是在投资领域，还是机器学习，或是日常生活中几乎都在用到它。</p>
 <p data-pid="oPcArDHH">例如，生命科学家用贝叶斯定理研究基因是如何被控制的；教育学家意识到，学生的学习过程其实就是贝叶斯法则的运用；基金经理用贝叶斯法则找到投资策略；谷歌用贝叶斯定理改进搜索功能，帮助用户过滤垃圾邮件；无人驾驶汽车接收车顶传感器收集到的路况和交通数据，运用贝叶斯定理更新从地图上获得的信息；人工智能、机器翻译中大量用到贝叶斯定理...</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="wJp4fSjY">我将从以下4个角度来科普贝叶斯定理及其背后的思维：</p>
 <p data-pid="9YZAC_Xs"><b>1.贝叶斯定理有什么用？</b></p>
 <p data-pid="hcdakXNi"><b>2.什么是贝叶斯定理？</b></p>
 <p data-pid="UHRhJaWb"><b>3.贝叶斯定理的应用案例</b></p>
 <p data-pid="WKap7CvL"><b>4.生活中的贝叶斯思维</b></p>
 <p class="ztext-empty-paragraph"><br></p>
 <blockquote data-pid="P74TpUWq">
  <b>1.贝叶斯定理有什么用？</b>
 </blockquote>
 <p data-pid="S7lctDlP">英国数学家托马斯·贝叶斯（Thomas Bayes）在1763年发表的一篇论文中，首先提出了这个定理。而这篇论文是在他死后才由他的一位朋友发表出来的。</p>
 <p data-pid="KktyRJft">（ps：贝叶斯定理其实就是下面图片中的概率公式，这里先不讲这个公式，而是重点关注它的使用价值，因为只有理解了它的应用意义，你才会更有兴趣去学习它。）</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-6e8c431fe502da8e781d79a0dad06013_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="500" data-rawheight="322" data-original-token="v2-6e8c431fe502da8e781d79a0dad06013" class="origin_image zh-lightbox-thumb" width="500" data-original="https://pic1.zhimg.com/v2-6e8c431fe502da8e781d79a0dad06013_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="-rKStmzF">在这篇论文中，他为了解决一个“逆概率”问题，而提出了贝叶斯定理。</p>
 <p data-pid="eW1jZGF7">在贝叶斯写这篇文章之前，人们已经能够计算“正向概率”。什么是正向概率呢？举个例子，杜蕾斯举办了一个抽奖，抽奖桶里有10个球，其中2个白球，8个黑球，抽到白球就算你中奖。你伸手进去随便摸出1颗球，摸出是中奖球的概率是多大。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-62e34c2fc1429d0a1ca5659790b04865_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="568" data-original-token="v2-62e34c2fc1429d0a1ca5659790b04865" data-default-watermark-src="https://pic1.zhimg.com/50/v2-41cd0a1eb18f7015977f41ec95254bdf_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-62e34c2fc1429d0a1ca5659790b04865_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="RwYn9F1n">根据频率概率的计算公式，你可以轻松的知道中奖的概率=中奖球数（2个白球）/球总数（2个白球+8个黑球）=2/10</p>
 <p data-pid="jZB3gBxX">如果还不懂怎么算出来的，可以看我之前写的科普概率的回答：<a href="https://www.zhihu.com/question/27462939/answer/232983694" class="internal">猴子：如何理解条件概率？</a></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="lOJ_IRcP">而贝叶斯在他的文章中是为了解决一个“逆概率”的问题。比如上面的例子我们并不知道抽奖桶里有什么，而是摸出一个球，通过观察这个球的颜色，来预测这个桶里里白色球和黑色球的比例。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-1a1da04afa294f5232bba89e443c8dca_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="594" data-original-token="v2-1a1da04afa294f5232bba89e443c8dca" data-default-watermark-src="https://picx.zhimg.com/50/v2-99b2f2a3931af87da51bf8e7ab4fae30_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pica.zhimg.com/v2-1a1da04afa294f5232bba89e443c8dca_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="AeRvmz-k">这个预测其实就可以用贝叶斯定理来做。贝叶斯当时的论文只是对“逆概率”这个问题的求解尝试，这哥们当时并不清楚这里面这里面包含着的深刻思想。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="wcStDTR2">然而后来，贝叶斯定理席卷了概率论，并将应用延伸到各个领域。可以说，所有需要作出概率预测的地方都可以见到贝叶斯定理的影子，特别地，贝叶斯是机器学习的核心方法之一。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="eMXbn-g6"><b>为什么贝叶斯定理在现实生活中这么有用呢？</b></p>
 <p data-pid="Nn8y12Nl">这是因为现实生活中的问题，大部分都是像上面的“逆概率”问题。因为生活中绝大多数决策面临的信息都是不全的，我们手中只有有限的信息。既然无法得到全面的信息，我们就只能在信息有限的情况下，尽可能做出一个好的预测。</p>
 <p data-pid="lN483CRf">比如天气预报说，明天降雨的概率是30%，这是什么意思呢？</p>
 <p data-pid="-cWSy3tQ">我们无法像计算频率概率那样，重复地把明天过上100次，然后计算出大约有30次会下雨（下雨的天数/总天数）</p>
 <p data-pid="PR07c-qC">而是只能利用有限的信息（过去天气的测量数据），用贝叶斯定理来预测出明天下雨的概率是多少。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="e_ARi3wX">同样的，在现实世界中，我们每个人都需要预测。想要深入分析未来、思考是否买股票、政策给自己带来哪些机遇、提出新产品构想，或者只是计划一周的饭菜。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="BpFAw-w7">贝叶斯定理就是为了解决这些问题而诞生的，它可以根据过去的数据来预测出未来事情发生概率。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="w6TZ7YcI">贝叶斯定理的思考方式为我们提供了有效的方法来帮助我们做决策，以便更好地预测未来的商业、金融、以及日常生活。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="1_9IiwZr"><b>总结下第1部分：贝叶斯定理有什么用？</b></p>
 <p data-pid="JZsobdQq">在有限的信息下，能够帮助我们预测出概率。</p>
 <p data-pid="0FUHRLB8">所有需要作出概率预测的地方都可以见到贝叶斯定理的影子，特别地，贝叶斯是机器学习的核心方法之一。例如垃圾邮件过滤，中文分词，艾滋病检查，肝癌检查等。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <blockquote data-pid="Lfi8S6Sn">
  <b>2.什么是贝叶斯定理？</b>
 </blockquote>
 <p data-pid="FvKxeLdB">贝叶斯定理长这样：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-0f1ab4a939a2dd1e59d36808dc39fc28_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="315" data-rawheight="77" data-original-token="v2-0f1ab4a939a2dd1e59d36808dc39fc28" class="content_image" width="315">
 </figure>
 <p data-pid="ZiwxQ41E">到这来，你可能会说：猴子，说人话，我一看到公式就头大啊。</p>
 <p data-pid="_Vicj1R_">其实，我和你一样，不喜欢公式。我们还是从一个例子开始聊起。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="6VRo1-2V">我的朋友小鹿说，他的女神每次看到他的时候都冲他笑，他现在想知道女神是不是喜欢他呢？</p>
 <p data-pid="mJA-T3oQ">谁让我学过统计概率知识呢，下面我们一起用贝叶斯帮小鹿预测下女神喜欢他的概率有多大，这样小鹿就可以根据概率的大小来决定是否要表白女神。</p>
 <p data-pid="R-58x7bl">首先，我分析了给定的已知信息和未知信息：</p>
 <p data-pid="BKd73nm4">1）要求解的问题：女神喜欢你，记为A事件</p>
 <p data-pid="gtw9jjA0">2）已知条件：女神经常冲你笑，记为B事件</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="XQFFNVCh">所以，P(A|B)表示女神经常冲你笑这个事件(B)发生后，女神喜欢你（A）的概率。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-19f1e11c32819f504f4782b09a20e1ab_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-19f1e11c32819f504f4782b09a20e1ab" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pic1.zhimg.com/v2-19f1e11c32819f504f4782b09a20e1ab_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="mqoDRLg6">从公式来看，我们需要知道这么3个事情：</p>
 <p data-pid="iKQzz1In"><b>1）先验概率</b></p>
 <p data-pid="1qbebpYD">我们把P(A)称为"先验概率"（Prior probability），也就是在不知道B事件的前提下，我们对A事件概率的一个主观判断。</p>
 <p data-pid="l71Y3N0a">对应这个例子里就是在不知道女神经常对你笑的前提下，来主观判断出女神喜欢一个人的概率。这里我们假设是50%，也就是不喜欢你，可能不喜欢你的概率都是一半。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="u8uqwEnf"><b>2）可能性函数</b></p>
 <p data-pid="VfDfcKTL">P(B|A)/P(B)称为"可能性函数"（Likelyhood），这是一个调整因子，也就是新信息B带来的调整，作用是将先验概率（之前的主观判断）调整到更接近真实概率。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="ujjiLX05">可能性函数你可以理解为新信息过来后，对先验概率的一个调整。比如我们刚开始看到“人工智能”这个信息，你有自己的理解（先验概率-主观判断），但是当你学习了一些数据分析，或者看了些这方面的书后（新的信息），然后你根据掌握的最新信息优化了自己之前的理解（可能性函数-调整因子），最后重新理解了“人工智能”这个信息（后验概率）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="L8L6ogfX">如果"可能性函数"P(B|A)/P(B)&gt;1，意味着"先验概率"被增强，事件A的发生的可能性变大；</p>
 <p data-pid="p67kX9nv">如果"可能性函数"=1，意味着B事件无助于判断事件A的可能性；</p>
 <p data-pid="wHpsD3mg">如果"可能性函数"&lt;1，意味着"先验概率"被削弱，事件A的可能性变小。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="vso8yfGz">还是刚才的例子，根据女神经常冲你笑这个新的信息，我调查走访了女神的闺蜜，最后发现女神平日比较高冷，很少对人笑，也就是对你有好感的可能性比较大（可能性函数&gt;1）。所以我估计出"可能性函数"P(B|A)/P(B)=1.5（具体如何估计，省去1万字，后面会有更详细科学的例子）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="qkKcqLDT"><b>3）后验概率</b></p>
 <p data-pid="mziDujeY">P(A|B)称为"后验概率"（Posterior probability），即在B事件发生之后，我们对A事件概率的重新评估。这个例子里就是在女神冲你笑后，对女神喜欢你的概率重新预测。</p>
 <p data-pid="mdfVOSyr">带入贝叶斯公式计算出P(A|B)=P(A)* P(B|A)/P(B)=50% *1.5=75%</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="8kNFKLxH">因此，女神经常冲你笑，喜欢上你的概率是75%。这说明，女神经常冲你笑这个新信息的推断能力很强，将50%的"先验概率"一下子提高到了75%的"后验概率"。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-bf1a00e27e613e2fce8395e823519ef3_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-bf1a00e27e613e2fce8395e823519ef3" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pic1.zhimg.com/v2-bf1a00e27e613e2fce8395e823519ef3_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="xEZ4UoZu">在得到概率值后，小鹿自信满满的发了下面的表白微博：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-1c8965af0e235b60003661a17fddd8bf_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="574" data-rawheight="126" data-original-token="v2-1c8965af0e235b60003661a17fddd8bf" class="origin_image zh-lightbox-thumb" width="574" data-original="https://picx.zhimg.com/v2-1c8965af0e235b60003661a17fddd8bf_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="ElqZjPm1">稍后，果然收到了女神的回复。预测成功。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-3de34b1bbde564ce307bc8afad8a1755_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="569" data-rawheight="144" data-original-token="v2-3de34b1bbde564ce307bc8afad8a1755" class="origin_image zh-lightbox-thumb" width="569" data-original="https://pica.zhimg.com/v2-3de34b1bbde564ce307bc8afad8a1755_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="hl3hbf28">现在我们再看一遍贝叶斯公式，你现在就能明白这个公式背后的关键思想了：</p>
 <p data-pid="g33mtm81">我们先根据以往的经验预估一个"先验概率"P(A)，然后加入新的信息（实验结果B），这样有了新的信息后，我们对事件A的预测就更加准确。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-59f26c780a4a5adf2317b15405f7ecee_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-59f26c780a4a5adf2317b15405f7ecee" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pic1.zhimg.com/v2-59f26c780a4a5adf2317b15405f7ecee_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="-JIfVngN">因此，贝叶斯定理可以理解成下面的式子：</p>
 <p data-pid="f8RHQ2a2"><b>后验概率（新信息出现后的A概率）　＝　先验概率（A概率） ｘ 可能性函数（新信息带来的调整）</b></p>
 <p data-pid="ZsNZGuFe"><b>贝叶斯的底层思想就是：</b></p>
 <p data-pid="zJQH9ZPt">如果我能掌握一个事情的全部信息，我当然能计算出一个客观概率（古典概率）。</p>
 <p data-pid="tbcNwTZ7">可是生活中绝大多数决策面临的信息都是不全的，我们手中只有有限的信息。既然无法得到全面的信息，我们就在信息有限的情况下，尽可能做出一个好的预测。也就是，在主观判断的基础上，你可以先估计一个值（先验概率），然后根据观察的新信息不断修正(可能性函数)。</p>
 <p data-pid="kY5OREnH">如果用图形表示就是这样的：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-5ea6e5d283bf438dfd76076131feaef2_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="465" data-original-token="v2-5ea6e5d283bf438dfd76076131feaef2" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-5ea6e5d283bf438dfd76076131feaef2_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="qsHNpZ3d">其实阿尔法狗也是这么战胜人类的，简单来说，阿尔法狗会在下每一步棋的时候，都可以计算自己赢棋的最大概率，就是说在每走一步之后，他都可以完全客观冷静的更新自己的概率值，完全不受其他环境影响。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <blockquote data-pid="Y6xKeR0y">
  <b>3.贝叶斯定理的应用案例</b>
 </blockquote>
 <p data-pid="YQYWpnBW">前面我们介绍了贝叶斯定理公式，及其背后的思想。现在我们来举个应用案例，你会更加熟悉这个牛瓣的工具。</p>
 <p data-pid="GAnnPUFA">为了后面的案例计算，我们需要先补充下面这个知识。</p>
 <p data-pid="n00eWRzz"><b>1.全概率公式</b></p>
 <p data-pid="_86Q8KmH"><b>这个公式的作用是计算贝叶斯定理中的P(B)。</b></p>
 <p data-pid="L0YuUag-">假定样本空间S，由两个事件A与A'组成的和。例如下图中，红色部分是事件A，绿色部分是事件A'，它们共同构成了样本空间S。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-d899a4816972f4ea52c6e28885e75550_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="415" data-rawheight="236" data-original-token="v2-d899a4816972f4ea52c6e28885e75550" class="content_image" width="415">
 </figure>
 <p data-pid="80DHs0u9">这时候来了个事件B，如下图：</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-dc3049bb4b452dd1b477999f3a2245dc_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="419" data-rawheight="277" data-original-token="v2-dc3049bb4b452dd1b477999f3a2245dc" class="content_image" width="419">
 </figure>
 <p data-pid="pSz-vvaI">全概率公式：</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-6b72bf5bb58e0e8cac37e8707d47b6ba_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="558" data-rawheight="53" data-original-token="v2-6b72bf5bb58e0e8cac37e8707d47b6ba" class="origin_image zh-lightbox-thumb" width="558" data-original="https://picx.zhimg.com/v2-6b72bf5bb58e0e8cac37e8707d47b6ba_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="H6VR4sMW">它的含义是，如果A和A'构成一个问题的全部（全部的样本空间），那么事件B的概率，就等于A和A'的概率分别乘以B对这两个事件的条件概率之和。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="tFaGiqp7">看到这么复杂的公式，记不住没关系，因为我也记不住，下面用的时候翻到这里来看下就可以了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="tcltZRPM"><b>案例1：贝叶斯定理在做判断上的应用</b></p>
 <p data-pid="ULKgwapY">有两个一模一样的碗，1号碗里有30个巧克力和10个水果糖，2号碗里有20个巧克力和20个水果糖。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-8ff3fe51af9ee41fcf10ea29006d69db_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-8ff3fe51af9ee41fcf10ea29006d69db" data-default-watermark-src="https://pic1.zhimg.com/50/v2-ce61d3700559325a5115254c63f52243_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pic1.zhimg.com/v2-8ff3fe51af9ee41fcf10ea29006d69db_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="iph-Rs2A">然后把碗盖住。随机选择一个碗，从里面摸出一个巧克力。</p>
 <p data-pid="Ba-QJMFS">问题：这颗巧克力来自1号碗的概率是多少？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="dQ4jjJ6z">好了，下面我就用套路来解决这个问题，到最后我会给出这个套路。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="BkcBNHa-"><b>第1步，分解问题</b></p>
 <p data-pid="eeKFrQaE">1）要求解的问题：取出的巧克力，来自1号碗的概率是多少？</p>
 <p data-pid="gYZB19sh">来自1号碗记为事件A1，来自2号碗记为事件A2</p>
 <p data-pid="3leAOFQ4">取出的是巧克力，记为事件B，</p>
 <p data-pid="2GEkwZff">那么要求的问题就是P(A1|B)，也就是取出的是巧克力（B），来自1号碗（A1）的概率</p>
 <p data-pid="DcaexoIO">2）已知信息：</p>
 <p data-pid="46JeBVOW">1号碗里有30个巧克力和10个水果糖</p>
 <p data-pid="v9uqco-A">2号碗里有20个巧克力和20个水果糖</p>
 <p data-pid="enqopW_7">取出的是巧克力</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="CjhtjgPF"><b>第2步，应用贝叶斯定理</b></p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-a5638cbe75a922ec5f971a81cadc8b18_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="772" data-original-token="v2-a5638cbe75a922ec5f971a81cadc8b18" data-default-watermark-src="https://picx.zhimg.com/50/v2-0e5eb102eff288ed1127b43d17cc7cd1_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-a5638cbe75a922ec5f971a81cadc8b18_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="2uHvIzjg">1）求先验概率</p>
 <p data-pid="3vQiw2nR">由于两个碗是一样的，所以在得到新信息（取出是巧克力之前），这两个碗被选中的概率相同，因此P(A1)=P(A2)=0.5,(其中A1表示来自1号碗，A2表示来自2号碗)</p>
 <p data-pid="HIimEM_2">这个概率就是"先验概率"，即没有做实验之前，来自一号碗、二号碗的概率都是0.5。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="4YELZlXj">2）求可能性函数</p>
 <p data-pid="aQ23s5W8">P(B|A1)/P(B)</p>
 <p data-pid="NxTL6LCO">其中，P(B|A1)表示从1号碗中(A1)取出是巧克力(B)的概率。</p>
 <p data-pid="oE0bsOuL">因为1号碗里有30个巧克力和10个水果糖，所以P(B|A1)=巧克力数（30）/(糖果总数30+10)=75%</p>
 <p data-pid="K4A8WgW3">现在贝叶斯公式里只剩P(B)了，只有求出P(B)就可以得到答案。</p>
 <p data-pid="MVv-yXX_">根据全概率公式，可以用下图求得P(B)：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-7171736f9f6b6ad36cc31744f5f84685_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-7171736f9f6b6ad36cc31744f5f84685" data-default-watermark-src="https://pica.zhimg.com/50/v2-f5c5650a415d93b466f985cb3cda4a0c_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-7171736f9f6b6ad36cc31744f5f84685_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="hLcmkFke">图中P(B|A1)是1号碗中巧克力的概率，我们根据前面的已知条件，很容易求出。</p>
 <p data-pid="ZVZYKubV">同样的，P(B|A2)是2号碗中巧克力的概率，也很容易求出（图中已给出）。</p>
 <p data-pid="MJg7Y-D7">而P(A1)=P(A2)=0.5</p>
 <p data-pid="Rq7Xwh1J">将这些数值带入公式中就是小学生也可以算出来的事情了。最后P(B)=62.5%</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="RUsiAAwM">所以，可能性函数P(B|A1)/P(B)=75%/62.5%=1.2。</p>
 <p data-pid="rKYTre6e">可能性函数&gt;1.表示新信息B对事情A1的可能性增强了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="q2Al7_7i">3）带入贝叶斯公式求后验概率</p>
 <p data-pid="aS03-kb7">将上述计算结果，带入贝叶斯定理，即可算出P(A1|B)=60%</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-80272598a0d38ab5ddf1c739ec4aa2df_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="766" data-original-token="v2-80272598a0d38ab5ddf1c739ec4aa2df" data-default-watermark-src="https://pic1.zhimg.com/50/v2-8e9542f505e320941eacc4f3e0836df7_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-80272598a0d38ab5ddf1c739ec4aa2df_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="nR2CXJE1">这个例子中我们需要关注的是约束条件：抓出的是巧克力。如果没有这个约束条件在，来自一号碗这件事的概率就是50%了，因为巧克力的分布不均把概率从50%提升到60%。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="U5rglES0"><b>现在，我总结下刚才的贝叶斯定理应用的套路，你就更清楚了，会发现像小学生做应用题一样简单：</b></p>
 <p data-pid="N1c6RPzO"><b>第1步. 分解问题</b></p>
 <p data-pid="DHo6GsvJ">简单来说就像做应用题的感觉，先列出解决这个问题所需要的一些条件，然后记清楚哪些是已知的，哪些是未知的。</p>
 <p data-pid="g9WAliSB">1）要求解的问题是什么？</p>
 <p data-pid="JRtaUwoQ">识别出哪个是贝叶斯中的事件A（一般是想要知道的问题），哪个是事件B（一般是新的信息，或者实验结果）</p>
 <p data-pid="kzoXCLRv">2）已知条件是什么？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="OdFqotZI"><b>第2步.应用贝叶斯定理</b></p>
 <p data-pid="jrnMF3T1">第3步，求贝叶斯公式中的2个指标</p>
 <p data-pid="ijLL46z8">1）求先验概率</p>
 <p data-pid="pFpWmdIr">2）求可能性函数</p>
 <p data-pid="iIz0EuKE">3）带入贝叶斯公式求后验概率</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-c3ef7bc37a87a8640022dfd5a87c81bb_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-c3ef7bc37a87a8640022dfd5a87c81bb" data-default-watermark-src="https://pic1.zhimg.com/50/v2-6f767ccf1c1a5e5ba3eaf44c756a6b78_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-c3ef7bc37a87a8640022dfd5a87c81bb_r.jpg?source=1940ef5c">
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="38Gwj1Mh"><b>案例2：贝叶斯定理在医疗行业的应用</b></p>
 <p data-pid="o9VzfDSA">每一个医学检测，都存在假阳性率和假阴性率。假阳性，就是没病，但是检测结果显示有病。假阴性正好相反，有病但是检测结果正常。</p>
 <p data-pid="eaq54NM4">即使检测准确率是99%，如果医生完全依赖检测结果，也会误诊。也就是说假阳性的情况，根据检测结果显示有病，但是你实际并没有得病。</p>
 <p data-pid="ItK6dnRx">举个更具体的例子，因为艾滋病潜伏期很长，所以即便感染了也可能在很长的一段时间，身体没有任何感觉，所以艾滋病检测的假阳性会导致被测人非常大的心理压力。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="IL9RI7FS"><b>你可能会觉得，检测准确率都99%了，误测几乎可以忽略不计了吧？所以你觉得这人肯定没有患艾滋病了对不对？</b></p>
 <p data-pid="wAvmOTZv">让我们用贝叶斯定理算一下，就会发现你的直觉是错误的。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Q6suMJL3">假设某种疾病的发病率是0.001，即1000人中会有1个人得病。现在有一种试剂可以检验患者是否得病，它的准确率是0.99，即在患者确实得病的情况下，它有99%的可能呈现阳性。它的误报率是5%，即在患者没有得病的情况下，它有5%的可能呈现阳性。</p>
 <p data-pid="FngpfDIg">现在有一个病人的检验结果为阳性，请问他确实得病的可能性有多大？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="qWqyegl0">好了，我知道你面对这一大推信息又头大了，我也是。但是我们不是有贝叶斯模板套路嘛，下面开始。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="hqxZdZlq"><b>第1步，分解问题</b></p>
 <p data-pid="QZikW9J0">1）要求解的问题：病人的检验结果为阳性，他确实得病的概率有多大？</p>
 <p data-pid="fHYu4-nX">病人的检验结果为阳性（新的信息）记为事件B，他得病记为事件A，</p>
 <p data-pid="JGBlrPnV">那么要求的问题就是P(A|B)，也就是病人的检验结果为阳性（B），他确实得病的概率(A)</p>
 <p data-pid="mgYYYBuS">2）已知信息</p>
 <p data-pid="J4orIUbp">这种疾病的发病率是0.001，即P(A)=0.001</p>
 <p data-pid="tWS90ZQt">试剂可以检验患者是否得病，准确率是0.99，也就是在患者确实得病的情况下(A)，它有99%的可能呈现阳性(B)，所以P(B|A)=0.99</p>
 <p data-pid="YWwABWKr">试剂的误报率是5%，即在患者没有得病的情况下，它有5%的可能呈现阳性。得病我们记为事件A，那么没有得病就是事件A的反面，记为A'，所以这句话就可以表示为P(B|A')=5%</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="7pkydh_A"><b>2.应用贝叶斯定理</b></p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-c68f37a33b910ec52d0172f66d22aa74_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="794" data-original-token="v2-c68f37a33b910ec52d0172f66d22aa74" data-default-watermark-src="https://pic1.zhimg.com/50/v2-656e531d40d5814ebb5e0a45b7854c15_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-c68f37a33b910ec52d0172f66d22aa74_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="GA4pRxo5">1）求先验概率</p>
 <p data-pid="XZel9XRw">疾病的发病率是0.001，即P(A)=0.001</p>
 <p data-pid="Hm3DzjPT">2）求可能性函数</p>
 <p data-pid="s_kFYh4O">P(B|A)/P(B)</p>
 <p data-pid="JtekM9wj">其中，P(B|A)表示在患者确实得病的情况下(A)，试剂呈现阳性的概率，从前面的已知条件中我们已经知道P(B|A)=0.99</p>
 <p data-pid="4iQE5o1e">现在只有求出P(B)就可以得到答案。根据全概率公式，可以用下图求得P(B)=0.05094</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-36c0e1b887d13450fed47cef27f207dc_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="930" data-original-token="v2-36c0e1b887d13450fed47cef27f207dc" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pica.zhimg.com/v2-36c0e1b887d13450fed47cef27f207dc_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="Z1QB-kw-">所以可能性函数P(B|A)/P(B)=0.99/0.05094=19.4346</p>
 <p data-pid="__rHi9B_">3）带入贝叶斯公式求后验概率</p>
 <p data-pid="Fh9NFNDc">我们得到了一个惊人的结果，P(A|B)等于1.94%。</p>
 <p data-pid="OlSzbbsI">也就是说，筛查的准确率都到了99%了，通过体检结果有病（阳性）确实得病的概率也只有1.94%</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-831631b375f59f8dff8032ee90159b52_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="774" data-original-token="v2-831631b375f59f8dff8032ee90159b52" data-default-watermark-src="https://picx.zhimg.com/50/v2-4daa4a867dd235edefacb2b267b345af_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://picx.zhimg.com/v2-831631b375f59f8dff8032ee90159b52_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="_0cDW5Ti">你可能会说，再也不相信那些吹的天花乱坠的技术了，说好了筛查准确率那么高，结果筛查的结果对于确诊疾病一点用都没有，这还要医学技术干什么？</p>
 <p data-pid="RgnbVgxW">没错，这就是贝叶斯分析告诉我们的。我们拿艾滋病来说，由于发艾滋病实在是小概率事件，所以当我们对一大群人做艾滋病筛查时，虽说准确率有99%，但仍然会有相当一部分人因为误测而被诊断为艾滋病，这一部分人在人群中的数目甚至比真正艾滋病患者的数目还要高。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="49FR8Wcp"><b>你肯定要问了，那该怎样纠正测量带来这么高的误诊呢？</b></p>
 <p data-pid="E8oAmBjY">造成这么不靠谱的误诊的原因，是无差别地给一大群人做筛查，而不论测量准确率有多高，因为正常人的数目远大于实际的患者，所以误测造成的干扰就非常大了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="JMeol0Sy">根据贝叶斯定理，我们知道提高先验概率，可以有效的提高后验概率。</p>
 <p data-pid="lzVpYIpH">所以解决的办法倒也很简单，就是先锁定可疑的人群，比如10000人中检查出现问题的那10个人，再独立重复检测一次。因为正常人连续两次体检都出现误测的概率极低，这时筛选出真正患者的准确率就很高了，这也是为什么许多疾病的检测，往往还要送交独立机构多次检查的原因。</p>
 <p data-pid="CTGyRZFy">这也是为什么艾滋病检测第一次呈阳性的人，还需要做第二次检测，第二次依然是阳性的还需要送交国家实验室做第三次检测。</p>
 <p data-pid="9vCMxqI0">在《医学的真相》这本书里举了个例子，假设检测艾滋病毒，对于每一个呈阳性的检测结果，只有50%的概率能证明这位患者确实感染了病毒。但是如果医生具备先验知识，先筛选出一些高风险的病人，然后再让这些病人进行艾滋病检查，检查的准确率就能提升到95%。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="hMVADfgd"><b>案例4：贝叶斯垃圾邮件过滤器</b></p>
 <p data-pid="v17RG0qk">垃圾邮件是一种令人头痛的问题，困扰着所有的互联网用户。全球垃圾邮件的高峰出现在2006年，那时候所有邮件中90%都是垃圾，2015年6月份全球垃圾邮件的比例数字首次降低到50%以下。</p>
 <p data-pid="h6cLI61k">最初的垃圾邮件过滤是靠静态关键词加一些判断条件来过滤，效果不好，漏网之鱼多，冤枉的也不少。</p>
 <p data-pid="ggYQWzYk">2002年，Paul Graham提出使用"贝叶斯推断"过滤垃圾邮件。他说，这样做的效果，好得不可思议。1000封垃圾邮件可以过滤掉995封，且没有一个误判。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="ewfhWrvZ">因为典型的垃圾邮件词汇在垃圾邮件中会以更高的频率出现，所以在做贝叶斯公式计算时，肯定会被识别出来。之后用最高频的15个垃圾词汇做联合概率计算，联合概率的结果超过90%将说明它是垃圾邮件。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="0OQSN8VZ">用贝叶斯过滤器可以识别很多改写过的垃圾邮件，而且错判率非常低。甚至不要求对初始值有多么精确，精度会在随后计算中逐渐逼近真实情况。</p>
 <p data-pid="u9A6POr4">（ps：如果留言想详细了解这个知识的很多，我后面会专门写文章来回答大家）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <blockquote data-pid="eJiInCQp">
  <b>4.生活中的贝叶斯思维</b>
 </blockquote>
 <p data-pid="gDTveA6o"><b>贝叶斯定理与人脑的工作机制很像，这也是为什么它能成为机器学习的基础。</b></p>
 <p data-pid="bn1_MfWx">如果你仔细观察小孩学习新东西的这个能力，会发现，很多东西根本就是看一遍就会。比如我3岁的外甥，看了我做俯卧撑的动作，也做了一次这个动作，虽然动作不标准，但也是有模有样。</p>
 <p data-pid="Uu7xkovC">同样的，我告诉他一个新单词，他一开始并不知道这个词是什么意思，但是他可以根据当时的情景，先来个猜测（先验概率/主观判断）。一有机会，他就会在不同的场合说出这个词，然后观察你的反应。如果我告诉他用对了，他就会进一步记住这个词的意思，如果我告诉他用错了，他就会进行相应调整。（可能性函数/调整因子）。经过这样反复的猜测、试探、调整主观判断，就是贝叶斯定理思维的过程。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="R_xWhZDU">同样的，我们成人也在用贝叶斯思维来做出决策。比如，你和女神在聊天的时候，如果对方说出“虽然”两个字，你大概就会猜测，对方后面九成的可能性会说出“但是”。我们的大脑看起来就好像是天生在用贝叶斯定理，即根据生活的经历有了主观判断（先验概率），然后根据搜集新的信息来修正（可能性函），最后做出高概率的预测（后验概率）。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="_8qquH0X">其实这个过程，就是下图的大脑决策过程：</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-6d68ccb3aaffcb0fd5060148b1ce5fdb_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="519" data-original-token="v2-6d68ccb3aaffcb0fd5060148b1ce5fdb" data-default-watermark-src="https://pica.zhimg.com/50/v2-1647343d5268c155858fa4cff9a387bf_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="540" data-original="https://pic1.zhimg.com/v2-6d68ccb3aaffcb0fd5060148b1ce5fdb_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="dsXu37Ea">所以，在生活中涉及到预测的事情，用贝叶斯的思维可以提高预测的概率。你可以分3个步骤来预测：</p>
 <p data-pid="oa6RYxxK">1.分解问题</p>
 <p data-pid="NToUzRxv">简单来说就像小学生做应用题的感觉，先列出要解决的问题是什么？已知条件有哪些？</p>
 <p data-pid="P1BaeedD">2. 给出主观判断</p>
 <p data-pid="xB1ySHAj">不是瞎猜，而是根据自己的经历和学识来给出一个主观判断。</p>
 <p data-pid="yVBZHSax">3.搜集新的信息，优化主观判断</p>
 <p data-pid="XihaXLQs">持续关于你要解决问题相关信息的最新动态，然后用获取到的新信息来不断调整第2步的主观判断。如果新信息符合这个主观判断，你就提高主观判断的可信度，如果不符合，你就降低主观判断的可信度。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="z2kZXjdq">比如我们刚开始看到“人工智能是否造成人类失业”这个信息，你有自己的理解（主观判断），但是当你学习了一些数据分析，或者看了些这方面的最新研究进展（新的信息），然后你根据掌握的最新信息优化了自己之前的理解（调整因子），最后重新理解了“人工智能”这个信息（后验概率）。这也就是胡适说的“大胆假设，小心求证”。</p>
 <hr>
 <p data-pid="DtJCfUsi">概率的基础知识补充：</p><a href="https://www.zhihu.com/lives/932655493961453568" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-12ef91a3f1e91e70bd3480d755e058b1_ipico.jpg" data-image-width="962" data-image-height="962" class="internal">人工智能时代，用概率思维发现人生机会</a><a href="https://www.zhihu.com/question/26895086/answer/224503078" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-2e7c7cb23acd0d96b4471668015d1622_120x160.jpg" data-image-width="540" data-image-height="930" class="internal">概率（Probability）的本质是什么？</a><a href="https://www.zhihu.com/question/27462939/answer/232983694" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-efec238c5a83bebea4e5f8dcb687e138_120x160.jpg" data-image-width="540" data-image-height="930" class="internal">如何理解条件概率？</a><a href="https://www.zhihu.com/question/20169510/answer/232054680" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-5640be0e31c66d0f9030c7ac3fa59922_ipico.jpg" data-image-width="1024" data-image-height="1024" class="internal">如何更好地理解「选择比努力更重要」？</a>
 <p data-pid="pXgEHZgQ"><i>参考资料：</i></p>
 <p data-pid="GOUS9nhM"><i>YouTube英文视频《Thomas Bayes: Probability for Success》</i></p>
 <p data-pid="bzSSlW1c"><i>YouTube英文视频《Everything You Ever Wanted to Know About Bayes' Theorem But Were Afraid To Ask.》</i></p>
 <p data-pid="l_p1jfWb"><i>贝叶斯垃圾邮件过滤器：</i><a href="https://link.zhihu.com/?target=http%3A//www.paulgraham.com/spam.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">paulgraham.com/spam.htm</span><span class="invisible">l</span><span class="ellipsis"></span></a></p>
 <p data-pid="hE3-WZbH"><i>贝叶斯垃圾邮件过滤Wiki：</i><a href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Naive_Bayes_spam_filtering" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">en.wikipedia.org/wiki/N</span><span class="invisible">aive_Bayes_spam_filtering</span><span class="ellipsis"></span></a></p>
 <p data-pid="wHWiSGph"><a href="https://link.zhihu.com/?target=http%3A//www.ruanyifeng.com/blog/2011/08/bayesian_inference_part_one.html" class=" wrap external" target="_blank" rel="nofollow noreferrer">贝叶斯推断及其互联网应用（一）</a></p>
 <p data-pid="EL-x-UmN"><a href="https://link.zhihu.com/?target=http%3A//www.ftchinese.com/story/001059025%3Ffull%3Dy" class=" wrap external" target="_blank" rel="nofollow noreferrer">《联邦党人文集》背后的统计学幽灵</a></p>
 <p class="ztext-empty-paragraph"><br></p><a href="https://www.zhihu.com/xen/market/remix/paid_column/1338179624246439937" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-ffccdcd3c454f47f5b89221556c1c502_120x160.jpg" data-image-width="200" data-image-height="267" class="internal">数据分析入行指南：助你互联网行业发展有「钱」途</a>
 <p></p><a data-draft-node="block" data-draft-type="mcn-link-card" data-mcn-id="1745464665185112064"></a><a data-draft-node="block" data-draft-type="mcn-link-card" data-mcn-id="1745464669865955328"></a>
 <p></p>
</body>
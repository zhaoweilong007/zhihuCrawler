# 如果腾讯的数据库被盗了，2个多亿的帐号密码泄露，用什么方法能使损失降到最小？
- 点赞数：5468
- 更新时间：2018年05月04日12时30分57秒
- 回答url：https://www.zhihu.com/question/19983293/answer/356274520
<body>
 <p data-pid="cJUBkY0h">我错了，推特的密码刚刚才泄露，大公司好像都喜欢存明文，脸疼ing</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-9b358f22566671eeda024be3a2da3c65_720w.jpg?source=1940ef5c" data-rawwidth="1080" data-rawheight="2244" data-size="normal" data-original-token="v2-8ab3d01b85ae538db9a0d6f1a675a246" data-default-watermark-src="https://pica.zhimg.com/50/v2-70f0e6d7eb2dc9c8a4aba3f06bf3ff99_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://picx.zhimg.com/v2-9b358f22566671eeda024be3a2da3c65_r.jpg?source=1940ef5c">
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="u6Z5xBXh">原回答:</p>
 <p data-pid="-zxwXgVQ">密码是不可能泄露的，这辈子都不可能泄露的。</p>
 <p data-pid="8n9x6lRl">因为它不能泄露一个不存在的东西，所有的网站都只能让你修改密码而不能让你“找回”密码，因为数据库里根本就没有存密码的原文，而且哈希函数不可逆。</p>
 <p data-pid="aDaJsXY6">以下是安全度递增的方式</p>
 <p data-pid="lkHMFo3F">pw=pw</p>
 <p data-pid="nhq0TOy-">pw=hash(pw)</p>
 <p data-pid="5MQDFKUO">pw=hash(pw+"string")</p>
 <p data-pid="9DxuH_Zy">pw=hash(pw+"string"+username)</p>
 <p data-pid="Y60e4Fr-">pw=hash(pw+"string"+username+…)</p>
 <p data-pid="oOBx625Z">第一种方法被脱裤就能看到密码</p>
 <p data-pid="-vcu4S64">第二种用彩虹表可以查出部分密码</p>
 <p data-pid="L3R51uom">第三种有一点点的可能被"猜"出"string"而有被查彩虹表的可能，而这种可能性已经非常低了</p>
 <p data-pid="7BconaDU">后边的基本没什么可能被猜中了</p>
 <p data-pid="DbgFQq8Z">---------------分割线--------------</p>
 <p data-pid="5ynvZHwV">说实话我并没有在什么大公司的工作经历，以上这些是自己做一些小型网站的些许经验，跟大公司的实际运营还有很大差距。上边提到的这些做法确实可以防止密码原文的泄露，解密成本确实很高，仅此而已。</p>
 <p data-pid="HZyQ8ZWp">找了本书大家看看，可以参考一下</p>
 <p class="ztext-empty-paragraph"><br></p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-d23906ddfb22beece2423e929a6b1b5d_720w.jpg?source=1940ef5c" data-rawwidth="2276" data-rawheight="1280" data-size="normal" data-original-token="v2-d23906ddfb22beece2423e929a6b1b5d" class="origin_image zh-lightbox-thumb" width="2276" data-original="https://pic1.zhimg.com/v2-d23906ddfb22beece2423e929a6b1b5d_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="9t599rjG">统一回复下</p>
 <p data-pid="A57aiV-O">好多人都在问为什么修改密码的时候会提示不要用之前用过的密码，这并不代表数据库里就存了密码原文，往期密码同样是存的哈希值，等你改密码的时候算一下哈希值跟那几个往期的哈希值比较一下就知道了嘛，这个过程是不需要往期密码原文的。</p>
 <p data-pid="geEolqOy">爱学习的人们，我看的书是这个</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-2f08d34461eb8f833c88b8ff81950ce0_720w.jpg?source=1940ef5c" data-rawwidth="1080" data-rawheight="1920" data-size="normal" data-original-token="v2-2f08d34461eb8f833c88b8ff81950ce0" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic1.zhimg.com/v2-2f08d34461eb8f833c88b8ff81950ce0_r.jpg?source=1940ef5c">
 </figure>
</body>
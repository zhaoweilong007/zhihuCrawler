# 有没有一段代码，让你为人类的智慧击节叫好？
- 点赞数：12966
- 更新时间：2015年05月23日21时37分56秒
- 回答url：https://www.zhihu.com/question/30262900/answer/48741026
<body>
 <p data-pid="myVpeEhd">当然是这个啦！</p><a href="https://link.zhihu.com/?target=http%3A//www.matrix67.com/blog/archives/6039" class=" wrap external" target="_blank" rel="nofollow noreferrer">用三段 140 字符以内的代码生成一张 1024×1024 的图片</a>
 <p data-pid="fgtdwQZw">原文 by Matrix67</p>
 <blockquote data-pid="hccfBZGp">
  Kyle McCormick 在 StackExchange 上发起了一个叫做 <a href="https://link.zhihu.com/?target=http%3A//codegolf.stackexchange.com/questions/35569/tweetable-mathematical-art" class=" wrap external" target="_blank" rel="nofollow noreferrer">Tweetable Mathematical Art</a> 的比赛，参赛者需要用三条推这么长的代码来生成一张图片。具体地说，参赛者需要用 C++ 语言编写 RD 、 GR 、 BL 三个函数，每个函数都不能超过 140 个字符。每个函数都会接到 i 和 j 两个整型参数（0 ≤ i, j ≤ 1023），然后需要返回一个 0 到 255 之间的整数，表示位于 (i, j) 的像素点的颜色值。举个例子，如果 RD(0, 0) 和 GR(0, 0) 返回的都是 0 ，但 BL(0, 0) 返回的是 255 ，那么图像的最左上角那个像素就是蓝色。参赛者编写的代码会被插进下面这段程序当中（我做了一些细微的改动），最终会生成一个大小为 1024×1024 的图片。
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="c1">// NOTE: compile with g++ filename.cpp -std=c++11
</span><span class="c1"></span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;cmath&gt;</span><span class="cp">
</span><span class="cp">#include</span> <span class="cpf">&lt;cstdlib&gt;</span><span class="cp">
</span><span class="cp">#define DIM 1024
</span><span class="cp">#define DM1 (DIM-1)
</span><span class="cp">#define _sq(x) ((x)*(x)) </span><span class="c1">// square
</span><span class="c1"></span><span class="cp">#define _cb(x) abs((x)*(x)*(x)) </span><span class="c1">// absolute value of cube
</span><span class="c1"></span><span class="cp">#define _cr(x) (unsigned char)(pow((x),1.0/3.0)) </span><span class="c1">// cube root
</span><span class="c1"></span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="c1">// YOUR CODE HERE
</span><span class="c1"></span><span class="p">}</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="c1">// YOUR CODE HERE
</span><span class="c1"></span><span class="p">}</span>
<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="c1">// YOUR CODE HERE
</span><span class="c1"></span><span class="p">}</span>

<span class="kt">void</span> <span class="nf">pixel_write</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="kt">int</span><span class="p">);</span>
<span class="n">FILE</span> <span class="o">*</span><span class="n">fp</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
<span class="n">fp</span> <span class="o">=</span> <span class="n">fopen</span><span class="p">(</span><span class="s">"MathPic.ppm"</span><span class="p">,</span><span class="s">"wb"</span><span class="p">);</span>
<span class="n">fprintf</span><span class="p">(</span><span class="n">fp</span><span class="p">,</span> <span class="s">"P6</span><span class="se">\n</span><span class="s">%d %d</span><span class="se">\n</span><span class="s">255</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">DIM</span><span class="p">,</span> <span class="n">DIM</span><span class="p">);</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">DIM</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">DIM</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="n">pixel_write</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">);</span>
<span class="n">fclose</span><span class="p">(</span><span class="n">fp</span><span class="p">);</span>
<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
<span class="kt">void</span> <span class="nf">pixel_write</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span> <span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">static</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">color</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
<span class="n">color</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">RD</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">255</span><span class="p">;</span>
<span class="n">color</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">GR</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">255</span><span class="p">;</span>
<span class="n">color</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">BL</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">&amp;</span><span class="mi">255</span><span class="p">;</span>
<span class="n">fwrite</span><span class="p">(</span><span class="n">color</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">fp</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="7VdFODsm">
  <p data-pid="c4qVJqn2">我选了一些自己比较喜欢的作品，放在下面和大家分享。</p>
  <p data-pid="-ztTPb7V">首先是一个来自 Martin Büttner 的作品：</p>
 </blockquote>
 <figure>
  <img src="https://pic1.zhimg.com/50/11d61f93fad9003cb8e662b828eea8e7_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="11d61f93fad9003cb8e662b828eea8e7" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://pica.zhimg.com/11d61f93fad9003cb8e662b828eea8e7_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="lx0bhPIb">
  它的代码如下：
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">return</span> <span class="p">(</span><span class="kt">char</span><span class="p">)(</span><span class="n">_sq</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">atan2</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mi">512</span><span class="p">,</span><span class="n">i</span><span class="o">-</span><span class="mi">512</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">return</span> <span class="p">(</span><span class="kt">char</span><span class="p">)(</span><span class="n">_sq</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">atan2</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mi">512</span><span class="p">,</span><span class="n">i</span><span class="o">-</span><span class="mi">512</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">*</span><span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">return</span> <span class="p">(</span><span class="kt">char</span><span class="p">)(</span><span class="n">_sq</span><span class="p">(</span><span class="n">cos</span><span class="p">(</span><span class="n">atan2</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mi">512</span><span class="p">,</span><span class="n">i</span><span class="o">-</span><span class="mi">512</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">acos</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span><span class="p">))</span><span class="o">*</span><span class="mi">255</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="25hoRFAb">
  同样是来自 Martin Büttner 的作品：
 </blockquote>
 <figure>
  <img src="https://pica.zhimg.com/50/31185d6591b8d8969128cda8b94f57ef_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="31185d6591b8d8969128cda8b94f57ef" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://picx.zhimg.com/31185d6591b8d8969128cda8b94f57ef_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="DgbJ3uXp">
  这是目前暂时排名第一的作品。它的代码如下：
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="cp">#define r(n)(rand()%n)
</span><span class="cp"></span><span class="k">static</span> <span class="kt">char</span> <span class="n">c</span><span class="p">[</span><span class="mi">1024</span><span class="p">][</span><span class="mi">1024</span><span class="p">];</span><span class="k">return</span><span class="o">!</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">?</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=!</span><span class="n">r</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span><span class="o">?</span><span class="n">r</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span><span class="o">:</span><span class="n">RD</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">%</span><span class="mi">1024</span><span class="p">,(</span><span class="n">j</span><span class="o">+</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">%</span><span class="mi">1024</span><span class="p">)</span><span class="o">:</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">static</span> <span class="kt">char</span> <span class="n">c</span><span class="p">[</span><span class="mi">1024</span><span class="p">][</span><span class="mi">1024</span><span class="p">];</span><span class="k">return</span><span class="o">!</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">?</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=!</span><span class="n">r</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span><span class="o">?</span><span class="n">r</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span><span class="o">:</span><span class="n">GR</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">%</span><span class="mi">1024</span><span class="p">,(</span><span class="n">j</span><span class="o">+</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">%</span><span class="mi">1024</span><span class="p">)</span><span class="o">:</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">static</span> <span class="kt">char</span> <span class="n">c</span><span class="p">[</span><span class="mi">1024</span><span class="p">][</span><span class="mi">1024</span><span class="p">];</span><span class="k">return</span><span class="o">!</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">?</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=!</span><span class="n">r</span><span class="p">(</span><span class="mi">999</span><span class="p">)</span><span class="o">?</span><span class="n">r</span><span class="p">(</span><span class="mi">256</span><span class="p">)</span><span class="o">:</span><span class="n">BL</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">%</span><span class="mi">1024</span><span class="p">,(</span><span class="n">j</span><span class="o">+</span><span class="n">r</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">%</span><span class="mi">1024</span><span class="p">)</span><span class="o">:</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="V5ab28Vx">
  下面这张图片仍然出自 Martin Büttner 之手：
 </blockquote>
 <figure>
  <img src="https://picx.zhimg.com/50/b288d9509ab468d2366789b68ad19d26_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="b288d9509ab468d2366789b68ad19d26" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://pic1.zhimg.com/b288d9509ab468d2366789b68ad19d26_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="ChZggHJ3">
  难以想象， Mandelbrot 分形图形居然可以只用这么一点代码画出：
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">float</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kt">int</span> <span class="n">k</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">++&lt;</span><span class="mi">256</span><span class="p">;){</span><span class="kt">float</span> <span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mf">768.0</span><span class="p">)</span><span class="o">/</span><span class="mi">512</span><span class="p">;</span><span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mf">512.0</span><span class="p">)</span><span class="o">/</span><span class="mi">512</span><span class="p">;</span><span class="n">x</span><span class="o">=</span><span class="n">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">)</span><span class="k">break</span><span class="p">;}</span><span class="k">return</span> <span class="n">log</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="mi">47</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">float</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kt">int</span> <span class="n">k</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">++&lt;</span><span class="mi">256</span><span class="p">;){</span><span class="kt">float</span> <span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mf">768.0</span><span class="p">)</span><span class="o">/</span><span class="mi">512</span><span class="p">;</span><span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mf">512.0</span><span class="p">)</span><span class="o">/</span><span class="mi">512</span><span class="p">;</span><span class="n">x</span><span class="o">=</span><span class="n">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">)</span><span class="k">break</span><span class="p">;}</span><span class="k">return</span> <span class="n">log</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="mi">47</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">float</span> <span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="kt">int</span> <span class="n">k</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">++&lt;</span><span class="mi">256</span><span class="p">;){</span><span class="kt">float</span> <span class="n">a</span><span class="o">=</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="p">(</span><span class="n">i</span><span class="o">-</span><span class="mf">768.0</span><span class="p">)</span><span class="o">/</span><span class="mi">512</span><span class="p">;</span><span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">+</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mf">512.0</span><span class="p">)</span><span class="o">/</span><span class="mi">512</span><span class="p">;</span><span class="n">x</span><span class="o">=</span><span class="n">a</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">*</span><span class="n">y</span><span class="o">&gt;</span><span class="mi">4</span><span class="p">)</span><span class="k">break</span><span class="p">;}</span><span class="k">return</span> <span class="mi">128</span><span class="o">-</span><span class="n">log</span><span class="p">(</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="mi">23</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="l1t_KQX0">
  Manuel Kasten 也制作了一个 Mandelbrot 集的图片，与刚才不同的是，该图描绘的是 Mandelbrot 集在某处局部放大后的结果：
 </blockquote>
 <figure>
  <img src="https://picx.zhimg.com/50/5b878f5a13ead11f7aeaa2780f62fb03_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="5b878f5a13ead11f7aeaa2780f62fb03" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://pic1.zhimg.com/5b878f5a13ead11f7aeaa2780f62fb03_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="fbSJsWa6">
  它的代码如下：
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">double</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="p">((</span><span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="n">n</span><span class="o">++&lt;</span><span class="mi">880</span><span class="p">)</span>
<span class="p">{</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">j</span><span class="o">*</span><span class="mf">8e-9</span><span class="o">-</span><span class="mf">.645411</span><span class="p">;</span><span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="o">-</span><span class="n">d</span><span class="o">+</span><span class="n">i</span><span class="o">*</span><span class="mf">8e-9</span><span class="o">+</span><span class="mf">.356888</span><span class="p">;}</span>
<span class="k">return</span> <span class="mi">255</span><span class="o">*</span><span class="n">pow</span><span class="p">((</span><span class="n">n</span><span class="o">-</span><span class="mi">80</span><span class="p">)</span><span class="o">/</span><span class="mi">800</span><span class="p">,</span><span class="mf">3.</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">double</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="p">((</span><span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="n">n</span><span class="o">++&lt;</span><span class="mi">880</span><span class="p">)</span>
<span class="p">{</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">j</span><span class="o">*</span><span class="mf">8e-9</span><span class="o">-</span><span class="mf">.645411</span><span class="p">;</span><span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="o">-</span><span class="n">d</span><span class="o">+</span><span class="n">i</span><span class="o">*</span><span class="mf">8e-9</span><span class="o">+</span><span class="mf">.356888</span><span class="p">;}</span>
<span class="k">return</span> <span class="mi">255</span><span class="o">*</span><span class="n">pow</span><span class="p">((</span><span class="n">n</span><span class="o">-</span><span class="mi">80</span><span class="p">)</span><span class="o">/</span><span class="mi">800</span><span class="p">,</span><span class="mf">.7</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">double</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">,</span><span class="n">n</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="k">while</span><span class="p">((</span><span class="n">c</span><span class="o">=</span><span class="n">a</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="o">+</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">4</span><span class="o">&amp;&amp;</span><span class="n">n</span><span class="o">++&lt;</span><span class="mi">880</span><span class="p">)</span>
<span class="p">{</span><span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">b</span><span class="o">+</span><span class="n">j</span><span class="o">*</span><span class="mf">8e-9</span><span class="o">-</span><span class="mf">.645411</span><span class="p">;</span><span class="n">a</span><span class="o">=</span><span class="n">c</span><span class="o">-</span><span class="n">d</span><span class="o">+</span><span class="n">i</span><span class="o">*</span><span class="mf">8e-9</span><span class="o">+</span><span class="mf">.356888</span><span class="p">;}</span>
<span class="k">return</span> <span class="mi">255</span><span class="o">*</span><span class="n">pow</span><span class="p">((</span><span class="n">n</span><span class="o">-</span><span class="mi">80</span><span class="p">)</span><span class="o">/</span><span class="mi">800</span><span class="p">,</span><span class="mf">.5</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="-a_QTk66">
  这是 Manuel Kasten 的另一作品：
 </blockquote>
 <figure>
  <img src="https://picx.zhimg.com/50/8316e5fcd05248fc7f88a3420c1ff96a_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="8316e5fcd05248fc7f88a3420c1ff96a" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://picx.zhimg.com/8316e5fcd05248fc7f88a3420c1ff96a_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="Dwv93oqf">
  生成这张图片的代码很有意思：函数依靠 static 变量来控制绘画的进程，完全没有用到 i 和 j 这两个参数！
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">static</span> <span class="kt">double</span> <span class="n">k</span><span class="p">;</span><span class="n">k</span><span class="o">+=</span><span class="n">rand</span><span class="p">()</span><span class="o">/</span><span class="mf">1.</span><span class="o">/</span><span class="n">RAND_MAX</span><span class="p">;</span><span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="n">k</span><span class="p">;</span><span class="n">l</span><span class="o">%=</span><span class="mi">512</span><span class="p">;</span><span class="k">return</span> <span class="n">l</span><span class="o">&gt;</span><span class="mi">255</span><span class="o">?</span><span class="mi">511</span><span class="o">-</span><span class="nl">l</span><span class="p">:</span><span class="n">l</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">static</span> <span class="kt">double</span> <span class="n">k</span><span class="p">;</span><span class="n">k</span><span class="o">+=</span><span class="n">rand</span><span class="p">()</span><span class="o">/</span><span class="mf">1.</span><span class="o">/</span><span class="n">RAND_MAX</span><span class="p">;</span><span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="n">k</span><span class="p">;</span><span class="n">l</span><span class="o">%=</span><span class="mi">512</span><span class="p">;</span><span class="k">return</span> <span class="n">l</span><span class="o">&gt;</span><span class="mi">255</span><span class="o">?</span><span class="mi">511</span><span class="o">-</span><span class="nl">l</span><span class="p">:</span><span class="n">l</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="k">static</span> <span class="kt">double</span> <span class="n">k</span><span class="p">;</span><span class="n">k</span><span class="o">+=</span><span class="n">rand</span><span class="p">()</span><span class="o">/</span><span class="mf">1.</span><span class="o">/</span><span class="n">RAND_MAX</span><span class="p">;</span><span class="kt">int</span> <span class="n">l</span><span class="o">=</span><span class="n">k</span><span class="p">;</span><span class="n">l</span><span class="o">%=</span><span class="mi">512</span><span class="p">;</span><span class="k">return</span> <span class="n">l</span><span class="o">&gt;</span><span class="mi">255</span><span class="o">?</span><span class="mi">511</span><span class="o">-</span><span class="nl">l</span><span class="p">:</span><span class="n">l</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="StfJrddh">
  这是来自 githubphagocyte 的作品：
 </blockquote>
 <figure>
  <img src="https://pica.zhimg.com/50/5f0f8d811e64fd9ba38e6f893d3eb3b5_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="5f0f8d811e64fd9ba38e6f893d3eb3b5" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://pic1.zhimg.com/5f0f8d811e64fd9ba38e6f893d3eb3b5_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="lZbbaMvx">
  它的代码如下：
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">float</span> <span class="n">s</span><span class="o">=</span><span class="mf">3.</span><span class="o">/</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">99</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="n">_sq</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mi">700</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="mf">100.</span><span class="o">/</span><span class="n">DIM</span><span class="p">)</span><span class="o">*</span><span class="mi">35</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="p">;</span>
<span class="k">return</span> <span class="p">(</span><span class="kt">int</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="n">DIM</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span><span class="o">+</span><span class="kt">int</span><span class="p">((</span><span class="n">DIM</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">+</span><span class="n">y</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">127</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">float</span> <span class="n">s</span><span class="o">=</span><span class="mf">3.</span><span class="o">/</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">99</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="n">_sq</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mi">700</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="mf">100.</span><span class="o">/</span><span class="n">DIM</span><span class="p">)</span><span class="o">*</span><span class="mi">35</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="p">;</span>
<span class="k">return</span> <span class="p">(</span><span class="kt">int</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="n">DIM</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">%</span><span class="mi">2</span><span class="o">+</span><span class="kt">int</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="p">((</span><span class="n">DIM</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">%</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">127</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="kt">float</span> <span class="n">s</span><span class="o">=</span><span class="mf">3.</span><span class="o">/</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="mi">99</span><span class="p">);</span>
<span class="kt">float</span> <span class="n">y</span><span class="o">=</span><span class="p">(</span><span class="n">j</span><span class="o">+</span><span class="n">sin</span><span class="p">((</span><span class="n">i</span><span class="o">*</span><span class="n">i</span><span class="o">+</span><span class="n">_sq</span><span class="p">(</span><span class="n">j</span><span class="o">-</span><span class="mi">700</span><span class="p">)</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span><span class="o">/</span><span class="mf">100.</span><span class="o">/</span><span class="n">DIM</span><span class="p">)</span><span class="o">*</span><span class="mi">35</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="p">;</span>
<span class="k">return</span> <span class="p">(</span><span class="kt">int</span><span class="p">(</span><span class="mi">29</span><span class="o">*</span><span class="p">((</span><span class="n">i</span><span class="o">+</span><span class="n">DIM</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">%</span><span class="mi">2</span><span class="o">+</span><span class="kt">int</span><span class="p">(</span><span class="mi">29</span><span class="o">*</span><span class="p">((</span><span class="n">DIM</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">s</span><span class="o">+</span><span class="n">y</span><span class="p">))</span><span class="o">%</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="mi">127</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="P_NcTXKl">
  这是来自 githubphagocyte 的另一个作品：
 </blockquote>
 <figure>
  <img src="https://picx.zhimg.com/50/6441aa111a15bb18f094fca166d794f9_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="6441aa111a15bb18f094fca166d794f9" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://pic1.zhimg.com/6441aa111a15bb18f094fca166d794f9_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="dLOUYbfw">
  这是一张使用 diffusion-limited aggregation 模型得到的图片，程序运行起来要耗费不少时间。代码很有意思：巧妙地利用宏定义，打破了函数与函数之间的界限，三段代码的字数限制便能合在一起使用了。
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="cp">#define D DIM
</span><span class="cp">#define M m[(x+D+(d==0)-(d==2))%D][(y+D+(d==1)-(d==3))%D]
</span><span class="cp">#define R rand()%D
</span><span class="cp">#define B m[x][y]
</span><span class="cp"></span><span class="k">return</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="p">)</span><span class="o">?</span><span class="mi">256</span><span class="o">-</span><span class="p">(</span><span class="n">BL</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">))</span><span class="o">/</span><span class="mi">2</span><span class="o">:</span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="cp">#define A static int m[D][D],e,x,y,d,c[4],f,n;if(i+j&lt;1){for(d=D*D;d;d--){m[d%D][d/D]=d%6?0:rand()%2000?1:255;}for(n=1
</span><span class="cp"></span><span class="k">return</span> <span class="n">RD</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="n">A</span><span class="p">;</span><span class="n">n</span><span class="p">;</span><span class="n">n</span><span class="o">++</span><span class="p">){</span><span class="n">x</span><span class="o">=</span><span class="n">R</span><span class="p">;</span><span class="n">y</span><span class="o">=</span><span class="n">R</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="n">B</span><span class="o">==</span><span class="mi">1</span><span class="p">){</span><span class="n">f</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="k">for</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">d</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">;</span><span class="n">d</span><span class="o">++</span><span class="p">){</span><span class="n">c</span><span class="p">[</span><span class="n">d</span><span class="p">]</span><span class="o">=</span><span class="n">M</span><span class="p">;</span><span class="n">f</span><span class="o">=</span><span class="n">f</span><span class="o">&lt;</span><span class="n">c</span><span class="p">[</span><span class="n">d</span><span class="p">]</span><span class="o">?</span><span class="n">c</span><span class="p">[</span><span class="n">d</span><span class="p">]</span><span class="o">:</span><span class="n">f</span><span class="p">;}</span><span class="k">if</span><span class="p">(</span><span class="n">f</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">){</span><span class="n">B</span><span class="o">=</span><span class="n">f</span><span class="o">-</span><span class="mi">1</span><span class="p">;}</span><span class="k">else</span><span class="p">{</span><span class="o">++</span><span class="n">e</span><span class="o">%=</span><span class="mi">4</span><span class="p">;</span><span class="n">d</span><span class="o">=</span><span class="n">e</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">c</span><span class="p">[</span><span class="n">e</span><span class="p">]){</span><span class="n">B</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">M</span><span class="o">=</span><span class="mi">1</span><span class="p">;}}}}}</span><span class="k">return</span> <span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
 </div>
 <br>
 <blockquote data-pid="_IdC9ZGk">
  最后这张图来自 Eric Tressler：
 </blockquote>
 <figure>
  <img src="https://pica.zhimg.com/50/459d72f9e2b030afae014662c34125c3_720w.jpg?source=1940ef5c" data-rawheight="1024" data-rawwidth="1024" data-original-token="459d72f9e2b030afae014662c34125c3" class="origin_image zh-lightbox-thumb" width="1024" data-original="https://pic1.zhimg.com/459d72f9e2b030afae014662c34125c3_r.jpg?source=1940ef5c">
 </figure>
 <blockquote data-pid="gwGl3W4h">
  这是由 logistic 映射得到的 Feigenbaum 分岔图。和刚才一样，对应的代码也巧妙地利用了宏定义来节省字符：
 </blockquote>
 <div class="highlight">
  <pre><code class="language-cpp"><span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">RD</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="cp">#define A float a=0,b,k,r,x
</span><span class="cp">#define B int e,o
</span><span class="cp">#define C(x) x&gt;255?255:x
</span><span class="cp">#define R return
</span><span class="cp">#define D DIM
</span><span class="cp"></span><span class="n">R</span> <span class="n">BL</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">D</span><span class="o">-</span><span class="n">i</span><span class="p">)</span><span class="o">/</span><span class="n">D</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">GR</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="cp">#define E DM1
</span><span class="cp">#define F static float
</span><span class="cp">#define G for(
</span><span class="cp">#define H r=a*1.6/D+2.4;x=1.0001*b/D
</span><span class="cp"></span><span class="n">R</span> <span class="n">BL</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">D</span><span class="o">-</span><span class="n">j</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="n">D</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">unsigned</span> <span class="kt">char</span> <span class="nf">BL</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="p">,</span><span class="kt">int</span> <span class="n">j</span><span class="p">){</span>
<span class="n">F</span> <span class="n">c</span><span class="p">[</span><span class="n">D</span><span class="p">][</span><span class="n">D</span><span class="p">];</span><span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">j</span><span class="o">&lt;</span><span class="mi">1</span><span class="p">){</span><span class="n">A</span><span class="p">;</span><span class="n">B</span><span class="p">;</span><span class="n">G</span><span class="p">;</span><span class="n">a</span><span class="o">&lt;</span><span class="n">D</span><span class="p">;</span><span class="n">a</span><span class="o">+=</span><span class="mf">0.1</span><span class="p">){</span><span class="n">G</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">b</span><span class="o">&lt;</span><span class="n">D</span><span class="p">;</span><span class="n">b</span><span class="o">++</span><span class="p">){</span><span class="n">H</span><span class="p">;</span><span class="n">G</span> <span class="n">k</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">k</span><span class="o">&lt;</span><span class="n">D</span><span class="p">;</span><span class="n">k</span><span class="o">++</span><span class="p">){</span><span class="n">x</span><span class="o">=</span><span class="n">r</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">);</span><span class="k">if</span><span class="p">(</span><span class="n">k</span><span class="o">&gt;</span><span class="n">D</span><span class="o">/</span><span class="mi">2</span><span class="p">){</span><span class="n">e</span><span class="o">=</span><span class="n">a</span><span class="p">;</span><span class="n">o</span><span class="o">=</span><span class="p">(</span><span class="n">E</span><span class="o">*</span><span class="n">x</span><span class="p">);</span><span class="n">c</span><span class="p">[</span><span class="n">e</span><span class="p">][</span><span class="n">o</span><span class="p">]</span><span class="o">+=</span><span class="mf">0.01</span><span class="p">;}}}}}</span><span class="n">R</span> <span class="n">C</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">])</span><span class="o">*</span><span class="n">i</span><span class="o">/</span><span class="n">D</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
 </div>
</body>
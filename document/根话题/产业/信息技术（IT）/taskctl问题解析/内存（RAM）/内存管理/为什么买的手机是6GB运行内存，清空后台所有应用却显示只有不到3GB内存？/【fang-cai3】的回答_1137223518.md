# 为什么买的手机是6GB运行内存，清空后台所有应用却显示只有不到3GB内存？
- 点赞数：11534
- 更新时间：2020年04月11日18时02分36秒
- 回答url：https://www.zhihu.com/question/386087170/answer/1137223518
<body>
 <p data-pid="sEzsjifz">作为一个多年安卓平台程序员, 发自肺腑的一句话....</p>
 <p data-pid="Fx2PjCnY">安卓就tm是个垃圾!</p>
 <p data-pid="a56UQiPM">给这个平台开发程序就是折寿, 很多小问题, 在别的平台都不是事, 到了安卓....呵呵.折腾你好几天吃不下饭.</p>
 <p data-pid="YN54YJs8">到处都是权限, 这个不允许,那个不让弄. 这不允许访问.那里不让读取.</p>
 <p data-pid="kG0B0RQK">最关键的是 .权限机制异常繁琐, 效率低下.内存占用还大!</p>
 <p data-pid="udd4Jq8d">我们公司开发相机app. 也就占用几十兆内存, 但有一次接了个低端机项目, 内存1G的. 一拍照系统说没内存. 崩掉了.</p>
 <p data-pid="9mSoTDfM">你说着急不着急. 处理图片能消耗多大内存?</p>
 <p data-pid="t3tkWgiY">4160x3120的rgb图片. 各种边边角角都算上.你给我开200M内存我开心的要死.</p>
 <p data-pid="ONGPe46F">但是你1G内存. 连给前台APP分配 200M内存都无法保证. 你个垃圾安卓还有啥理由说自己是是个新时代的智能系统?</p>
 <p data-pid="qcKc6NfG">很多人说,安卓 不输 苹果! 流畅度刚刚地. 我呸! 你刚买的新手机当然这样了. 等你微信,微博.qq 等常用软件装一堆试试? 你一个智能操作系统连限制后台cpu占用率的一篮子解决方案都没有?那你整天安卓 5,6,7,8,9,10 更新了个屁?</p>
 <p data-pid="sZgU0kbM">还有, 我们公司是做软件内置的. 有时和客户商量好, 一台机器给多少钱(按台收费),那我们就要按照每台的唯一识别号收费吧? 可是安卓个垃圾说是要服从欧洲的什么XX法律. 导致我们app里因为权限问题得到的android-id(设备识别号)是错的!</p>
 <p data-pid="o6N2a9ur">也就是说,如果客户不地道,在rom里面动手脚,修改一下核心代码, 那么在app层,你读出的cpu-id, android-id, 甚至别的mac号什么的. 可能都是一堆000000000.</p>
 <p data-pid="Hh-bYFNy">好,你提供错的我们也忍了. 因为毕竟是内置软件.我们可以修改rom嘛 , 我们把部分代码拆分到ROM层(内行话叫HAL层或者framework层)里面, 我在ROM层获得android-id再传给app行了吧?</p>
 <p data-pid="aqLY57hj">安卓这贱人淫笑着说: 不行!</p>
 <p data-pid="fWtPTbVM">事实上你数据也确实传不出去. 因为安卓有文件系统权限隔离, ROM层写到sd卡上的文件 ,app里看不到. app写的文件你在ROM层里也找不着..就是这么贱. 双方无法通信.彼此看不到对方.好像是平行世界.</p>
 <p data-pid="vfTT0-kK">(但是最后权限总能拿到, 因为不给权限我们的相机就拒绝运行,手机厂商不答应就别用呗, 反正你给的钱又不多,我们公司虽然也快饿死了但也不缺这几个瓜子, 最终客户依然会妥协, 我们要啥权限给啥, 但项目一开始权限没给就会导致折腾, 反复的交涉很烦.)</p>
 <p data-pid="AUBVv61u">有的程序员看了会说: 那你们可以通过增加接口,打洞的方式,让app层问system层要数据呀?不就是加几个函数接口的事吗?</p>
 <p data-pid="U_N412RU">说是说的简单啊 ,但是这牵扯到要改至少几十个文件,每次修改好然后调试.你都要战战兢兢地把修改后的代码上传到编版本的机器上make一遍. 不报错后,然后关手机,刷机.再开机.测试. 一轮下来至少半小时.</p>
 <p data-pid="Q9hLycvf">你说为了传十几个byte,折腾到半夜值吗?老板又没有每个月给我发个5万8万的,觉得值你来搞?我反正到了18点就要下班,先吃一碗12元的不加肉拉面,然后去路口洗脚店里抱小妹去. 你慢慢加班替我做如何?</p>
 <p data-pid="PePBiOi1">回头想想,程序员的时间真的是不值钱. 上游的一帮装逼狂+混球程序员设置各种障碍, 然后让下游的另一帮程序员天天浪费时间,疯狂加班研究怎么绕路怎么迂回.</p>
 <p data-pid="5X3AjqwA">你说我只要不是个智障, 我为啥会去给那帮上游挖坑的程序员叫好?去赞美他们弄出来那一堆该死的权限系统?</p>
 <p data-pid="GOGA6Ar3">一直到我写这个答案的今天. 每次移植我们的相机项目,都要掉一把头发. 各种因为权限的问题都要折腾好几个来回. FAE(负责跑到厂家那边移植的工程师)也累个半死. 我的代码里只想简单滴保存一个小文件, fopen("xxxx.txt","wb") 一下, 结果给我报告失败.说我没权限....</p>
 <p data-pid="jZtsibdn">而你又不能每次都联网测试版权. 因为你的手机可能会卖到非洲, 碰巧有一天一个大老黑在草原上想用安卓手机, 拍摄一场百年不遇的 彭彭和丁满互相打飞机的好戏. 你不能说现场没网络而不让客户拍摄是吧?</p>
 <p data-pid="akB1BL3e">所以一般用户,你们真别抱怨什么6GB内存少了一半的问题了. 给你留下20%就不错啦.毕竟这个安卓系统,一开始就是给一帮小学生搞机器人比赛用的.</p>
 <hr>
 <p data-pid="714SG__g">这是我们最近正在做的项目,警察叔叔执法记录仪,采用展讯超级便宜的cpu.屏幕分辨率320x240,超级卡.卡的你阳痿:</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-24c632fc3caaddeb970816072d69076b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="583" data-rawheight="778" data-original-token="v2-aa2b8ef9ebd88e5d07c604178c0feaf1" data-default-watermark-src="https://picx.zhimg.com/50/v2-d77d50036a8ad772b47fab169ab92fb0_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="583" data-original="https://pic1.zhimg.com/v2-24c632fc3caaddeb970816072d69076b_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-4d54b2f3e88f265b25e10ca62bf592f0_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="583" data-rawheight="778" data-original-token="v2-b07a8b6dda8c5e310a46b1b0dbdf3b2d" data-default-watermark-src="https://picx.zhimg.com/50/v2-d83e434b9f3c58dee0202781b15f8298_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="583" data-original="https://picx.zhimg.com/v2-4d54b2f3e88f265b25e10ca62bf592f0_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="nOoZ5oTv">在这个项目的开发过程中, 我们真的是踩遍了安卓挖下的坑, 很多说起来很简单的小功能, 等你真的实现起来.会发现蛋疼无比..我举个栗子:</p>
 <p data-pid="wCZD8JVD">客户说屏幕虽小也要让我能够输入文字. 于是我们给他加了安卓自带的26字母键盘输入法. 可是...这个屏幕就5厘米宽.大粗手指想在屏幕上点击26字母键盘就是做梦啊.于是让我们给找个合适的九宫格输入法.可市面上根本没有支持320x240的输入法可用.</p>
 <p data-pid="ex2sXH5V">于是客户说:要不你们开发个吧,给你们500大洋...</p>
 <p data-pid="HH3N8TXg">所以我现在转包一下.谁自告奋勇开发个,或者能提供个 能适配320x240屏幕的输入法.我给600!</p>
 <hr>
 <p data-pid="mG-RLO4b">再多啰嗦两句,现在国内手机市场都被华为,小米,OV等几个大厂家占据了.小手机厂利润很少.也就出口卖给印度阿三,非洲老黑 这种档次的客户.出货量也没多少.口袋里也没多少钱. 但是他们的需求却一点也不少, 比如内置相机. 什么滤镜,美颜,瘦脸,磨皮,双摄模糊,全景图,广角...乱七八糟的花里胡哨的效果都想要. 但又出不起钱.</p>
 <p data-pid="SmK57QMM">芯片厂商那头, 台湾MTK,大陆的展讯科技(现在好像改名成紫光展锐)也在裁员+裁剪功能, 前几年你买他们的芯片,他们送美颜代码, 据说展讯最多时候养了二百多号人专门做相机这部分功能.</p>
 <p data-pid="EJvZJW5c">但是这两年,消费不振,经济萎靡, mtk等厂家大把裁人,美颜代码也不送了. 直接对这帮穿补丁衣裳的小厂说: 要美颜,滤镜? 出门左转找那家XXX,他们有!以后不送了!</p>
 <p data-pid="fMJQMcOz">于是我们公司就有了一点点小生意. 但是对我们从业者来说, 目前最大的矛盾,就是 [客户越来越多的功能需求] 和 [安卓这垃圾系统上做什么功能都费劲 + 穷逼客户出不起开发费 ] 之间的矛盾.</p>
 <p data-pid="ryudkmci">(评论里有人质疑,说安卓本来就不适合做执法仪, 有很多什么别的操作系统可以用, 但是客户选了半天,还是安卓成本最低啊,程序员最好找, 你换个冷门的OS, 那程序员开口要工资一个月4万你给是不给呢?还有你选择的摄像头等模组,人家有现成的安卓驱动,你选个别的OS,驱动谁来写?再花几十万雇一堆人? 所以最后还是成本问题.)</p>
 <p data-pid="oGOLou7l">比如著名的相机算法提供商,虹软科技(arcsoft),你要去问他们能不能提供一套双摄伪单反算法(也就是抄苹果双摄那个能把照片里人拍的清楚,背景弄模糊的算法),人家开口就是一千万.</p>
 <p data-pid="xJiq7iU1">小厂听了直接吓尿. 只能找我们, 但是我们也不是活菩萨. 也有十几号人要养活啊.问他们接受什么价..小厂伸出5个手指...</p>
 <p data-pid="I4p_FvAX">哎..你说安卓这个平台还有啥希望啊, 我还是晚上多学学unity吧. bilibili上教程很多, 先把ps, 3dmax+maya ,shader 都精进一些. 这些软件技术我觉得还是比较保值的. 后面转 偏技术的技术美术. 我觉得路还宽点.</p>
 <p data-pid="-LC8cq8H">至于安卓那一套框架,机制.文档, 爷没空研究了. 就是垃圾!</p>
</body>
# Minecraft 中只用一格水源，最多能灌溉多少耕地?
- 点赞数：11243
- 更新时间：2019年05月23日02时16分36秒
- 回答url：https://www.zhihu.com/question/320872281/answer/677881879
<body>
 <p data-pid="TPY4I1OK">两亿七千余万格。以下为计算</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="I8PzxeVz">一格水放在平地，形成斜置正方形水域</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-1737c883d5c08782323282f02443299f_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-767feb79e87274301a20eb2a429157b7" data-default-watermark-src="https://picx.zhimg.com/50/v2-e23a33811f73393df68459f143e18b32_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://pica.zhimg.com/v2-1737c883d5c08782323282f02443299f_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="_wL_DP1O">其对角线长7×2+1，面积为7^2＋8^2</p>
 <p data-pid="zSSTOx1v">图示为何对角线长2n+1时面积为n^2+(n+1)^2：</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-ab5596a07cd3590f4427edc5fdbb531d_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-425244e31b197253eb56ce0d85909c36" data-default-watermark-src="https://picx.zhimg.com/50/v2-9676818b63ac806d8fc9a5f2896b0e6a_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://pic1.zhimg.com/v2-ab5596a07cd3590f4427edc5fdbb531d_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="1h-5pa8h">水在每一层向外延伸7格，有256层，故最大水锥底面对角线长</p>
 <p data-pid="1HsY0mW_">7×256×2+1=1792×2+1，</p>
 <p data-pid="4cnVxOfm">底面积为1792^2+1793^2</p>
 <p data-pid="wl8sRIiw">（水在底层失去支撑，少延伸了一次，但如果增加临时水源形成延伸水流，撤掉临时水源后，水流仍然存在，为方便起见，按有临时水源的情况计算）</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="VQtICIJp">一格水的湿润区域是9×9的正置正方形，也就是横向延伸四格，再纵向延伸四格。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-80b35926e6398d357d138005b722a8bc_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-8eee8c16a3667d60b1b49f69748111f9" data-default-watermark-src="https://picx.zhimg.com/50/v2-c4f9a45646b0b3deec99268ad6ec7ece_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-80b35926e6398d357d138005b722a8bc_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="HfQEZ896">所以对角线长2n+1的斜置正方形水域，其湿润边缘是剪角斜置正方形，也就是对角线为2(n+8)+1的斜置正方形剪去四个(1+3+5+7)的角。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-fedca7dac5222aa9dc70168d4a75001d_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-3dee69e3700d4583a08b1bf53b430f5b" data-default-watermark-src="https://pic1.zhimg.com/50/v2-5ffa1e08f0ee49b61a7fe88eaeb18cd0_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-fedca7dac5222aa9dc70168d4a75001d_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="bMOa9zXf">所以最大水锥底面的湿润区面积为</p>
 <p data-pid="xn4h_j8w">(1792+8)^2+(1793+8)^2-(1+3+5+7)×4</p>
 <p data-pid="zvR2nqaA">=1800^2+1801^2-64</p>
 <p data-pid="jB_9aVFM">=6483537 （记为s1）</p>
 <p data-pid="zMGx6TW-">作物需要一格生长，因此纵向堆积耕地最多256/2=128级。各级湿润区未剪角时对角线长为2n'+1，其中n'的值从最高级的22，每下降一级增加14，一直到最低级的1800。</p>
 <p data-pid="lmBcMyEf">所以，总湿润面积为</p>
 <p data-pid="jonUnxlK">Σ(8+14i)^2+(9+14i)^2-64, i=1,2,3…128</p>
 <p data-pid="iOA5PtkC">=281187712 （记为s2）</p>
 <p data-pid="1AilRE80">但还需要扣除因水流经过而无法用作耕地的面积。扣除部分算起来很繁琐，以下是近似算法：</p>
 <p data-pid="z98UPUon">考虑：为实现最大底边框，让底面每一格的正上方都有水流过，形成一个“盖子”，盖子的俯视图是与底面相同的斜置正方形。那么，从水盖中剔除哪些部分，不影响水流抵达其边缘呢？</p>
 <p data-pid="ejPZO1FD">思路是，先预留出从水源直达前后左右四方向的渠道，然后在不影响边缘的情况下，作尽可能大的、边与渠道平行的正方形，并填为耕地，不断重复直至无处可填。当层数为1和2时，这种方法得到的水网如下</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-6c3bb0dc956e915e757e6160044ac153_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-aa3caa39c6f715145a6b032e0ba2a765" data-default-watermark-src="https://picx.zhimg.com/50/v2-ecb90c5f2a2559b2dba3e74a1da656ed_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-6c3bb0dc956e915e757e6160044ac153_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-466b009f370531e11dec95554ca2ba5b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-7d8bdf9721fe0457d17e755a865e65bb" data-default-watermark-src="https://pic1.zhimg.com/50/v2-8b7e33e4b3040e4860076cf10afdb8a9_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://pic1.zhimg.com/v2-466b009f370531e11dec95554ca2ba5b_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="RuXwxXgP">但当层数继续增加，就会出现问题。下图是三层的情况，红石块表示非湿润区：</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-499f5ea2a4f6354160ec70fafa9a3ab4_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-f34e404f731031c0a03648100d681039" data-default-watermark-src="https://picx.zhimg.com/50/v2-df37b06ccea0933287c99de50f3e830a_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-499f5ea2a4f6354160ec70fafa9a3ab4_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="Bu6gq1A6">稍作修改，得到完全湿润、完全利用空间的版本（棕色的灰化土表示也可以开发为耕地且不影响边缘最大化）</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-b4ad41abefa96e645b05277eca94ba3b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-6a32959c4df2bbb128c1b7c3a0d4596c" data-default-watermark-src="https://pica.zhimg.com/50/v2-1c104f7a3385b8a60e2d1792ff5dd5c7_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-b4ad41abefa96e645b05277eca94ba3b_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="tt826vXM">比较系统的处理方法似乎是，把正方形大小限制在8×8以内。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-c9374aa63799bc0e617a9d2c06dcb679_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-daa8c358a9483e692a3a4fdf9a44cb0d" data-default-watermark-src="https://pic1.zhimg.com/50/v2-e75a3333a402771c2419d5dfc053ced5_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-c9374aa63799bc0e617a9d2c06dcb679_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="KzJqVtJS">不过当我们如此处理时，会发现可用耕地的面积比非系统的方法少了一些。</p>
 <p data-pid="MYDuFmn1">姑且容忍这部分损耗，采用8×8系统划分法，那么对256层的耕地金字塔来说，其顶盖非边缘区的耕地面积比率是</p>
 <p data-pid="PzObw68V">8×8/(9×9)=64/81</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-8541b79c53fd9070b8a8baa54f81cd67_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-e1887eb29d35a597cb16cb1e09524a99" data-default-watermark-src="https://picx.zhimg.com/50/v2-930686dac31cfa7be5204412dba6de13_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://pic1.zhimg.com/v2-8541b79c53fd9070b8a8baa54f81cd67_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="QX6VTYg_">↑顶盖非边缘区模式图。蓝色钻石表示水流，棕色灰化土表示耕地</p>
 <p data-pid="3NEIVKpL">从上图每个“十字路口”处竖直向下打通，使瀑布湿润下方每一级耕地，则金字塔内部耕地率是：</p>
 <p data-pid="h9R5IRwZ">1-1/(9×9)=80/81</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-03b4361d1a20a8a51d4fe146d2e0681c_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-c32ad66b959091bc2d35b0f383951396" data-default-watermark-src="https://picx.zhimg.com/50/v2-4ccc18b921f53b971388ef8e8a39af5c_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://picx.zhimg.com/v2-03b4361d1a20a8a51d4fe146d2e0681c_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="zwOGyr48">↑非顶盖非边缘区模式图</p>
 <p data-pid="3Y99r2lF">当然，边缘耕地率与腹地不同，忽略这部分误差，则顶盖耕地面积为：</p>
 <p data-pid="K7oMmVZl">64/81×s1</p>
 <p data-pid="BqQMN9sA">而非顶盖耕地面积为(s2-s1)×80/81</p>
 <p data-pid="4uBuiGdL">计算得，总耕地面积约为276435560。</p>
 <p data-pid="ixFZ0yea">这个答案虽然在金字塔表面附近有误差，但即使扣掉整个顶盖的面积（实际误差不会有这么多），总面积仍高达两亿七千万，比 <a class="member_mention" href="https://www.zhihu.com/people/e1f01888ffb743bb0c6e762a6dd1d95e" data-hash="e1f01888ffb743bb0c6e762a6dd1d95e" data-hovercard="p$b$e1f01888ffb743bb0c6e762a6dd1d95e">@熊孩子</a> 的答案高两千多万，可喜可贺。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="keAAsXQU">顺便，顶盖边缘区模式如下（红石表示非湿润区），虽然没力气计算，至少可以给大家留个直观印象：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-5c2c4ac86013f800b347c149150bcc64_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="2160" data-rawheight="1080" data-original-token="v2-98fdba49c7a168c814376bdf130a8497" data-default-watermark-src="https://pica.zhimg.com/50/v2-ef863730b26fbd9c59612ece45264698_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2160" data-original="https://pica.zhimg.com/v2-5c2c4ac86013f800b347c149150bcc64_r.jpg?source=1940ef5c">
 </figure>
 <p></p>
</body>
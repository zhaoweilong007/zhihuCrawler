# 无线路由器被蹭网后，有被黑的风险吗？
- 点赞数：10773
- 更新时间：2014年03月16日23时02分36秒
- 回答url：https://www.zhihu.com/question/23061570/answer/23490469
<body>
 <p data-pid="J76HZWUS">其实这个问题可以理解为：<b>蹭网之后，能做些什么？</b></p>
 <br>
 <p data-pid="DuiVZ-bI"><b>《碎片 2.他们》</b>：他们总是安静的看着背后那些不为人知的秘密。</p>
 <br>
 <p data-pid="-67G7IQr">不少人的八卦心窥探欲还是很强烈的，强烈到让人恐惧。所以很多人喜欢看一些八卦文章，比如：<b>如何优雅的窥探别人？</b></p>
 <p data-pid="t8AoJRcq">通常这样的文章很容易火起来，因为不少人都喜欢看而且百看不厌。</p>
 <br>
 <p data-pid="kwZAmznY">最近路由安全沸沸扬扬，可以翻阅我微信公众号历史文章查看关于路由安全的文章以及央视当时的采访。鉴于天时地利人和，最后我成功的在现实生活中上演了这样一场精彩好戏，为了满足众人的欲望，我就写成故事。大家好好琢磨琢磨蹭网之后，我们还能做些什么？</p>
 <br>
 <p data-pid="f3QbyWHE"><b>声明： 这是一个虚构故事，图片均加万恶马赛克。</b></p>
 <p data-pid="L21RHGgA">———————</p>
 <p data-pid="v9Rgi_AB">记忆中隔壁是一个还算不错的妹子，那天Z来找我的时候恰巧碰到了，进屋后跑到我耳边说：“隔壁那个妹子你能不能要到微信，我觉得挺不错的呢~”</p>
 <p data-pid="OSvmWA7c">这么三俗的场景竟然发生在我的身边，我说等两天我给你消息。</p>
 <br>
 <p data-pid="xu1TpWve"><b>入口</b></p>
 <p data-pid="rRYY51sD">既然是住在隔壁的年轻人，必然不可缺少的就是路由器，于是我打算从路由器当做入口开始这次旅程，将wifi打开后发现了三个信号，我首先选择这个名字非常独特的路由： ** LOVE **</p>
 <figure>
  <img src="https://picx.zhimg.com/50/9124c87b6fc9ee16bfa0b17fabd76ef1_720w.jpg?source=1940ef5c" data-rawwidth="542" data-rawheight="252" data-original-token="9124c87b6fc9ee16bfa0b17fabd76ef1" class="origin_image zh-lightbox-thumb" width="542" data-original="https://picx.zhimg.com/9124c87b6fc9ee16bfa0b17fabd76ef1_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="3FXT97_c">根据名字** LOVE **可大概看出两个人名，应该是男朋友，想到这心里为Z君凉了一半。</p>
 <br>
 <p data-pid="eGqKVKsh">找到疑似对方入口的地方就好说了，翻出minidwep（一款linux下破解wifi密码的工具）导入部分密码字典，开始进行爆破。因对方使用WPA2加密方式，所以只能使用暴力破解方式进入，WEP则目前可以直接破解密码，所以破解WPA2加密方式的路由基本上成功率取决于黑客手中字典的大小。</p>
 <br>
 <p data-pid="81q0luL6">喝了杯咖啡回来，发现密码已经出来了：<b>198707**</b>，于是愉快的连接了进去。</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/5d59cd1e01dcb2dd55e3e638367d86a9_720w.jpg?source=1940ef5c" data-rawwidth="556" data-rawheight="348" data-original-token="5d59cd1e01dcb2dd55e3e638367d86a9" class="origin_image zh-lightbox-thumb" width="556" data-original="https://pic1.zhimg.com/5d59cd1e01dcb2dd55e3e638367d86a9_r.jpg?source=1940ef5c">
 </figure>
 <br>
 <br>
 <p data-pid="dxfkUVWz"><b>困难</b></p>
 <p data-pid="3Z_a9qwy">成功连接到对方路由后，下面我需要做的就是连接路由的WEB管理界面（进入WEB路由管理界面后便可以将路由DNS篡改、查看DHCP客户端连接设备以及各种功能）。</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/e46ac852a9b9a48d1233988973161725_720w.jpg?source=1940ef5c" data-rawwidth="1274" data-rawheight="440" data-original-token="e46ac852a9b9a48d1233988973161725" class="origin_image zh-lightbox-thumb" width="1274" data-original="https://pica.zhimg.com/e46ac852a9b9a48d1233988973161725_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="G4VCUKog">查看网段后开始访问路由器WEB管理界面，发现女神竟然机智的修改了默认登录帐号密码。</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/762ea53232e45ae0ecbc00bba1778b2e_720w.jpg?source=1940ef5c" data-rawwidth="366" data-rawheight="231" data-original-token="762ea53232e45ae0ecbc00bba1778b2e" class="content_image" width="366">
 </figure>
 <p data-pid="xqMcq8Ai">TP-LINK W89841N，通过路由设备漏洞进入失败后，想必只能使用暴力美学了。</p>
 <br>
 <p data-pid="o1zUOCWB">通过抓取登录路由器的请求，然后遍历帐号密码发送请求查看返回数据包大小则判断是否登录成功，抓到的GET请求如下：</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/d0f414fda51d3766886a4c745ca6b75d_720w.jpg?source=1940ef5c" data-rawwidth="600" data-rawheight="233" data-original-token="d0f414fda51d3766886a4c745ca6b75d" class="origin_image zh-lightbox-thumb" width="600" data-original="https://picx.zhimg.com/d0f414fda51d3766886a4c745ca6b75d_r.jpg?source=1940ef5c">
 </figure>
 <br>
 <p data-pid="j2DP18g7">其中：Authorization: Basic <b>YWRtaW46YWRtaW4= </b>为登录的帐号密码</p>
 <p data-pid="YT0eaBDZ">使用Base64解密开查看内容：<b>admin:admin</b></p>
 <br>
 <p data-pid="QSX4gV39">于是我编写了一个python脚本将字典中的密码与“admin:”进行组合然后进行base64加密，进行破解。十一点的钟声响起，发现密码已经成功爆破出来，成功登录：</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/95a2d63326d0a58c915eaa21c59ebc2c_720w.jpg?source=1940ef5c" data-rawwidth="936" data-rawheight="238" data-original-token="95a2d63326d0a58c915eaa21c59ebc2c" class="origin_image zh-lightbox-thumb" width="936" data-original="https://pic1.zhimg.com/95a2d63326d0a58c915eaa21c59ebc2c_r.jpg?source=1940ef5c">
 </figure>
 <br>
 <p data-pid="GunKKSEX">查看设备连接列表，发现只有孤零零的自己，看来女神早已歇息，等待时机。</p>
 <br>
 <br>
 <p data-pid="7z4jM22v"><b>时机</b></p>
 <p data-pid="PHSzJ30M">第二天晚饭过后，登录路由管理界面，这时已经有好几个设备了，时机到了：</p>
 <br>
 <blockquote data-pid="KtCCZ5aU">
  <p data-pid="zzVAowa7"><b>客户端名 </b></p>
  <p data-pid="12ZTMcdi">android-b459ce5294bd721f</p>
  <p data-pid="C4Pgodxs">android-44688379be6b9139</p>
  <p data-pid="tdd4Mgtb">**********iPhone</p>
  <p data-pid="a3XEBddN">******-iPad</p>
  <p data-pid="abdCQuHZ">******-PC</p>
 </blockquote>
 <br>
 <p data-pid="GRo844KQ">我统计了一下，设备为两个安卓设备、一部Iphone、一个ipad、一台个人PC。</p>
 <p data-pid="HlVrl904">从iphone\ipad\pc命名来看，我开始的猜测没错，**确实是路由主人的名字，直觉告诉我非常大的可能这个路由的主人就是Z所心仪的女神。</p>
 <br>
 <p data-pid="bkiYaCAD">首先测试两台安卓设备，发现其中一台开放端口很多，隐隐约约中感觉是一台小米盒子或者百度影棒这种产品，这样事情就变得有趣了，因为控制电视可就有机会了。</p>
 <br>
 <p data-pid="OUOmDglH">使用ARP嗅探安卓开放端口较多的设备，果然是一个影视盒子：</p>
 <figure>
  <img src="https://picx.zhimg.com/50/f07518eab0f3bcdcaabd90e348019d2c_720w.jpg?source=1940ef5c" data-rawwidth="1378" data-rawheight="1076" data-original-token="f07518eab0f3bcdcaabd90e348019d2c" class="origin_image zh-lightbox-thumb" width="1378" data-original="https://picx.zhimg.com/f07518eab0f3bcdcaabd90e348019d2c_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="o0Wn8uak">最后基本摸清：电视使用影视盒子，iphone，ipad以及一台个人电脑。</p>
 <br>
 <br>
 <p data-pid="w0MUPLPv"><b>寻找</b></p>
 <p data-pid="P7wqI51p">找到了那么多有趣的东西，但我仍然没有忘记Z让我帮忙的事情，于是便开始对iphone进行了嗅探。</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/dbed790a613ebebb801e03420caf21e2_720w.jpg?source=1940ef5c" data-rawwidth="1656" data-rawheight="718" data-original-token="dbed790a613ebebb801e03420caf21e2" class="origin_image zh-lightbox-thumb" width="1656" data-original="https://pic1.zhimg.com/dbed790a613ebebb801e03420caf21e2_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="FAc9zV_7">嗅探不一会便找到了有趣的东西，女神的照片在她查看自己相册的时候已经被嗅探到，于是我将照片发给了Z，他已经激动的语无伦次了。</p>
 <br>
 <p data-pid="oGvKGxiK">之后我仍然在等待机会，寻找到对方的微信以便我完成Z的愿望，希望出现了。</p>
 <p data-pid="Cn8c4VvK">查看流量日志的时候我发现她在刷新浪微博，于是根据URL很方便的找到了微博：</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/691588ea3c635c7e507d35c68e889a40_720w.jpg?source=1940ef5c" data-rawwidth="734" data-rawheight="1108" data-original-token="691588ea3c635c7e507d35c68e889a40" class="origin_image zh-lightbox-thumb" width="734" data-original="https://pica.zhimg.com/691588ea3c635c7e507d35c68e889a40_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="zeWYPMHE">看到生日让我想起了wifi连接密码，原来是她的出生日期，心想把微信找到就可以让Z安心了。</p>
 <br>
 <p data-pid="gdOOoye9">通过女神新浪微博个性化域名地址和获取到信息加以组合，开始猜测微信帐号，很快便搞定了：</p>
 <figure>
  <img src="https://picx.zhimg.com/50/0828f3a2c8f78b67dd9e8bf39df0ddb0_720w.jpg?source=1940ef5c" data-rawwidth="1272" data-rawheight="1092" data-original-token="0828f3a2c8f78b67dd9e8bf39df0ddb0" class="origin_image zh-lightbox-thumb" width="1272" data-original="https://pic1.zhimg.com/0828f3a2c8f78b67dd9e8bf39df0ddb0_r.jpg?source=1940ef5c">
 </figure>
 <br>
 <p data-pid="gePNifRH">将Z的心愿完成后，回过头发现还有很多有趣的事情没做，怎能轻易结束。</p>
 <br>
 <br>
 <p data-pid="1e19yzo-"><b>电视</b></p>
 <p data-pid="PChgs6CM">随着时代的进步科技的发展，互联网逐渐到了物联网层度，从电视使用各种智能盒子便可以看出。影视盒子通常为了方便调试而开启远程调试端口，<b>盒子究竟安全吗？</b></p>
 <br>
 <p data-pid="9fPBcJD2">去年腾讯安全送的小米盒子让我有幸好好研究一番，扫描端口后发现各种各样的端口大开，其中最有趣的就是5555端口（adb远程调试），使用adb connect ip 直接可连接设备进行远程调试。</p>
 <br>
 <p data-pid="hnXVu--1">虽然是Z的女神，但是我想也可以调侃一番，于是我随手写了一个安卓APK程序。</p>
 <p data-pid="QQZIMdwc">adb远程连接到盒子，然后adb install远程安装apk，最后使用am start -n ***进行远程启动。</p>
 <p data-pid="rtDwUlxj">我本地使用Genymotion建立android模拟器进行测试：<br></p>
 <figure>
  <img src="https://picx.zhimg.com/50/b54045f0eee63a849f56d45d3c25891f_720w.jpg?source=1940ef5c" data-rawwidth="1980" data-rawheight="988" data-original-token="b54045f0eee63a849f56d45d3c25891f" class="origin_image zh-lightbox-thumb" width="1980" data-original="https://picx.zhimg.com/b54045f0eee63a849f56d45d3c25891f_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="Ft3IdGKO">当输入am stat - n *** 敲击回车的那一刹那，脑海中曾想象过千万种女神的表情。</p>
 <p data-pid="UZOzc3Es">但我始终没有忍下心来给电视播放<b>爱情动作片</b>。</p>
 <br>
 <p data-pid="r_m5BMeP"><b>账户</b></p>
 <figure>
  <img src="https://picx.zhimg.com/50/052321189773a6ff5756661ea9cf4293_720w.jpg?source=1940ef5c" data-rawwidth="1680" data-rawheight="1052" data-original-token="052321189773a6ff5756661ea9cf4293" class="origin_image zh-lightbox-thumb" width="1680" data-original="https://pic1.zhimg.com/052321189773a6ff5756661ea9cf4293_r.jpg?source=1940ef5c">
 </figure>
 <br>
 <figure>
  <img src="https://picx.zhimg.com/50/bad88900082f22e76a6e5d374c97b473_720w.jpg?source=1940ef5c" data-rawwidth="1212" data-rawheight="345" data-original-token="bad88900082f22e76a6e5d374c97b473" class="origin_image zh-lightbox-thumb" width="1212" data-original="https://picx.zhimg.com/bad88900082f22e76a6e5d374c97b473_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="Z6SIWc6h">微博、人人、淘宝等等凡是登录过后的帐号全部劫持，通过劫持后的帐号又能看到许多表面看不到的东西。</p>
 <br>
 <p data-pid="d_BWBRd_">于是理所当然的账户全部被劫持掉了，当然我并没有去翻阅什么东西，<b>窥探欲早已麻痹。</b></p>
 <br>
 <br>
 <p data-pid="_Pg7d_CY"><b>联系</b></p>
 <p data-pid="ntv8aNNg">我想是时候做一个结束了，当然故事过程中还有很多有趣而又精彩的东西实在无法用言语来表达。</p>
 <figure>
  <img src="https://picx.zhimg.com/50/158ebf251a1f791fcc3803cc008e5b25_720w.jpg?source=1940ef5c" data-rawwidth="626" data-rawheight="308" data-original-token="158ebf251a1f791fcc3803cc008e5b25" class="origin_image zh-lightbox-thumb" width="626" data-original="https://pic1.zhimg.com/158ebf251a1f791fcc3803cc008e5b25_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="C96yH1aO">于是我没有恶意的拿她的微博发了一条消息：hey,test</p>
 <p data-pid="6mW8LHsM">通过MITM中间人我又向网页中注入了javascript，大概是这样的：alert(/早点休息，QQ:***/);</p>
 <figure>
  <img src="https://pic1.zhimg.com/50/563bce535909b3013a22a8b65cf24a0c_720w.jpg?source=1940ef5c" data-rawwidth="420" data-rawheight="153" data-original-token="563bce535909b3013a22a8b65cf24a0c" class="content_image" width="420">
 </figure>
 <p data-pid="EY9D2-Di">当然这个QQ是我为了取得对方最后联系而注册的：</p>
 <figure>
  <img src="https://picx.zhimg.com/50/0fa82a1c0d450aa757fb7c314b03c70f_720w.jpg?source=1940ef5c" data-rawwidth="125" data-rawheight="61" data-original-token="0fa82a1c0d450aa757fb7c314b03c70f" class="content_image" width="125">
 </figure>
 <p data-pid="bfsgh5oN">—————————</p>
 <br>
 <p data-pid="1wYUTZ7T">追溯源头，其实无非就是很常见的蹭网，连接wifi之后设备处于同一个局域网中，于是才能做出那么多有趣的事情，上面这个故事中我未曾有过恶意以及DNS劫持，那么我通过路由究竟控制或者得到了哪些信息：</p>
 <blockquote data-pid="rFsMvJ4Z">
  <ul>
   <li data-pid="EXCgjX5d"><b>微博</b><br></li>
   <li data-pid="MkAzcPLG"><b>微信</b><br></li>
   <li data-pid="cYuuA1jP"><b>人人网</b><br></li>
   <li data-pid="sc_rR5LL"><b>QQ号码</b><br></li>
   <li data-pid="jEoLt9SL"><b>手机号（淘宝获取）</b><br></li>
   <li data-pid="liCpkKiF"><b>照片</b><br></li>
   <li data-pid="SJsayn-z"><b>电视</b><br></li>
   <li data-pid="gocc-kVY"><b>More</b><br></li>
  </ul>
 </blockquote>
 <br>
 <p data-pid="qpLlO-Cs">常说不要连接陌生公开WIFI，有点儿安全意识。不是没办法黑你，只是你没有被黑的价值。</p>
 <p data-pid="Svdc7ZJp">但是人们总是毫不在意，常说我本来就没啥价值。这样放弃治疗的人令你头疼。</p>
 <br>
 <br>
 <p data-pid="BLn9mLUF"><b>防御</b></p>
 <p data-pid="ANKWoBk6">作为小白用户，下面几点做到的越多，你就越安全：</p>
 <blockquote data-pid="yCPhOvih">
  <p data-pid="XKSXHx6u">1、路由器连接密码要复杂一点，比如testak47521test要比ak47521好很多</p>
  <p data-pid="HnEob0cP">2、赶紧把路由器管理后台的帐号和密码改掉。90% 的懒人还在 admin admin</p>
  <p data-pid="bvMin0nb">3、不要告诉不可信人员你的 Wi-Fi 密码。</p>
  <p data-pid="1FXGm0SS">4、移动设备不要越狱不要 ROOT，ROOT/越狱后的设备等于公交车随便上</p>
  <p data-pid="z1JYzUwD">5、常登陆路由器管理后台，看看有没有连接不认识的设备连入了 Wi-Fi，有的话断开并封掉 Mac 地址。封完以后马上修改 Wi-Fi 密码和路由器后台帐号密码。</p>
  <p data-pid="lIWm70uH">6、绑定IP MAC地址</p>
  <p data-pid="h5tSdcIy">7、More</p>
 </blockquote>
 <br>
 <br>
 <p data-pid="BzlBRoxy">上面这些方法都搜索的到，防御ARP劫持嗅探很简单，电脑上装个杀软基本就差不多，被攻击劫持时候会弹出警告，但是人们却丝毫不当回事儿，出现弹框就把杀软给关掉了，继续上网冲浪。</p>
 <br>
 <p data-pid="XYvIJkPG">至于手机上的杀软，还真没啥用，劫持嗅探样样不拦截。</p>
 <br>
 <br>
 <p data-pid="SEahD4ml"><b>最后Z请我吃了一顿大餐 —— 热干面</b></p>
 <br>
 <p data-pid="TJjbR4zi">————————</p>
 <p data-pid="I1CICnNV"><b>微信公众号：Evil-say</b></p>
 <p data-pid="_O4u9goE">关于这个世界，“不为人知”的事情太多了，不定期分享关于黑客、互联网、各种观点。</p>
</body>
# 为什么这两年没再听说有什么大规模的电脑病毒爆发？
- 点赞数：5761
- 更新时间：2014年11月04日19时06分18秒
- 回答url：https://www.zhihu.com/question/26443384/answer/32853881
<body>
 <p data-pid="9giDQDBL"><b>DOS时代</b>：任何程序无需任何手续即可做任何事，包括修改操作系统内核、直接发指令字操控硬件。</p>
 <p data-pid="hwNciEhg">甚至，如直接修改中断向量表，替换操作系统或BIOS提供的中断服务程序（用大白话说，就是篡改运行中的操作系统内核），以使自己的程序代码藏身中断向量区、在条件合适时可以继续执行的TSR技术（即程序终止驻留内存技术），在当时竟然是普通软件的必修技术之一，不然很多功能都做不到。</p>
 <p data-pid="pW4yV3uS">普通软件都玩的这么high了……那病毒呢？</p>
 <p data-pid="hfbY40Ki">——有个病毒每3个字节一解密，然后执行解密出来的指令；执行完指令再解密三个字节；而且前面指令解密后的结果，是后面解密流程的密钥，以至于根本不能下断点，因为下断点就破坏了密钥，使得几乎无法分析它。而且这个病毒还可以在每次感染时变形，两个不同副本不会出现连续3个字节相同……</p>
 <br>
 <p data-pid="FFWECetU">既然完全没有控制，病毒泛滥就是理所当然的了。</p>
 <p data-pid="JN7FbwRz">——————————————————————————</p>
 <p data-pid="Rtkz4cYJ"><b>windows 9x/me时代</b>：</p>
 <p data-pid="4AvfLW6z">内核置入IA32架构保护模式的ring 0，其它应用隔离到低权限的ring 3，得到了相当的安全性；</p>
 <p data-pid="7lC9IxQl">DOS以共用硬盘的虚拟机形式，提供给过去的DOS程序使用；为了兼容，仍然在内核中使用了一些16位代码，以及其他很多兼容措施：这种混合导致漏洞多多；</p>
 <p data-pid="CPnNfFTU">对DOS的兼容导致只能使用不携带权限信息的FAT16/32文件系统，使得恶意程序仍然可以随便访问任何信息。</p>
 <br>
 <p data-pid="oIbVRb3_">结果仍然是病毒泛滥；但已经比DOS时代大有好转。</p>
 <p data-pid="BUOapNIj">（甚至当windows 95推出时，就有文章预言windows 95将结束病毒时代：这个预言虽然并未实现，但windows 9x下的病毒，无论是数量、花样、涌现速度，比起DOS时代，的确全都有了几个数量级的衰减。所以说效果还是非常显著的）</p>
 <p data-pid="ZP76xxum">——————————————————————————</p>
 <p data-pid="AHplD_20"><b>windows XP时代：</b></p>
 <p data-pid="0hdvG4mD">个人桌面终于迁移到NT内核上，有了真正的权限限制；</p>
 <p data-pid="-zsevNLc">有了携带权限信息的NTFS文件系统，保护私密信息成为可能（但很多人仍然使用不携带权限信息的FAT32）。</p>
 <p data-pid="3dKJw8xO">这个时代，情况已经很好了，裸奔也成为可能。</p>
 <p data-pid="FSNNrtA1">我就曾连续裸奔5、6年，直到arp-iframe病毒出现，才不得不装了AVG。</p>
 <br>
 <br>
 <p data-pid="WvcXpjig">但XP的弱点是：</p>
 <p data-pid="9sOahTyp">第一，其上自带的IE太烂，几乎等于不设防，所以只要局域网一台机器中了arp-iframe病毒，整个网络所有装XP的系统只要上网，就必然中招；</p>
 <p data-pid="gVg6gKSB">第二，它默认使用有管理员权限的帐号登录（也不得不用，不然很多软件根本不能启动），而这种帐号有权动电脑中的一切，这就相当于部分回归到了DOS时代，自然不能阻挡病毒泛滥；</p>
 <p data-pid="aG5h5B8d">第三，大多个人用户仍然沿用过去的FAT32文件系统，这种系统不携带权限信息，所以仍然无法保护敏感文件。</p>
 <br>
 <p data-pid="f3HUoc7c">————————————————————————</p>
 <p data-pid="Rs3PVrmJ"><b>windows vista/7 时代</b>：</p>
 <p data-pid="2lL1c9FD">有了强制性的UAC，任何程序想做点非法活动，就必然惊动用户，用户不同意你就不能继续（除非你照那些三脚猫的教程关了UAC）；</p>
 <p data-pid="x_GgFXQL">同时，这个时代的主流浏览器（如chrome、ie、firefox等等），全部有了沙箱机制，即便被网络攻击，也很难影响到操作系统。</p>
 <p data-pid="9OVTb3Dx">然后，携带权限信息的NTFS文件系统终于成为大部分人的默认选项（如果你不知道说的是什么，那么就用的就是NTFS文件系统），敏感信息得到妥善保护。</p>
 <p data-pid="gpudJ9ZK">如此一来，自然就没什么病毒了。</p>
 <p data-pid="duSwomIx">———————————————————————</p>
 <p data-pid="uosK5AUR">类似的，linux下为何干脆就没杀毒软件呢？因为linux权限管理非常严格。</p>
 <p data-pid="mxDXLRhB">所谓Windows因为用户太多所以病毒多，完全是厂商的误导宣传。</p>
 <p data-pid="YD2fS9Pi">linux还服务器多呢。攻陷一个热门网站的服务器，给网页挂马，瞬间就能控制一大批的肉鸡，何乐而不为呢？</p>
 <br>
 <p data-pid="2b-X3rZG">事实上，正是因为linux权限控制太严，所以哪怕一台很多人用的服务器，一个用户2X感染了病毒，也没法影响同一个系统中的其他人（从病毒破坏到偷窥其它用户私人资料，都办不到）。</p>
 <p data-pid="thiY7bt3">之后只要删掉这个中毒的用户，一切就恢复了。</p>
 <br>
 <br>
 <br>
 <p data-pid="74VEkCOZ">举例来说，当初Windows有个输入法帮助漏洞：在登录界面切换中文或其它输入法，点帮助，然后在帮助界面导航栏输入c:\，就能以管理员权限浏览硬盘、启动任意程序。</p>
 <p data-pid="AmZ9Wp7Y">这权限管理何其烂也。这么烂的权限管理，怎么可能阻止病毒入侵呢？</p>
 <p data-pid="4zZAhWkL">更可笑的是，这居然被认为是输入法软件公司的bug：它们本该检查是不是登录状态，不是登录状态就应该灰掉帮助按钮的！</p>
 <p data-pid="AhcdBluh">可要是这个软件公司本身就是个流氓呢？你也让它随随便便就能执行本来必需管理员权限才能执行的危险操作而不需要任何用户凭据？</p>
 <br>
 <br>
 <br>
 <p data-pid="aPFuzJ9h">而在linux下呢，未登录就是nobody，除了极少几个在登录时必须能接触的东西（passwd、shadow文件），其它任何东西都不允许你接触。</p>
 <p data-pid="_XwXaXSW">至于输入法？它必须以当前用户（未登录就是nobody）身份启动，没有哪个管理员能脑残到给它设置setuid，让任何人使用它时，都能临时切换成root身份的。</p>
 <p data-pid="Gmd2XqwD">所以，只要不给权限，任何程序根本就没能力在硬盘上写入任何不良信息（除了设置为nobody可写的文件），也不可能去“启动任意程序”“读取任意信息”，更不可能居然还能得到管理员权限为所欲为——有些部署于互联网的linux服务器，甚至允许任何人以guest登录，都不可能影响到系统安全。原因就是权限控制得好。</p>
 <br>
 <p data-pid="9W_OdOSx">————————————————————</p>
 <br>
 <p data-pid="Rl2KHmD_">最后，说说0 day——因为一说这个，很多半桶水都喜欢跳出来说有0 day，0 day可牛比了，啥都能干。</p>
 <p data-pid="tm9l3cWm">先解释下，0 day其实是操作系统里面的、能够非法得到高权限的、暂时未能修复的漏洞。</p>
 <p data-pid="DBrHyNKu">打个比方的话，权限是无法逾越的高墙，而0 day是高墙上无意留下的狗洞——不封住，坏人就可能从狗洞里钻进去。</p>
 <p data-pid="aRtGJQgD">任何系统都无法避免0 day。在0 day被厂商修复之前，的确是可以用来写“能够一传一大片”的病毒的。</p>
 <br>
 <br>
 <p data-pid="DwPsTCZH">但是，0 day问题和权限问题有一点根本上的不同。</p>
 <p data-pid="klk6Pns7">比如，Windows xp的权限设置，普通用户的使用方式和默认权限设置下，到处都是漏洞。</p>
 <p data-pid="MZeOmmZQ">但，对较为专业的用户，他们就可以控制好权限（比如，大企业都有自己的安全策略，所有机器都必须应用这个安全策略）：在他们手里，即便是xp，也是相当安全的。</p>
 <p data-pid="CjDwkmp5">这点和linux以及后来的win7等系统不同，后者默认就有极高安全性。</p>
 <br>
 <br>
 <p data-pid="zDOnkdN8">因此，权限问题，外行急，普通百姓急，因为他们正被病毒困扰；而有专家的大企业、国家要害部门，不急。</p>
 <p data-pid="m3yE2uYI">而0 day呢，它不仅威胁大众，同样也可能威胁诸如金融、国防等要害部门。这些部门可比你着急得多。</p>
 <p data-pid="AvIEZ2ti">所以，一旦这类漏洞一旦发现，一般都会被火速修复。</p>
 <br>
 <p data-pid="Fo62rWSg">那么，如果你是黑客，好不容易发现了一个别人没发现的0 day；你舍得用这样一个珍贵的0 day随便攻击无确切价值的普通用户，导致杀手锏过早暴露吗？注意，一旦0 day暴露，可是会被厂商用紧急补丁修复的哦。</p>
 <p data-pid="DGDba6iL">（一个0 day，国外黑市报价数万美元，而且可以卖给多个买主，所以“珍贵”绝不是空口白话）</p>
 <p data-pid="PLKksVbF">————————————————————————</p>
 <br>
 <p data-pid="4-p7-Kco">换句话说，攻击XP及之前的windows/DOS系统，无需任何特殊技术，因为它们要么根本没权限概念、要么权限形同虚设；而攻击windows vista/7之后的系统，就必须先找个未修复的0 day漏洞，绕过权限机制。</p>
 <br>
 <p data-pid="VIg8WjoJ">更形象点说：一个半吊子程序员，在以管理员身份登录的xp用户那里，轻松就能写一个程序肆意破坏；但想去攻击被权限严密保护的windows vista/7、unix用户，就必须先挖出一个0 day……这可不是一般半吊子能做到的；能做到的，也不会再屑于做过于“小儿科”的病毒了。</p>
 <br>
 <br>
 <p data-pid="idsjuCs-">综上，所以一旦权限控制好，病毒自然就销声匿迹了。</p>
 <br>
 <br>
 <blockquote data-pid="GGMb5C3r">
  PS：科普一下，啥叫病毒呢？在xp及以前的系统里，你只要搞一个autorun.ini，在ini里面指定运行当前目录下的 病毒.bat，而这个 病毒.bat 内容是一个死循环，这个死循环每5秒把autorun.ini、病毒.bat两个文件复制到C:、D:、E:……等分区根目录，如果出错，忽略出错信息：这就是个可传染的U盘病毒。
  <br>
  <br>
  嗯？你还想要破坏？写一行脚本统计下启动次数，达到1000次就执行format c: /y就行了。
  <br>
  <br>
  其它无论多高大上的病毒，核心机制都是这几板斧。至多启动、传播机制略有不同而已，但都是些通用机制，学过几天编程的都知道。
  <br>
  <br>
  显然，病毒没啥大不了的，更不是什么高科技。一个合格的、计算机专业一年级学生，都有足够写出一个病毒的能力。只是不合格的计科学生太多、非计科专业出身的人也太多，这才给了那些半瓶子咣当、想吸引MM眼球的家伙成名的机会。
  <br>
  <br>
  所以，不同于197x～198x年代，那时计算机才刚刚出现，计算机病毒也还是个刚刚被理论预言出来后、出炉没几天的新鲜玩意儿；但现在嘛，写病毒在行内人眼里叫“掉价”，是些正路子走不通才铤而走险的家伙才会去玩的无聊东西：而这些人呢，写病毒又很难赚钱，不如木马能来钱。
  <br>
  <br>
  而木马靠什么来钱呢？当然是偷盗用户隐私信息。
  <br>
  <br>
  但安木马偷用户隐私信息可不容易啊，又得想办法骗用户点击又得找浏览器的0 day从沙箱逃逸、然后可能还得找操作系统的0 day从浏览器默认的极低权限提权，而且没多久木马用的那个0 day又失效了，还得重新来……
  <br>
  <br>
  <br>
  那么，真正绝妙的好主意是什么呢？
  <br>
  <br>
  你猜对了。
  <br>
  写个流氓软件，光明正大要系统权限。用户一看，这种软件有用啊，又不要钱，当然要装啊。装上人家就监控你在电脑上的所有举动，然后上传到服务器——咦？这不就是木马吗？
  <br>
  <br>
  谁说的？木马是偷偷摸摸藏自己、偷信息，人家光明正大搬。这怎么能叫木马呢？
  <br>
  <br>
  嗯，反正无论如何，用户信息都拿到了，后者你还没法说他。那么，又何必写木马呢？
  <br>
  然后，嗯，反正大家都是流氓，就谁也别揭发谁了。事情大概就是这样子的。
  <br>
  当然，仅限于国内。
 </blockquote>
 <br>
 <br>
 <blockquote data-pid="xOD-AG6t">
  PS2：随便再扯扯“隐私”。
  <br>
  <br>
  这年头，国外天天沸沸扬扬，反对软件公司监控用户隐私；国内也说流氓软件上传用户隐私，这两个隐私可是截然不同的。
  <br>
  <br>
  国外说的隐私，是诸如“你在亚马逊曾经买过什么、看过什么”这类信息、或者是某个软件启动过多少次、在每个功能上耗费了多少时间这类信息（这类信息可用于改进软件，但无法用来分析用户习惯；相关软件的用户协议会明确向你说明，他们会采集这类信息——但是，注意了，他们还会着重告诉你，他<b>不会采集任何和用户输入内容等相关的隐私信息，也不会识别信息来自哪个用户：因为这种做法是高度敏感的，没人敢放到用户协议里面，放进去他就可以去坐牢了</b>）。
  <br>
  <br>
  像亚马逊得到哪些信息，得到的途径是完全合法的——多新鲜，你去看过人家网站、买人家东西，人家能不知道？
  <br>
  <br>
  但，如果对这种信息做深入分析（也就是现在风头正劲的“大数据”），是可以挖到很多潜在信息的。比如，根据你的登录ip或者手机上的gps位置信息，可以知道你是不是出门旅行了，所以给你推销旅游产品、推荐当地的著名餐馆、旅馆；根据你最近看的书、买的药，知道你可能出现了心理问题，给你推荐心理咨询师；最恶劣的，甚至根据你的消费记录，发现你财大气粗，所以同样的商品，故意给你显示一个更高的价格，等等。
  <br>
  <br>
  有些人会说，这多好啊，贴心服务，除了高价，都能接受。
  <br>
  但另一些人可不喜欢被别人知道这些。
  <br>
  所以，老外反对“识别、分析特定顾客”，并把这个叫“侵犯用户隐私”。
  <br>
  <br>
  但，亚马逊不可能不盘点自己的仓库，不可能不分析自己的商品销售情况、适应人群。这和那种“侵犯隐私”的分析，又如何区分呢？
  <br>
  <br>
  所以，“隐私”就这样在国外成了一个热门话题。
  <br>
  <br>
  <br>
  而国内呢，那些监控用户在机器上的活动等行为，本质上就是非法的，和潜入别人家里翻阅人家的日记、偷偷在主人卧室装摄像头等行为没什么区别，是不折不扣的犯罪。
  <br>
  显然，两个隐私截然不同。胡扯八道什么“国外也有隐私问题”的，完全是在偷换概念。
 </blockquote>
</body>
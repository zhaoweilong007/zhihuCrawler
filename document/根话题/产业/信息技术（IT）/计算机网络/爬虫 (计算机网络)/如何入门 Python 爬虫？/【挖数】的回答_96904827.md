# 如何入门 Python 爬虫？
- 点赞数：6248
- 更新时间：2019年09月25日15时08分35秒
- 回答url：https://www.zhihu.com/question/20899988/answer/96904827
<body>
 <p data-pid="1izKQ2f5">以下是我学python爬虫的打怪升级之路，过程充满艰辛，也充满欢乐，虽然还未打倒大boss，但一路的风景就是最大的乐趣，不是么？希望大家能get到想要的东西！</p>
 <p data-pid="o2PaUorw">多图预警！</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/55e8bc9324234bc88b354821ce005bc3_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="288" data-rawheight="179" data-original-token="55e8bc9324234bc88b354821ce005bc3" class="content_image" width="288">
 </figure>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/af1baba1052c2cd49cea5ea6986eb30a_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="242" data-rawheight="268" data-original-token="af1baba1052c2cd49cea5ea6986eb30a" class="content_image" width="242">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/5ec82828ba71e96a7d86b7e88254ccd9_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="254" data-rawheight="230" data-original-token="5ec82828ba71e96a7d86b7e88254ccd9" class="content_image" width="254">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/c60bde3fec9e5f791b1a217613879b46_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="278" data-rawheight="320" data-original-token="c60bde3fec9e5f791b1a217613879b46" class="content_image" width="278">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/974b3d7c1c50bac62c14afe58ff0ed26_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="309" data-rawheight="318" data-original-token="974b3d7c1c50bac62c14afe58ff0ed26" class="content_image" width="309">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/2c3e1e5f18d6e6cc8758337663c548f5_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="313" data-rawheight="264" data-original-token="2c3e1e5f18d6e6cc8758337663c548f5" class="content_image" width="313">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/b65ad1e407e0335107eca80e4a0bdac3_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="266" data-rawheight="240" data-original-token="b65ad1e407e0335107eca80e4a0bdac3" class="content_image" width="266">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/70067cc590378e31676ed48192633d7d_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="269" data-rawheight="246" data-original-token="70067cc590378e31676ed48192633d7d" class="content_image" width="269">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/2cecf7ef8b19f24a2fb287403a51142b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="299" data-rawheight="254" data-original-token="2cecf7ef8b19f24a2fb287403a51142b" class="content_image" width="299">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/b2867a2ddb861a04a91fde5d34ed5982_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="212" data-rawheight="266" data-original-token="b2867a2ddb861a04a91fde5d34ed5982" class="content_image" width="212">
 </figure>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/ae5a6594ab77bfdeaaa9e45b9420c93e_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="313" data-rawheight="266" data-original-token="ae5a6594ab77bfdeaaa9e45b9420c93e" class="content_image" width="313">
 </figure>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/5f65be4b49e5f84ab99efc92ab6ea61b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="304" data-rawheight="232" data-original-token="5f65be4b49e5f84ab99efc92ab6ea61b" class="content_image" width="304">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/506899fbbe618e05cbe1e2768665b17d_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="287" data-rawheight="234" data-original-token="506899fbbe618e05cbe1e2768665b17d" class="content_image" width="287">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/009fcaa5d4a08f4eda54fb38b88e575c_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="325" data-rawheight="354" data-original-token="009fcaa5d4a08f4eda54fb38b88e575c" class="content_image" width="325">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/b93fbe0719c946b1a68a3f0b33937942_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="289" data-rawheight="243" data-original-token="b93fbe0719c946b1a68a3f0b33937942" class="content_image" width="289">
 </figure>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/ded59bb8038a10b3bfb4e65fd14db631_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="309" data-rawheight="189" data-original-token="ded59bb8038a10b3bfb4e65fd14db631" class="content_image" width="309">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/8d8337c43a58a5386227e037891f9d61_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="266" data-rawheight="346" data-original-token="8d8337c43a58a5386227e037891f9d61" class="content_image" width="266">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/e5dbb6f838f6532b0d0a481c69a79ddd_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="338" data-rawheight="269" data-original-token="e5dbb6f838f6532b0d0a481c69a79ddd" class="content_image" width="338">
 </figure>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/5e1b525feb212ff0b860481ecb67288b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="255" data-rawheight="175" data-original-token="5e1b525feb212ff0b860481ecb67288b" class="content_image" width="255">
 </figure>
 <p data-pid="q4GNVpTg">以下奉献一段爬取知乎头像的代码</p>
 <blockquote data-pid="J3LQWc-h">
  import requests
  <br>
  import urllib
  <br>
  import re
  <br>
  import random
  <br>
  from time import sleep
  <br>
  def main():
  <br>
   url='<a href="https://www.zhihu.com/question/22591304/followers" class="internal">知乎 - 与世界分享你的知识、经验和见解</a>'
  <br>
   #感觉这个话题下面美女多
  <br>
   headers={省略}
  <br>
   i=1
  <br>
   for x in xrange(20,3600,20):
  <br>
   data={'start':'0',
  <br>
  'offset':str(x),
  <br>
  '_xsrf':'a128464ef225a69348cef94c38f4e428'}
  <br>
   #知乎用offset控制加载的个数，每次响应加载20
  <br>
   content=requests.post(url,headers=headers,data=data,timeout=10).text
  <br>
   #用post提交form data
  <br>
   imgs=re.findall('&lt;img src=\\\\\"(.*?)_m.jpg',content) 
  <br>
   #在爬下来的json上用正则提取图片地址，去掉_m为大图 
  <br>
   for img in imgs:
  <br>
   try:
  <br>
   img=img.replace('\\','')
  <br>
   #去掉\字符这个干扰成分
  <br>
   pic=img+'.jpg'
  <br>
   path='d:\\bs4\\zhihu\\jpg\\'+str(i)+'.jpg'
  <br>
   #声明存储地址及图片名称
  <br>
   urllib.urlretrieve(pic,path)
  <br>
   #下载图片
  <br>
   print u'下载了第'+str(i)+u'张图片'
  <br>
   i+=1
  <br>
   sleep(random.uniform(0.5,1))
  <br>
   #睡眠函数用于防止爬取过快被封IP
  <br>
   except:
  <br>
   print u'抓漏1张'
  <br>
   pass
  <br>
   sleep(random.uniform(0.5,1))
  <br>
  <br>
  if __name__=='__main__':
  <br>
  <br>
   main()
 </blockquote>
 <p data-pid="rOh7SjAP">结果：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/b1fc67ee3e290376fe882113ff7d44fd_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="710" data-rawheight="744" data-original-token="b1fc67ee3e290376fe882113ff7d44fd" class="origin_image zh-lightbox-thumb" width="710" data-original="https://picx.zhimg.com/b1fc67ee3e290376fe882113ff7d44fd_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="pvRSzGXY"><b>公众号已开通</b>：挖数（ID:washu66），<b>推送各种数据相关的原创文章哦</b></p>
 <p data-pid="e5CHCRMJ">对于Python的初学者，推荐这门免费公开课：</p>
 <p data-pid="cJ2-tbsw"><b><a href="https://link.zhihu.com/?target=https%3A//cn.udacity.com/course/introduction-to-python--ud1110/%3Futm_source%3Dzhihu-kol-washu%26utm_medium%3Dreferrer%26utm_campaign%3Dfreecourse" class=" wrap external" target="_blank" rel="nofollow noreferrer">Introduction to Python Programming</a></b></p>
</body>
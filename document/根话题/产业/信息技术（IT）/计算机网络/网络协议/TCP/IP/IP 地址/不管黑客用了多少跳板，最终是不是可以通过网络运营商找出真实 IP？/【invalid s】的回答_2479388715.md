# 不管黑客用了多少跳板，最终是不是可以通过网络运营商找出真实 IP？
- 点赞数：7901
- 更新时间：2022年05月10日21时02分12秒
- 回答url：https://www.zhihu.com/question/37470941/answer/2479388715
<body>
 <p data-pid="wWhtLHks">不是。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="CRpe8pXA">事实上，对于专业黑客，在精心选择合适的“跳板”之后，只需不同国家间的三次跳转，就足以妥善隐藏自己了。</p>
 <hr>
 <p data-pid="er7YXBVv">所谓“跳板”，实际上就是我们常说的代理服务器/VPN；但黑客们用的跳板未必是商业VPN——事实上，商业VPN反而没那么安全。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="MgCTrlaK">写一个简单的代理服务器非常简单：</p>
 <p data-pid="N6p7_ZgU">1、建立一个C文件，include socket.h；</p>
 <p data-pid="QZua_yIe">2、bind一个端口，等外部连接；</p>
 <p data-pid="7VtczQTe">3、把外部链接传来的报文转发到互联网。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="yN8JoMB_">简单百十行、配合路由表，一个代理服务器软件就出来了——只有在打算商用时，你才需要开发诸如账号管理、密码验证等等东西（同样非常简单）。</p>
 <p data-pid="fYjSCRT-">然后，如果你希望全程加密，使用标准ssl库即可，也只是几十行代码而已。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="M4e3xuom">这个小程序可能只有1~2K大；随便绑到什么玩意儿上面——比如中文putty——或者伪装成免费小游戏、看黄图的小软件等等……那么，一旦有人在自己的机器上运行了这个东西，它就成了你的“跳板”。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="vDbzxRE_">这，就是所谓的“木马”。</p>
 <p data-pid="2Cv0-1B2">这东西，用C都只需百十行；如果你用python或其他语言，实现起来只会更简单、更方便。</p>
 <p data-pid="g4Qd5CFZ">当然，如果你会玩C甚至汇编，可以相对轻易的把这个东西嵌入其他程序里面，在不破坏它的功能的前提下、静悄悄的为你提供代理服务。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="0PCfDrfB">嗯，为了避免被人察觉，设计更完善的工具会想办法隐藏自己绑定的端口（比如只有特殊格式的报文过来才会接受并进一步处理，其它报文直接丢弃，就好像这个端口压根没有开放一样），这样哪怕机器维护者是行家，也有一定的概率蒙混过关。</p>
 <hr>
 <p data-pid="H0DTI6-g">绝大多数互联网用户什么都不懂；尤其国内，很多人甚至不打补丁。</p>
 <p data-pid="nhZ2CyFc">只要你略通相关技术，很容易就能在他们的机器（PC、笔记本、手机、路由器、服务器，等等）上面植入木马。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="6l4OHRKl">这些木马，最狠的可以完全操控受害者的计算机（也就是“肉鸡”）；最简单的，就好像我前面提到的、百十行的小程序，也能把这台计算机变成“跳板”。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="yh8whVEO">如此一来，教室前面柜子里某个小朋友的手机、医院里的自主挂号终端、地铁里可以远程投递内容的广告屏……一切联网的设备都可能是某个黑客的“跳板”。</p>
 <hr>
 <p data-pid="cNgQ7FZn">懂网络的都知道，所谓“TCP链路”只是一条“虚链路”——或者说，物理上并不存在、只存在于逻辑上的数据通道。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Xn8tc5S1">就好像你台灯里用的电一样，你知道它来自哪个发电厂的哪台发电机？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="J1BeD1-F">当然，正常情况下，为了“通讯”，通讯双方自然需要让对方知道自己的地址。</p>
 <p data-pid="c5-Sm_mx">比如，IP报文头部格式是这样的：</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-fb4b916a8d5153720e95992739fc764b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="641" data-rawheight="415" data-original-token="v2-fb4b916a8d5153720e95992739fc764b" data-default-watermark-src="https://picx.zhimg.com/50/v2-5fdfab0ec08fe7066a3025bfbe0915e2_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="641" data-original="https://pica.zhimg.com/v2-fb4b916a8d5153720e95992739fc764b_r.jpg?source=1940ef5c">
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="T4Pq76FZ">当你访问知乎时，你发出的每一个报文都是这个格式。</p>
 <p data-pid="Fp4psI0A">其中的“源地址”就是你的IP，而目的地址是知乎服务器的地址；而知乎把页面传回给你时，也会把自己的服务器地址填进源地址域、同时把你的地址填写进目的地址域。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="7DNDznBU">IP报文是可以改写的。</p>
 <p data-pid="HrgOGDSt">比如，你想访问知乎，却又不想让它知道自己的真实IP。怎么办呢？</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="n1vo0k9q">你可以想办法控制一台互联网上的机器A——不管你是买的商业VPN、还是在自己买的VPS里装了代理软件、或者是想办法黑了某个无辜小朋友的手机——总之，你在机器A上装了个代理软件。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="VUzxh-a5">现在，你可以配置自己的路由表，“欺骗”自己的电脑，让它以为要访问知乎，就只能先把报文交给机器A。</p>
 <p data-pid="RoJJHy3X">机器A上面的代理软件收到报文后，就把IP头改掉，目的仍然是知乎，但来源填写了机器A的IP。于是知乎就以为是这个小朋友操纵手机、访问了知乎上面某个关于婆媳纠纷的话题……</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="ueJh4KsZ">同样的，当知乎把响应报文传给机器A时，它上面的代理软件会把这个报文转交给你。</p>
 <p data-pid="VqDvbk09">于是，你在成功访问知乎的同时、也把自己伪装成了机器A——将来你发表了有害言论，无辜小朋友就替你顶缸了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="XLp2U0mK">只要你别再碰这台机器A、并且你的代理软件没有傻乎乎的把通讯日志记录下来，那么，哪怕只有这么一层代理，你也可以逍遥法外。</p>
 <hr>
 <p data-pid="dOOu4scs">道高一尺魔高一丈。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="eqQffGos">知道会有人这么搞，为了抓到这些捣乱分子，各国安全部门也是绞尽脑汁。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="qTVUeZ-Z">比如，他们会在互联网上放置一些很容易被人攻陷的电脑；但和普通人不一样，这些电脑的来往通讯是被严格监控的。</p>
 <p data-pid="IsnnIyFA">如果你把它当成某个傻孩子的计算机、借助它办了坏事……你就落网了。</p>
 <p data-pid="NH974osc">这种专门骗黑客攻陷自己、从而窥探到各种信息、以便抓住罪犯的机器，就是安全圈大名鼎鼎的“蜜罐”。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="6wUzQPud">你小心翼翼的绕开了蜜罐，经过仔细观察，确认机主的确是一个小孩子。</p>
 <p data-pid="0OMboxwM">于是，你拿他的机器当“跳板”，肆无忌惮的大搞犯罪活动……</p>
 <p data-pid="yQ-y6-JH">但网安人员并不是吃素的。他们不会贸然传唤这个小孩子、更不会让他安装防火墙打草惊蛇；相反，他们会像你一样，先攻破这台电脑，在上面运行一个监控程序，等你再次破坏……</p>
 <p data-pid="_uf8erhn">好了，你的真实IP暴露了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="ELqj7YID">下辈子，你变得更谨慎了。</p>
 <p data-pid="jNFdcf2G">你会先攻破机器A，再攻破机器B、机器C、机器D、E、F……</p>
 <p data-pid="Mhze8DUL">然后，你让机器A转发你的数据报文的第一跳、机器C转发第二跳、机器E转发第三跳……</p>
 <p data-pid="PRgrBQ4x">那么，想要抓到你，他们就必须先攻陷机器A、安装监控、找到机器C；继而攻陷机器C，安装监控，找到机器E；再安装监控……</p>
 <p data-pid="52GItrdo">于是，你又落网了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="RWt7zyJa">想要不落网，你就不得不更谨慎一些。</p>
 <p data-pid="soMAIUwk">比如，你攻陷了机器A，觉得机主的安全意识真差，拿来当跳板都不安全——怎么办呢？</p>
 <p data-pid="P86wS9j9">你帮他打补丁、装防火墙，避免其他人再次攻陷；不仅如此，你还在上面安装了rootkit扫描工具、磁盘监控工具，还随时监控它的进程列表，关注任何网络报文……</p>
 <p data-pid="LXVxmdvn">这样，一旦有人攻陷了这台机器、给它安装了监控工具，你马上就会知道——怎么办？当然是马上撤退，永远不要再碰这台机器了！</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="tZo7O-3f">不光A不能再碰，C、E都不要再用了。因为很可能监控工具已经抓到了A和C之间的通讯报文……</p>
 <p data-pid="Km7Jz1WV">当然，和A存在数据交互的机器可能非常多；哪怕使用程序自动溯源，想要攻下C也需要一定的时间。趁着这个缓冲，你马上断开通讯，运气好说不定连E都没暴露呢；运气不好，等攻下E，你也早逃之夭夭了。</p>
 <p data-pid="58H1cGSN">但只要你稍有犹豫、或者技术水平不到侦测不到A已被人控制……祝你好运。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="9PIU9a0c">你看，虽然公认“三次跳转”足以隐藏你的攻击；但前提是，你必须是一个专业的黑客。不然三十次、三百次跳转都救不了你。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Yc2pkN91">当然，如果你技术精湛、手中肉鸡过百万；而且还使用了专业软件，每次会话随机挑选二三十台肉鸡组成个临时链路、且一次会话结束（可能只有0.x秒）就拆除链路、永不再用——那几乎可以说是“绝对安全”了。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="Zk0NaZQs">不过，常在河边走，哪能不湿鞋。</p>
 <p data-pid="xMOmqfB4">坏事做多了，总有你露马脚的时候——IP你彻底藏住了，但你还是要和世界交互的，其它一切你能全部藏的死死的、不露半点破绽？</p>
 <p data-pid="v-BYP6cs">最传奇的黑客都会坐牢，你凭什么是个例外？</p>
</body>
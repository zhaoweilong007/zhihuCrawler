# 玩《旅行青蛙（旅かえる）》是种怎样的体验？
- 点赞数：27884
- 更新时间：2018年03月27日09时53分40秒
- 回答url：https://www.zhihu.com/question/68733553/answer/305463907
<body>
 <h2>呱呱走火入魔-逆向游戏代码-终结玄学迷信</h2>
 <p data-pid="d80CdYFm">看到高票回答里面对物品的使用上的很多猜测，很多都不准确。</p>
 <p data-pid="Lr4-wx50">为了理解你们的呱<b>究竟</b>在干什么，花了五个晚上逆向游戏程序逻辑，提取各种数据。</p>
 <p data-pid="np16U8ip">这里相当于动用了 <b>上帝视角 </b>来解答这些问题。</p>
 <p data-pid="mDblA9Me"><i>答案将会陆续更新，欢迎在评论区提问</i></p>
 <hr>
 <p data-pid="iMYWVvsJ"><i>2018/3/27 更新9</i></p>
 <ul>
  <li data-pid="EDJMom5j"><i>更新 </i><b>所有数据表格至 1.1.1 版本</b></li>
  <ul>
   <li data-pid="bT3Z5f-m">刚更完 1.1.0 的数据就出了 1.1.1...emmmm</li>
   <li data-pid="jZSexF_1">1.1.1 和 1.1.0 数据上唯一的区别就是官方修复了 <b>物品叠加目的地优先级 </b>里缺失的 21 (Nagano) 。</li>
  </ul>
 </ul>
 <p data-pid="YnM2cNVv"><i>2018/3/25 更新8</i></p>
 <h2>我没有弃坑</h2>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-ebb6d978a0b4ac8fba644aa1ce498338_720w.gif?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="300" data-rawheight="168" data-original-token="v2-ebb6d978a0b4ac8fba644aa1ce498338" data-thumbnail="https://pic1.zhimg.com/50/v2-ebb6d978a0b4ac8fba644aa1ce498338_720w.jpg?source=1940ef5c" class="content_image" width="300">
 </figure>
 <ul>
  <li data-pid="1KuIp3Em"><i>更新 </i><b>所有数据表格至 1.1.0 版本</b></li>
  <ul>
   <li data-pid="W8PL4d7W">我对比了下数据，大致的变化如下：</li>
   <ul>
    <li data-pid="lI4GrW_5">新增了 <b>ずんだもち、六方焼、おぜんざい</b> 三种食物</li>
    <li data-pid="ysVEgxVQ">新增了<b> こけし、米食いねずみ、緋色の勾玉</b> 三件收藏品</li>
    <ul>
     <li data-pid="NRQuop9E">（感谢 <a class="member_mention" href="https://www.zhihu.com/people/3b6bfd5c1fa190d6aa9b6c2ef1bb8a41" data-hash="3b6bfd5c1fa190d6aa9b6c2ef1bb8a41" data-hovercard="p$b$3b6bfd5c1fa190d6aa9b6c2ef1bb8a41">@关若遗</a> 指出缺失 <b>こけし</b>， <a class="member_mention" href="https://www.zhihu.com/people/9e7ff6e5194a2566e143af4e6ebc7a58" data-hash="9e7ff6e5194a2566e143af4e6ebc7a58" data-hovercard="p$b$9e7ff6e5194a2566e143af4e6ebc7a58">@demongel</a> 指出 <b>中国地方</b> 是日本西部的一个地区）</li>
    </ul>
    <li data-pid="x_d9JMks">新增了 <b>东部地区 Ishikawa、西部地区 Shimane、北部地区 Miyagi</b> 三个目的地以及对应的新明信片</li>
    <ul>
     <li data-pid="dccDyLb4">（感谢 <a class="member_mention" href="https://www.zhihu.com/people/c5cb1343a3e4bfdf5b1880f498ea2295" data-hash="c5cb1343a3e4bfdf5b1880f498ea2295" data-hovercard="p$b$c5cb1343a3e4bfdf5b1880f498ea2295">@in gridsummer</a> 指出缺失 3001）</li>
    </ul>
    <li data-pid="QeqIvi19">新增了 <b>蜗牛、壁虎 </b>主题稀有明信片</li>
    <li data-pid="wFWGBJDu"><b>修正了 拿不到 マンゴー （芒果） 的 bug！！！！！！</b></li>
    <ul>
     <li data-pid="2bVjDQja">之前芒果只限 2018 节点上可以获得，但是该节点位置偏僻，从未见过有蛙去过那里。新增了交通要倒 2014 节点也可获得芒果，<i>效果拔群</i></li>
    </ul>
    <li data-pid="iQMYfeUQ">修正了 明信片上出现错误的朋友的 bug</li>
    <li data-pid="MjG5wRBf">调整了 很多途径和绕路点的位置</li>
   </ul>
  </ul>
 </ul>
 <p data-pid="HAMbgynZ"><i>2018/2/4 更新7</i></p>
 <ul>
  <li data-pid="lbp_UNAM"><i>更正 </i><b>道路属性收藏品部分数据缺失</b></li>
 </ul>
 <p data-pid="S5Nsf4QS"><i>2018/2/3 更新6</i></p>
 <h2>我其实是美食博主</h2>
 <p data-pid="TVARYVhN"><i>这篇知乎首答获得了这么多关注，也让我这个知乎小透明受宠若惊。在这里感谢《旅かえる》的游戏开发者制作出了这么受欢迎的游戏、感谢他、感谢大家的关注，让我蹭了这波热度。</i></p>
 <p data-pid="_2otm0B8"><i>不少知友私信问我是不是游戏行业的从业人员………………………呃…其实……我是美食博主啦：</i></p>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-7f1e5fc34446c66edda3e2f0cad3c72e_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="1920" data-rawheight="1371" data-original-token="v2-7f1e5fc34446c66edda3e2f0cad3c72e" class="origin_image zh-lightbox-thumb" width="1920" data-original="https://picx.zhimg.com/v2-7f1e5fc34446c66edda3e2f0cad3c72e_r.jpg?source=1940ef5c">
 </figure><a href="https://zhuanlan.zhihu.com/p/33556223" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-7afaa9fdf23dcae74bc91b3696eb2fe8_180x120.jpg" data-image-width="1200" data-image-height="700" class="internal">黄小秋：我其实是美食博主 之【旅行青蛙葱蛋饼】</a>
 <p data-pid="cEc210gk"><i>2018/1/31 更新5</i></p>
 <ul>
  <li data-pid="Fbkyav1I"><i>更正 </i><b>物品收集阻力的描述</b></li>
 </ul>
 <p data-pid="6LVbqErD"><i>2018/1/31 更新4</i></p>
 <ul>
  <li data-pid="_cDM5nue"><i>更正 </i><b><i>区域、</i>目的地选择的逻辑</b></li>
 </ul>
 <p data-pid="JMRv6cCf"><i>2018/1/30 更新3</i></p>
 <ul>
  <li data-pid="cU6X9ljb"><i>更正 </i><b>收藏品收集概率为 15%，并非 100%</b></li>
 </ul>
 <p data-pid="FwZFp1GS"><i>2018/1/30 更新2</i></p>
 <ul>
  <li data-pid="i5iUS9t-"><i>增加 </i><b><i>4. </i>呱在每条路上的耗时是怎么计算的？</b></li>
 </ul>
 <p data-pid="AYbzrIWB"><i>2018/1/30 更新</i></p>
 <ul>
  <li data-pid="riAKfsmk"><i>增加 <b>5. 呱离家出走了怎么办？</b></i></li>
  <li data-pid="72japDfH"><i>增加 <b>8. 如何科学使用物品？</b></i></li>
  <li data-pid="3bETSamF"><i>增加</i><b><i> 17. </i>有没有免费获得三叶草的方法？</b></li>
 </ul>
 <p data-pid="dJeKtFsa"><i>2018/1/29 更新</i></p>
 <ul>
  <li data-pid="Q41Z_hm5"><i>增加 </i><b><i>15. </i>抽奖球的概率是？</b></li>
 </ul>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-628114cabdc74e1ec79beaa96bae9ae7_720w.gif?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="306" data-rawheight="201" data-original-token="v2-628114cabdc74e1ec79beaa96bae9ae7" data-thumbnail="https://picx.zhimg.com/50/v2-628114cabdc74e1ec79beaa96bae9ae7_720w.jpg?source=1940ef5c" class="content_image" width="306">
 </figure>
 <hr>
 <ol>
  <li data-pid="2biu0w7j"><b>呱真的在旅行么？</b></li>
  <li data-pid="38ZZ8QED"><b>呱是如何选择旅行路径的？</b></li>
  <li data-pid="dX_i325n"><b>呱是如何旅行的？</b></li>
  <li data-pid="cTzLYNMp"><b>呱在每条路上的耗时是怎么计算的？</b></li>
  <li data-pid="D0yOIYsM"><b>呱离家出走了怎么办？</b></li>
  <li data-pid="7r6nO6cw"><b>道路有哪些属性？</b></li>
  <li data-pid="WarjAB74"><b>每件物品都有什么效果？</b></li>
  <li data-pid="jiP6Kp-G"><b>如何科学使用物品？</b></li>
  <li data-pid="PBPFYWsN"><b>旅途中会带回哪些明信片？</b></li>
  <li data-pid="6H6WH5Gs"><b>旅途中会带回哪些特产？</b></li>
  <li data-pid="gW3rV7eL"><b>朋友什么时候会来访？</b></li>
  <li data-pid="m2gf8s5-"><b>朋友来访应该投喂什么？</b></li>
  <li data-pid="tzIN83KC"><b>三叶草多久会长好？</b></li>
  <li data-pid="rt5_-9W_"><b>四叶草获得的概率是？</b></li>
  <li data-pid="fetLXYn3"><b>抽奖球的概率是？</b></li>
  <li data-pid="eBOCs22F"><b>如何获得成就？</b></li>
  <li data-pid="QZyili4h"><b>有没有免费获得三叶草的方法？</b></li>
 </ol>
 <h2>呱真的在旅行么？</h2>
 <p data-pid="-Lq0yYd4">不得不佩服游戏的设计者，为了追求真实，实现了一套非常完整的旅行模拟系统，有严谨的旅游路线设计。</p>
 <p data-pid="b7mLPPaH">因为旅行的过程并不展示给用户，我原本以为逻辑会十分简单。发现这套旅行模拟系统的时候，我也有些惊讶，也促使我深入研究这款游戏的逻辑。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-41a48c87ffabb11f2b6621d0bcb414a1_720w.gif?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="306" data-rawheight="213" data-original-token="v2-41a48c87ffabb11f2b6621d0bcb414a1" data-thumbnail="https://pica.zhimg.com/50/v2-41a48c87ffabb11f2b6621d0bcb414a1_720w.jpg?source=1940ef5c" class="content_image" width="306">
 </figure>
 <p data-pid="Pw2IoD2U"><i>下面的解释中间会用到少量计算机图论 (graph theory) 的术语，但应该还是很直观。</i></p>
 <h2>呱是如何选择旅行路径的？</h2>
 <p data-pid="1AR-PbX5">程序内建<b>东、西、南、北</b>四个区域，呱会选择一个地区旅行</p>
 <p data-pid="bzOZhN7b">每个区域的设计都是一个<b>连通的无向图 (connected undirected graph)</b>，而呱的旅行路线就是在图上某两个点之间走出一条<b>路径 (path)</b>。</p>
 <p data-pid="0Qotc0Bs">通过逆向手段，我提取出了程序中的信息，花了一些时间用 Graphviz 生成了每个地图的样子。</p>
 <figure data-size="small">
  <img src="https://pica.zhimg.com/50/v2-2ebf216189e029a88aa4c47cd1e5b99a_720w.jpg?source=1940ef5c" data-size="small" data-rawwidth="1341" data-rawheight="1500" data-original-token="v2-2ebf216189e029a88aa4c47cd1e5b99a" class="origin_image zh-lightbox-thumb" width="1341" data-original="https://pica.zhimg.com/v2-2ebf216189e029a88aa4c47cd1e5b99a_r.jpg?source=1940ef5c">
  <figcaption>
   南部地区
  </figcaption>
 </figure>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-5cbb3fa3f75e2cc64b27d2054929b733_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="1899" data-rawheight="1500" data-original-token="v2-5cbb3fa3f75e2cc64b27d2054929b733" class="origin_image zh-lightbox-thumb" width="1899" data-original="https://pica.zhimg.com/v2-5cbb3fa3f75e2cc64b27d2054929b733_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-39d79a1d81c6f0560c1208afe980a233_720w.jpg?source=1940ef5c" data-size="small" data-rawwidth="2400" data-rawheight="1419" data-original-token="v2-39d79a1d81c6f0560c1208afe980a233" class="origin_image zh-lightbox-thumb" width="2400" data-original="https://pic1.zhimg.com/v2-39d79a1d81c6f0560c1208afe980a233_r.jpg?source=1940ef5c">
  <figcaption>
   东部地区
  </figcaption>
 </figure>
 <figure data-size="small">
  <img src="https://pic1.zhimg.com/50/v2-fbf9ff23e7f739b640a3a1a4b40aef8c_720w.jpg?source=1940ef5c" data-size="small" data-rawwidth="2400" data-rawheight="1459" data-original-token="v2-fbf9ff23e7f739b640a3a1a4b40aef8c" class="origin_image zh-lightbox-thumb" width="2400" data-original="https://picx.zhimg.com/v2-fbf9ff23e7f739b640a3a1a4b40aef8c_r.jpg?source=1940ef5c">
  <figcaption>
   西部地区
  </figcaption>
 </figure>
 <p data-pid="ljYtJUom">图上的每个<b>节点 (vertex)</b> 都代表了一个地点。每个地点都有可能被蛙经过，并触发一些事件。</p>
 <p data-pid="oD3DgkPu">除了普通的地点外，还有四种特殊的地点会影响呱旅行的路线：</p>
 <ul>
  <li data-pid="42yHiMP3"><b>START 起始点（帽绿色）</b></li>
  <li data-pid="A68RByaz"><b>GOAL 目的地（桃红色）</b></li>
  <li data-pid="G3o-cXCj"><b>PATH 途径地（橘黄色）</b></li>
  <li data-pid="eFsy9O7n"><b>DETOUR 绕路地（浅黄色）</b></li>
 </ul>
 <p data-pid="Ebtws9F8">连接节点之间的是<b>边 (edge)</b>，代表连接地点的路，这些路上也会触发 遇上伙伴、拍摄照片 等事件。</p>
 <p data-pid="gT6QVhfF">每次开始旅行的时候，根据老母亲（？）打包的物品，呱都会：</p>
 <ol>
  <li data-pid="tI9Tco_2"><b>选择目的地<br></b>携带特点食物或道具可以影响到地区的选择，有些物品可以增加特定地区的被选概率，甚至可以直接确定选择的地区。在一个区域内的目的地的选择同样取决于所携带的道具。<b>具体每件物体效果会在后面提到</b>。</li>
  <li data-pid="kYLA38eW"><b>选择途径地<br></b>途径地由目的地决定，每个地点都有对应的途径地，代码中对此的描述是当地的县府/交通枢纽。</li>
  <li data-pid="TXVztw-Z"><b>选择绕路地<br></b>这个很有意思，我猜测作者的目的是为了让旅途更有多样性，每次路途会额外添加几个地区内绕路地点，携带物品对决定绕路地似乎没有影响。</li>
  <li data-pid="Ga9qRpsG"><b>生成经过所有地点的旅行路径<br></b>运用了图论很经典的连通图找最短路径 Dijkstra 算法，配合途径地和绕路地的逻辑，最终计算出旅行路径。</li>
 </ol>
 <h2>目的地是怎么选择的？</h2>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-16dc887ae3f37fbe647ce4518723bfc6_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="2136" data-rawheight="832" data-original-token="v2-3e5de65dc122c1959d1e635249def0ab" data-default-watermark-src="https://pic1.zhimg.com/50/v2-7c1ee759707c64a072db2e6c2c594606_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="2136" data-original="https://picx.zhimg.com/v2-16dc887ae3f37fbe647ce4518723bfc6_r.jpg?source=1940ef5c">
  <figcaption>
   这里的数值不是绝对概率而是相对的优先级
  </figcaption>
 </figure>
 <p data-pid="Zjl9Bzq_">具体目的地的选择就和携带的道具相关，每个物品对应目的地的优先级与 <b>区域加成</b> 叠加就能获得每个地点被选择的概率。</p>
 <p data-pid="g0ID3sCe">每个目的地的 <b>区域加成 </b>初始值都为 30，道具的 <b>决定地区</b> 属性值可以提升对应地区内目的地的<b> 区域加成</b>，从而增加区域内所有的目的地被选择的概率。</p>
 <p data-pid="t6XOwdV7">部分道具可以直接限制选择到规定的地区 (D)。</p>
 <p class="ztext-empty-paragraph"><br></p>
 <h2>呱是如何旅行的？</h2>
 <p data-pid="nCB3FAGI">确定了地点之后，呱会开始旅行：</p>
 <ol>
  <li data-pid="3N7cCHXZ">携带物品会决定蛙<b>最长</b>能旅行多久，<b>6 ～ 72 小时不等。</b></li>
  <li data-pid="Y9aG7Trq">初始体力由携带物品决定，以 100 为基数提升。<br>
   *<i>物品的具体属性参考下面的图鉴</i></li>
  <li data-pid="GVmZDvD8">经过图上的一条路（边）的时候，道路的地形属性和所携带的物品属性互相作用，会决定呱实际消耗的时间和体力。</li>
  <li data-pid="iRYYLBTU">路上可能会遇见小伙伴，会在之后的旅行中结伴而行，从而出现在明信片中。</li>
  <li data-pid="ze0LM8g5">根据路途属性，有一定概率会寄相关的明信片。</li>
  <li data-pid="uPqz_qhN">当体力不支的时候，蛙必须<b>停下来休息 3 小时</b>，休息完之后体力会恢复到 100。休息时间也算作旅行时间。</li>
  <li data-pid="WASImVJW">当到达目的<b>或者</b>旅行时间耗尽的时候，蛙就会回家。</li>
  <ol>
   <li data-pid="HW1AptKa">回家时会携带三叶草和抽奖券。</li>
   <li data-pid="qhRlpGqe">如果在时间耗尽前到达了<b>目的地</b>，蛙会在此基础上带回当地特产和收藏品。</li>
  </ol>
 </ol>
 <p data-pid="g0DkNCUk"><i>所以如果你的蛙很久都没回家，回家了也没有带土特产，可能是路途上多次体力不支，晕倒在路边。</i></p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-8519071aa7d56558474ffef7e52ee958_720w.gif?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="306" data-rawheight="210" data-original-token="v2-8519071aa7d56558474ffef7e52ee958" data-thumbnail="https://picx.zhimg.com/50/v2-8519071aa7d56558474ffef7e52ee958_720w.jpg?source=1940ef5c" class="content_image" width="306">
 </figure>
 <h2>呱在每条路上的耗时是怎么计算的？</h2>
 <p data-pid="WuZJ0vuu">设：<br><img src="https://www.zhihu.com/equation?tex=t_%7B%5Ctext%7Bway%7D%7D" alt="t_{\text{way}}" eeimg="1"> 为当前道路 <b>耗时<br></b><img src="https://www.zhihu.com/equation?tex=t_%7B%5Ctext%7Bplus%7D%7D" alt="t_{\text{plus}}" eeimg="1"> 为当前道路的 <b>地形增加耗时<br></b><img src="https://www.zhihu.com/equation?tex=w" alt="w" eeimg="1"> 为当前道路的 <b>地形，</b><img src="https://www.zhihu.com/equation?tex=w%5Cin+%5Cleft%5C%7B+%5Ctext%7BNormal%7D%2C+%5Ctext%7BMountain%7D%2C+%5Ctext%7BSea%7D%2C+%5Ctext%7BCave%7D+%5Cright%5C%7D" alt="w\in \left\{ \text{Normal}, \text{Mountain}, \text{Sea}, \text{Cave} \right\}" eeimg="1"><img src="https://www.zhihu.com/equation?tex=n" alt="n" eeimg="1"> 为携带物品数量<br><img src="https://www.zhihu.com/equation?tex=E_%7B%5Ctext%7BNormal%7D%7D%28x%29%2CE_%7B%5Ctext%7BMountain%7D%7D%28x%29%2CE_%7B%5Ctext%7BSea%7D%7D%28x%29%2CE_%7B%5Ctext%7BCave%7D%7D%28x%29%2CE_%7B%5Ctext%7BAll%7D%7D%28x%29" alt="E_{\text{Normal}}(x),E_{\text{Mountain}}(x),E_{\text{Sea}}(x),E_{\text{Cave}}(x),E_{\text{All}}(x)" eeimg="1"> 依次为携带的第 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"> 件物品中所有具有<i> 普通、山地、大海、洞穴、任意地形</i><b> 移动速度 的效果值。</b><br><br>
  如果当前道路是 <i>普通 </i>地形，则耗时因叠加 <b>移动速度</b> 效果而减少：<br><br><img src="https://www.zhihu.com/equation?tex=t_w%3D+t_%7B%5Ctext%7Bway%7D%7D%5Ctimes%5Cprod_%7Bx%3D1%7D%5E%7Bn%7D%7B%280.01%5Ctimes%28100-E_%7B%5Ctext%7BNormal%7D%7D%7B%28x%29%7D%29%29%7D%5C%5C" alt="t_w= t_{\text{way}}\times\prod_{x=1}^{n}{(0.01\times(100-E_{\text{Normal}}{(x)}))}\\" eeimg="1"><br>
  或者 如果当前道路是 <i>山地、大海、洞穴 </i>地形，基础耗时不变，地形增加耗时因叠加 <b>移动速度</b> 效果而减少：<br><img src="https://www.zhihu.com/equation?tex=t_w%3Dt_%7B%5Ctext%7Bway%7D%7D%2Bt_%7B%5Ctext%7Bplus%7D%7D%5Ctimes%5Cprod_%7Bx%3D1%7D%5E%7Bn%7D%7B%280.01%5Ctimes%28100-E_%7Bw%7D%7B%28x%29%7D%29%29%7D%5C%5C" alt="t_w=t_{\text{way}}+t_{\text{plus}}\times\prod_{x=1}^{n}{(0.01\times(100-E_{w}{(x)}))}\\" eeimg="1"><br>
  如果携带了 <b>乳蛋饼 （のびるのキッシュ）</b>这种 <i>全地形 </i><b>移动速度</b> 提升的物品，则会在此基础上再次叠加 <b>移动速度</b> 效果：<br><img src="https://www.zhihu.com/equation?tex=t_%7B%5Ctext%7Bfinal%7D%7D%3Dt_w+%5Ctimes%5Cprod_%7Bx%3D1%7D%5E%7Bn%7D%7B%280.01%5Ctimes%28100-E_%7B%5Ctext%7BAll%7D%7D%7B%28x%29%7D%29%29%7D%5C%5C" alt="t_{\text{final}}=t_w \times\prod_{x=1}^{n}{(0.01\times(100-E_{\text{All}}{(x)}))}\\" eeimg="1"><br>
  最终获得的 <img src="https://www.zhihu.com/equation?tex=t_%7B%5Ctext%7Bfinal%7D%7D" alt="t_{\text{final}}" eeimg="1"> 就是该条道路上的实际耗时。</p>
 <h2>呱离家出走了怎么办？</h2>
 <p data-pid="gKoZULfU">如果长时间没有准备便当，包里和桌上都没有食物，呱会愤然离家出走（どこかへ出かけています）。</p>
 <p data-pid="kg9j-nZt">这个时候在桌子上放上吃的，呱就会在 5～30 分钟内回家。</p>
 <p data-pid="XwRRmwfo"><i>有趣的是，离家出走也算作成就计算中的旅行次数...emmmm。</i></p>
 <h2>道路有哪些属性？</h2>
 <p data-pid="RubAkSOk">连接不同地点之间的每条路 (edge) 都有以下几个属性</p>
 <ul>
  <li data-pid="9mWbyu7K"><b>地形</b><br>
   四种地形分别是 <i>普通、大海、山地、洞穴</i></li>
  <li data-pid="Ve4MYi1V"><b>耗时</b><br>
   途径这条路的体力和时间损耗，分为基础耗时和地形增加耗时<br><i>呱需要跋山涉水自然会耗时久一点</i></li>
  <li data-pid="6kWdflGQ"><b>明信片概率<br></b>明信片上不同元素出现的概率<br><i>据说所有的地图元素都有真实原型</i></li>
  <li data-pid="Y758czRC"><b>遇见伙伴<br></b>遇见特定伙伴的概率</li>
 </ul>
 <p data-pid="K6R6gZNm">具体如下，<i>不能再详细了</i></p>
 <figure data-size="small">
  <img src="https://pic1.zhimg.com/50/v2-b74be43761d9b36cd91c3f2d8b0d2482_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="1445" data-rawheight="8646" data-original-token="v2-b74be43761d9b36cd91c3f2d8b0d2482" class="origin_image zh-lightbox-thumb" width="1445" data-original="https://pica.zhimg.com/v2-b74be43761d9b36cd91c3f2d8b0d2482_r.jpg?source=1940ef5c">
 </figure>
 <h2>每件物品都有什么效果？</h2>
 <p data-pid="Mqpw-Uku">奉上这张吐血整理的物品效果图鉴：</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-a09d8afaf365082c3b54c4e79c12b57b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="3826" data-rawheight="3731" data-original-token="v2-a09d8afaf365082c3b54c4e79c12b57b" class="origin_image zh-lightbox-thumb" width="3826" data-original="https://pica.zhimg.com/v2-a09d8afaf365082c3b54c4e79c12b57b_r.jpg?source=1940ef5c">
 </figure>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-659f2ebed6d814f7c466650f51b85486_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="1145" data-rawheight="832" data-original-token="v2-659f2ebed6d814f7c466650f51b85486" class="origin_image zh-lightbox-thumb" width="1145" data-original="https://pic1.zhimg.com/v2-659f2ebed6d814f7c466650f51b85486_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="qXV--HUz">有五类不同的物品</p>
 <ul>
  <li data-pid="96A2CFon"><b>便当<br></b>商店购买或者抽奖获得的食物</li>
  <li data-pid="3U2HRnLk"><b>幸运符<br></b>除了四叶草和可以购买的幸 (tǔ) 运 (háo) 铃之外，都要抽奖获得</li>
  <li data-pid="g4UrkDDE"><b>道具<br></b>商店购买</li>
  <li data-pid="_XX6tt8O"><b>特产<br></b>呱旅游时获得</li>
  <li data-pid="Z6S2nDR4"><b>收藏品<br></b>特别的特产，通常在县府获得，无法使用</li>
 </ul>
 <p data-pid="FB5NjyWF">属性分类</p>
 <ul>
  <li data-pid="gWGKDChu"><b>HP</b></li>
  <ul>
   <li data-pid="GYBmbSh8"><b>最大时间（小时</b>）<br>
    决定蛙的旅行时间</li>
   <li data-pid="Fo7JzKPn"><b>初始体力提升（%）</b><br>
    增加一开始<i>一鼓作气</i>能旅行的距离</li>
   <li data-pid="gq8TMQVv"><b>随机体力提升（%）</b><br>
    随机额外增加体力提升的最高百分点</li>
  </ul>
  <li data-pid="1CbnFxCH"><b>物品几率</b></li>
  <ul>
   <li data-pid="pB4by9UT"><b>三叶草</b><br>
    获得三叶草数量</li>
   <li data-pid="k0GROWAn"><b>额外随机三叶草</b><br>
    随机额外获得的最大三叶草数量</li>
   <li data-pid="5KcOyWju"><b>抽奖券</b><br>
    奖券数量</li>
   <li data-pid="OYp7EAD0"><b>物品收集阻力</b><br>
    减少收集阻力，增加获得目的地<i>收藏品</i>的概率</li>
  </ul>
  <li data-pid="P906v91c"><b>决定地区</b><br>
   对应地区被选中的概率，如果值为 D 则可以直接决定目的地所在区域</li>
  <li data-pid="1rcSyFQB"><b>移动速度</b><br>
   根据地形不同，提升移动速度，减少途径所耗费的时间，在相同旅行时间内可以走更远</li>
  <li data-pid="s0zao4uP"><b>朋友</b><br>
   遇到特定旅行伙伴的概率</li>
  <li data-pid="r-gSjeLU"><b>遭遇地形</b><br>
   途径特定地形时候获得相应明信片的概率</li>
  <li data-pid="UtAnYxdG"><b>FLAG 属性</b><br>
   立一些特定的 Flag，主要影响成就系统，下面会写到<br></li>
 </ul>
 <h2>如何科学使用物品？</h2>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-639c8d930850a0e2ccf3d73595707ffc_720w.gif?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="306" data-rawheight="222" data-original-token="v2-639c8d930850a0e2ccf3d73595707ffc" data-thumbnail="https://picx.zhimg.com/50/v2-639c8d930850a0e2ccf3d73595707ffc_720w.jpg?source=1940ef5c" class="content_image" width="306">
 </figure>
 <p data-pid="hwHwZbnQ">这里用几个例子来展示物品和路线结合的效果</p>
 <ol>
  <li data-pid="zUaJzR9q"><b>决定想去的地区<br></b>携带的便当和抽奖获得的护身符（お守り）可以提升选择特定地区的概率。 抽奖获得的车票（きっぷ）可以<b>直接决定</b>所去到的地区。<br><b>例：</b><i>想去北方，使用<b>北国きっぷ。</b></i></li>
  <li data-pid="XpmnIeVA"><b>影响路途的距离和时间<br></b>带 <b>最大时间 </b>值高的食物吃走得远，带 <b>体力提升</b> 值高的食物吃走得快耗时少。</li>
  <li data-pid="pwL63PKA"><b>快速通过沿途路线的地形<br></b>带有地区速度加成的食物或者道具，可以增加特定地形的移动速度。<br>
   不同物品的 <b>移动速度</b> 效果可以叠加，详情查看上面的解释。</li>
  <li data-pid="oeXkIyt_"><b>匹配在道路上遇到的伙伴<br></b>如果在途径会遭遇伙伴的道路，特定物品可以增加实际遭遇概率<b><br>
    例：</b><i>抽奖抽到的黄色ぼうろ（饼干）可以增加路途中遇到螃蟹的几率。</i></li>
 </ol>
 <h2>综合运用（敲黑板！！！）</h2>
 <p data-pid="bJPpanAs"><b>呱想去秋田県男鹿市看灯塔</b></p>
 <ol>
  <li data-pid="TmEkV_Ro">在地图上找到 秋田県（3022） 在北方。</li>
  <li data-pid="TanfLDCa">便当选择 <b>あさつきのピロシキ （葱饼？）</b>可以提升去北方的概率。</li>
  <li data-pid="Fqfo3qSD">携带 <b>青色のお守り （蓝色护身符）</b>可以提升去北方的概率。</li>
  <li data-pid="hNM--0mm">如果有 <b>北国きっぷ（北方车票？）</b>可以直接决定去北方，上面的便当和护身符可以换别的。</li>
  <li data-pid="rosD_oTS">通过目的地概率表发现携带各类帐篷前往 3022 目的地的概率更高。</li>
  <li data-pid="ZISmH0is">查看可能的路线发现从起始点 3000 到 3022 之间会途径很多山路。</li>
  <li data-pid="kKVzjAQP">携带 <b>ハイテクテント （高级帐篷？）</b>增加山地移动速度更显著。</li>
  <li data-pid="OcoFmWRC">如果还有空余，可以带上 <b>よつ葉（四叶草）</b>或者 <b>幸運の鈴</b>，提升带回物品的概率。</li>
 </ol>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-24d00a5015507fd212aa77504813b9de_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="500" data-rawheight="350" data-original-token="v2-24d00a5015507fd212aa77504813b9de" class="origin_image zh-lightbox-thumb" width="500" data-original="https://picx.zhimg.com/v2-24d00a5015507fd212aa77504813b9de_r.jpg?source=1940ef5c">
 </figure>
 <h2>旅途中会带回哪些明信片？</h2>
 <p data-pid="g34rn4Cb">途径每条道路上会遇到的明信片元素都有很明确的概率。</p>
 <p data-pid="1sU4-LrP">普通的明信片是自动合成的。根据道路元素、所携带道具、遇到的同行小伙伴，程序会选择合适的背景、前景和呱和小伙伴的 pose，合成完整的明信片。粗略计算，有 120 种左右的组合。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-f693541dcd6ff01bf573029bdd84229a_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="1350" data-rawheight="600" data-original-token="v2-f693541dcd6ff01bf573029bdd84229a" class="origin_image zh-lightbox-thumb" width="1350" data-original="https://pica.zhimg.com/v2-f693541dcd6ff01bf573029bdd84229a_r.jpg?source=1940ef5c">
  <figcaption>
   几种不同的 pose
  </figcaption>
 </figure>
 <p data-pid="3fwN-V1B">有一些带有特定的故事情节明信片是单张绘制的，这里也可以看出游戏制作者的用心：迷路和小伙伴看地图通常出现在地图的边缘，冷清下水道一般出现在四通八达的城市交通枢纽。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-e94a712c25d9bf6cd637a4a2c444e1b8_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="500" data-rawheight="350" data-original-token="v2-e94a712c25d9bf6cd637a4a2c444e1b8" class="origin_image zh-lightbox-thumb" width="500" data-original="https://pic1.zhimg.com/v2-e94a712c25d9bf6cd637a4a2c444e1b8_r.jpg?source=1940ef5c">
  <figcaption>
   迷路的呱呱
  </figcaption>
 </figure>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/v2-67f15a21eceffc257c625238749e2ff9_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="500" data-rawheight="350" data-original-token="v2-67f15a21eceffc257c625238749e2ff9" class="origin_image zh-lightbox-thumb" width="500" data-original="https://picx.zhimg.com/v2-67f15a21eceffc257c625238749e2ff9_r.jpg?source=1940ef5c">
  <figcaption>
   路边的排水渠
  </figcaption>
 </figure>
 <h2>旅途中会带回哪些特产？</h2>
 <p data-pid="pWzZYk3j">上面提到了，成功到达<b>目的地（GOAL）</b>的时候才会获得特产，收藏品的获得的基础概率是 15%，使用 <b>四叶草</b> 或者 <b>幸运铃铛</b> 可以减少收集收藏品的阻力，增加获得概率。其他物品的概率如下：</p>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-edd1d42b35ba4df01b1df1c08bb58513_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="1195" data-rawheight="5931" data-original-token="v2-edd1d42b35ba4df01b1df1c08bb58513" class="origin_image zh-lightbox-thumb" width="1195" data-original="https://picx.zhimg.com/v2-edd1d42b35ba4df01b1df1c08bb58513_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="M5GdTDqM"><i>游戏代码中有收藏品收集三次必定成功的设定，但是实际上并未启用，可能在之后的版本中会引入</i></p>
 <h2>朋友什么时候会来访？</h2>
 <p data-pid="kdII_UYI">蜗牛、蜜蜂和乌龟会时不时来访。来访停留的时间 180～270 分钟。</p>
 <p data-pid="kxG-Ee85"><b>蜜蜂需要有至少 3 件收藏品才会出现，乌龟需要有至少 6 件收藏品。</b></p>
 <h2>朋友来访应该投喂什么？</h2>
 <p data-pid="QDF4gCR1">给来访的朋友投喂会获得三叶草和抽奖券的回礼：</p>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-42ca38c99c94b36574c7fa7c02124490_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="676" data-rawheight="328" data-original-token="v2-42ca38c99c94b36574c7fa7c02124490" class="origin_image zh-lightbox-thumb" width="676" data-original="https://pic1.zhimg.com/v2-42ca38c99c94b36574c7fa7c02124490_r.jpg?source=1940ef5c">
 </figure>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="gpjGx9f3">在此基础上，投喂带有稀有 FLAG 属性的物品会多获得 20 根三叶草，多获得 1～4 张抽奖券。</p>
 <p data-pid="7-Ufoeyg">朋友会记住最近三次的食品。连续投喂同一种物品，获得回礼的数量会降低。</p>
 <p data-pid="-xbVHM0X"><b>为了达到最好效果，最好换四种不同的礼物轮流投喂</b>，具体可以参照下面的喜好表格：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-8fd84af1e35348ffa026d99c8b0853d8_720w.jpg?source=1940ef5c" data-size="normal" data-rawwidth="399" data-rawheight="2081" data-original-token="v2-a8ba544a027655775a2cbe462f64fe6e" data-default-watermark-src="https://picx.zhimg.com/50/v2-22f95c934ae7be4414f0fa3be2e82ca6_720w.jpg?source=1940ef5c" class="content_image" width="399">
  <figcaption>
   ??? 代表还未收录的物品，可能在将来版本会更新
  </figcaption>
 </figure>
 <h2>三叶草多久会长好？</h2>
 <p data-pid="MXkb8u3b">花坛中总共有 20 根三叶草。</p>
 <p data-pid="XB77wloR">三叶草割完之后重生的时间是遵循 <img src="https://www.zhihu.com/equation?tex=%5Cmu%3D7200%EF%BC%8C%5Csigma%3D1800" alt="\mu=7200，\sigma=1800" eeimg="1"> 的正态分布在 <img src="https://www.zhihu.com/equation?tex=%5B300%2C+14400%5D" alt="[300, 14400]" eeimg="1"> 的区间：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-d455a65b3b15866e5a8f8717ef0a7406_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="576" data-rawheight="333" data-original-token="v2-d455a65b3b15866e5a8f8717ef0a7406" class="origin_image zh-lightbox-thumb" width="576" data-original="https://pica.zhimg.com/v2-d455a65b3b15866e5a8f8717ef0a7406_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="7wIXObPQ"><b>每一根都是独立重生的。最短 5 分钟 (300 秒)，最长 4 小时 (14400 秒) 重生。</b></p>
 <h2>四叶草获得的概率是？</h2>
 <p data-pid="LdW_SkMH">完成教程后会自动诞生第一颗四叶草，除此之外，每一根三叶草重生的时候都有 <b>1%</b> 的概率成为四叶草。</p>
 <h2>抽奖球的概率是？</h2>
 <ul>
  <li data-pid="j1YyRIfG">白：60%</li>
  <li data-pid="2MqtSq8K">蓝：27%</li>
  <li data-pid="HMAUVxev">绿：9%</li>
  <li data-pid="fC4mDOxV">红：3%</li>
  <li data-pid="QvzeFzyB">金：1%</li>
 </ul>
 <h2>如何获得成就？</h2>
 <p data-pid="y8_8bakz">蛙旅行的时候会立一些 Flag，我从代码中整理了一下触发的条件：</p>
 <figure data-size="small">
  <img src="https://picx.zhimg.com/50/v2-d7e606bc6c49621bf8861d4c70b03c95_720w.jpg?source=1940ef5c" data-caption="" data-size="small" data-rawwidth="641" data-rawheight="732" data-original-token="v2-d7e606bc6c49621bf8861d4c70b03c95" class="origin_image zh-lightbox-thumb" width="641" data-original="https://pic1.zhimg.com/v2-d7e606bc6c49621bf8861d4c70b03c95_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="l5fQQUNC">这也是玄学错误迷信的一个地方。使用称呼对游戏其他部分没有任何影响，不会改变获得物品和明信片获得概率，也不会影响出门时长。</p>
 <h2>有没有免费获得三叶草的方法？</h2>
 <p data-pid="TGjxq10V"><i>你猜？</i></p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/v2-4d9e1a01ff1ddc43e9b82d0a676cc36c_720w.gif?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="306" data-rawheight="217" data-original-token="v2-4d9e1a01ff1ddc43e9b82d0a676cc36c" data-thumbnail="https://pic1.zhimg.com/50/v2-4d9e1a01ff1ddc43e9b82d0a676cc36c_720w.jpg?source=1940ef5c" class="content_image" width="306">
 </figure>
 <hr>
 <p data-pid="mcLMNB9H"><i>持续更新，欢迎在评论区提问。</i></p>
</body>
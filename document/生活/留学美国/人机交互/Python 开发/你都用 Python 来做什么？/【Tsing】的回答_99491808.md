# 你都用 Python 来做什么？
- 点赞数：6829
- 更新时间：2019年04月10日18时14分54秒
- 回答url：https://www.zhihu.com/question/20799742/answer/99491808
<body>
 <p data-pid="mehFFMss">首先上一首 Python 之禅：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-4ee6092f35facdfb720c5c51d7b0c204_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="552" data-rawheight="337" data-original-token="v2-dd904698597828e13e7239ed539a5a51" data-default-watermark-src="https://pica.zhimg.com/50/v2-c4ab4f5cbb54186c42c5bcd22d4bfaa3_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="552" data-original="https://picx.zhimg.com/v2-4ee6092f35facdfb720c5c51d7b0c204_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="sFHKKy34">我从 2015 年 3 月第一次接触 Python 这门语言（之前一直写 PHP），就对其<b>简洁的代码</b>和<b>超快的开发速度</b>深深着迷了。这些年里，我利用 Python 写过非常多的小脚本，绝大部分都是<b>为了提高效率而写</b>的工具，有不少还<b>打包成了桌面版单文件</b>供广大用户使用。</p>
 <h2>1. SciHub Desktop</h2>
 <p data-pid="jtmiIeMc">这个软件的最初两个版本是用 Python + TK 写的 GUI 程序，主要是为了方便广大研究生<b>突破权限下载英文文献</b>。内含多个文献下载数据源，只要输入文献的 DOI 号，回车就可以自动下载文献全文，非常方便，目前仅网盘的下载量就超过了<b> 30 万人次</b>。</p><a href="https://zhuanlan.zhihu.com/p/31809890" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-273bab72e503b89a8b52ce9b18f6d24d_180x120.jpg" data-image-width="4096" data-image-height="2730" class="internal">Tsing：SciHub Desktop 桌面版软件官方发布页面</a>
 <h2>2. HistCite Pro</h2>
 <p data-pid="8KcyLe8G">这个软件是基于 HistCite 内核开发的<b>免安装易用版本</b>，使用 Python 对从 Web of Science 数据库中导出的数据文件进行<b>预处理</b>，然后进行文献引文分析，<b>快速分析出某个研究领域最具有价值的文献和作者</b>，目前也得到了数万用户的使用。</p><a href="https://zhuanlan.zhihu.com/p/20902898" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-3900db998140fac611555e8fde3bde87_180x120.jpg" data-image-width="4011" data-image-height="2687" class="internal">Tsing：文献引文分析利器 HistCite 详细使用教程暨 HistCite Pro 首发页面</a>
 <h2>3. 上学吧答案神器</h2>
 <p data-pid="ywdAbCcQ">这款软件是最近才写的，主要实现的是<b>无限制</b>获取<a href="https://link.zhihu.com/?target=https%3A//www.shangxueba.com/ask/" class=" wrap external" target="_blank" rel="nofollow noreferrer">上学吧</a>网站上的题目答案（绕过 IP 限制），并实现了<b>自动识别验证码</b>，只用输入某个题目的网址，即可一键获取答案，速度非常快。</p><a href="https://zhuanlan.zhihu.com/p/60502527" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-ed2026c67568dd7e9d3299aee1530f08_180x120.jpg" data-image-width="1767" data-image-height="593" class="internal">Tsing：自动识别验证码无限次获取上学吧的题目答案</a>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-530811415dca3c5bcf6bb2b731653ce1_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="786" data-rawheight="475" data-original-token="v2-31bc9fe49a889accb78557513e4f9429" data-default-watermark-src="https://picx.zhimg.com/50/v2-de2235d86769021873b22f6efe52f472_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="786" data-original="https://picx.zhimg.com/v2-530811415dca3c5bcf6bb2b731653ce1_r.jpg?source=1940ef5c">
 </figure>
 <h2>4. 破解观看中科大网络课堂</h2>
 <blockquote data-pid="wLt1ISIE">
  由于<b>本科四年都在科大</b>，所以那时候也写了好多关于科大的脚本（正是因为太喜欢科大了才会去折腾这些哈），虽然目前有些已经失效了，但是还是值得放出来纪念一下的。
 </blockquote>
 <p data-pid="fSA2GbJZ">中国科学技术大学<a href="https://link.zhihu.com/?target=http%3A//wlkt.ustc.edu.cn/" class=" wrap external" target="_blank" rel="nofollow noreferrer">网络课堂</a>汇集了很多知名教授的授课视频，以及最新的大牛讲座视频，内容相当丰富，但是这些视频<b>只面向校内 IP 开放</b>。后来不小心找到了网站上的一个漏洞，用 Python 写了不到 10 行代码就可以获取真实视频地址，这样就<b>可以在校外看视频了</b>。（这个漏洞目前已经被修复了，大家就不要找我要代码了哈~）</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/17673e10f42f5025cd5839299ecab394_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="794" data-rawheight="361" data-original-token="17673e10f42f5025cd5839299ecab394" class="origin_image zh-lightbox-thumb" width="794" data-original="https://picx.zhimg.com/17673e10f42f5025cd5839299ecab394_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="A5KBVxIy">另外还简单写了一个 GUI 界面，打包成 exe 单软件给室友用，都说挺好用的哈。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/e4f131efeb8ba95b3fb26557c546e7de_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="521" data-rawheight="265" data-original-token="e4f131efeb8ba95b3fb26557c546e7de" class="origin_image zh-lightbox-thumb" width="521" data-original="https://pic1.zhimg.com/e4f131efeb8ba95b3fb26557c546e7de_r.jpg?source=1940ef5c">
 </figure>
 <h2><b>5. 抓取研究生系统内全部学生姓名学号及选课信息</b></h2>
 <p data-pid="B-ISNCAs">登录中国科学技术大学的<a href="https://link.zhihu.com/?target=http%3A//yjs.ustc.edu.cn/main.asp" class=" wrap external" target="_blank" rel="nofollow noreferrer">研究生综合系统</a>，可以看到每一门课选课的<b>学生姓名和学号</b>，当时就想到做一个这样的系统，输入任何姓名或学号就可以看到他所有的选课信息。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/0af70a5fab239569da1389d2bbf76b65_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1366" data-rawheight="727" data-original-token="0af70a5fab239569da1389d2bbf76b65" class="origin_image zh-lightbox-thumb" width="1366" data-original="https://picx.zhimg.com/0af70a5fab239569da1389d2bbf76b65_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="EUE15xan">点击每门课的已选人数链接，可以看到所有的选课学生姓名和学号：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/1e8442d856654a60e33e8c38934203c9_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1366" data-rawheight="728" data-original-token="1e8442d856654a60e33e8c38934203c9" class="origin_image zh-lightbox-thumb" width="1366" data-original="https://picx.zhimg.com/1e8442d856654a60e33e8c38934203c9_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="aDmcm-c5">下面利用 requests 的模拟登录功能，先获取全部课程的链接，然后逐个抓取所有课程的选课信息。（为了保护学生信息，对程序的关键部分进行了模糊处理。）</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/43301f98c47dd0289aa4d9ad357279c6_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1361" data-rawheight="1293" data-original-token="43301f98c47dd0289aa4d9ad357279c6" class="origin_image zh-lightbox-thumb" width="1361" data-original="https://pic1.zhimg.com/43301f98c47dd0289aa4d9ad357279c6_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="27Ze6gSg">这样就获取了一个巨大的 <b>json 文件</b>，里面全都是学生的姓名、学号以及选课信息：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/6ea9e83173d0d8c336702412e642bcee_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1366" data-rawheight="672" data-original-token="6ea9e83173d0d8c336702412e642bcee" class="origin_image zh-lightbox-thumb" width="1366" data-original="https://picx.zhimg.com/6ea9e83173d0d8c336702412e642bcee_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="_hDo8bcV">有了这个 json 文件，我们可以写入数据库，也可以直接利用 json 文件来查询：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/ad37594e8da16a1d2580a3b46d27201a_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="595" data-rawheight="443" data-original-token="ad37594e8da16a1d2580a3b46d27201a" class="origin_image zh-lightbox-thumb" width="595" data-original="https://picx.zhimg.com/ad37594e8da16a1d2580a3b46d27201a_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="IMtwNJyx">为了方便其他人使用，基于上面的数据我开发了一个<b>在线查询网站</b>（目前已下线）：</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/b19afe3e57050355bac1c8a07e4c9e46_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="362" data-rawheight="218" data-original-token="b19afe3e57050355bac1c8a07e4c9e46" class="content_image" width="362">
 </figure>
 <p data-pid="TiQwcc4Y">输入姓名或者学号都可以直接查询别人的选课信息：</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/e979556e164cf6b09198872bd0599608_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="363" data-rawheight="653" data-original-token="e979556e164cf6b09198872bd0599608" class="content_image" width="363">
 </figure>
 <h2><b>6. 扫描研究生系统上的弱密码用户</b></h2>
 <p data-pid="QQ6b1-tl">基于上面获得的研究生学号，很容易利用 Python <b>批量尝试登录研究生系统</b>，密码就用 123456 这样的弱密码，然后可以<b>获得身份证号码</b>等重要信息。</p>
 <figure data-size="normal">
  <img src="https://pica.zhimg.com/50/4cb5ff3a82a2b3ec843d1667d7d5ae8b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="729" data-rawheight="599" data-original-token="4cb5ff3a82a2b3ec843d1667d7d5ae8b" class="origin_image zh-lightbox-thumb" width="729" data-original="https://picx.zhimg.com/4cb5ff3a82a2b3ec843d1667d7d5ae8b_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="A5UrKT4q">这样就得到了使用 123456 作为密码的用户信息，所以<b>在此提醒大家一定不要使用弱密码</b>，希望下面的同学早日修改密码。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/add410f67e8b356c9880a469b9c1d5fd_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="647" data-rawheight="486" data-original-token="add410f67e8b356c9880a469b9c1d5fd" class="origin_image zh-lightbox-thumb" width="647" data-original="https://picx.zhimg.com/add410f67e8b356c9880a469b9c1d5fd_r.jpg?source=1940ef5c">
 </figure>
 <h2><b>7. 模拟登录图书馆系统并自动续借</b></h2>
 <p data-pid="JD_8HRuf">以前收到<b>借阅图书到期通知</b>短信，就会运行一下这个程序，然后就<b>自动续借</b>了，这样就可以再看一个月了。不过后来科大图书馆系统升级了，因此这个方法也就失效了。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/392f8cc73c3c4fd8fb0972b3c2b61284_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="1018" data-rawheight="612" data-original-token="392f8cc73c3c4fd8fb0972b3c2b61284" class="origin_image zh-lightbox-thumb" width="1018" data-original="https://picx.zhimg.com/392f8cc73c3c4fd8fb0972b3c2b61284_r.jpg?source=1940ef5c">
 </figure>
 <p data-pid="dIJPjyUK">运行就是这样的，自动续借成功，看到的链接就是每本书的续借链接。</p>
 <figure data-size="normal">
  <img src="https://pic1.zhimg.com/50/ea9b2970f8d8c7c8cb644723e2da46b9_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="682" data-rawheight="414" data-original-token="ea9b2970f8d8c7c8cb644723e2da46b9" class="origin_image zh-lightbox-thumb" width="682" data-original="https://pica.zhimg.com/ea9b2970f8d8c7c8cb644723e2da46b9_r.jpg?source=1940ef5c">
 </figure>
 <h2><b>8. 云短信网站上的验证码短信来源分析</b></h2>
 <p data-pid="n61p-u9p"><a href="https://link.zhihu.com/?target=https%3A//www.pdflibr.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">这个网站</a>提供了很多<b>免费的临时手机号</b>，用这些公用的手机号你可以注册一些好玩的（或者你懂的）网站和APP，而<b>不用担心个人信息的泄露</b>。于是我用 Python 写了一个爬虫脚本，自动翻页抓取了部分短信内容，然后<b>解析出其中的信息来源</b>并分析一下频次，就发现好几个看名字就挺有意思的 APP 压根没有听过呀，看来是时候<b>用短信验证码的方式登录</b>看看去啦~</p><a href="https://zhuanlan.zhihu.com/p/59955770" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-6152cb8362254f9587d3a2636c204402_180x120.jpg" data-image-width="1867" data-image-height="861" class="internal">Tsing：Python爬虫：大家用公共的手机号干了啥？</a>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-0e98c41db646a43f55b324907465f271_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="223" data-rawheight="711" data-original-token="v2-bbc9200fb64f21bde9e804258a111225" data-default-watermark-src="https://picx.zhimg.com/50/v2-c8e64bc693ad18fa2c85956a5db25808_720w.jpg?source=1940ef5c" class="content_image" width="223">
 </figure>
 <h2>9. 给钓鱼网站批量提交垃圾信息</h2>
 <p data-pid="BPu5Ilbn">经常会收到含有钓鱼网站链接的短信的，一般都是盗取 QQ 密码的偏多，其实可以使用 Python 来批量给对方的服务器提交垃圾数据（需要先抓包），这样骗子看到信息之后就<b>不知道哪些是真的哪些是假的了</b>，说不定可以解救一部分填了密码的同学。</p><a href="https://zhuanlan.zhihu.com/p/28810019" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-f85b667b0c031cb4a287f4e2fd48a9a7_180x120.jpg" data-image-width="1366" data-image-height="768" class="internal">Tsing：偶遇一个钓鱼网站，于是就简单玩了一下...</a>
 <p class="ztext-empty-paragraph"><br></p>
 <h2><b>10. 网易云音乐批量下载</b></h2>
 <p data-pid="RI9zx_-n">可以批量下载网易云音乐热歌榜的歌曲，可以自己设定数量，速度非常快。</p>
 <div class="highlight">
  <pre><code class="language-python3"><span class="c1"># 网易云音乐批量下载</span>
<span class="c1"># Tsing 2019.03.28</span>

<span class="c1"># 首先，找到你要下载的歌曲，用网页版打开，复制链接中的歌曲ID，如：http://music.163.com/#/song?id=476592630 这个链接ID就是 476592630</span>
<span class="c1"># 然后将ID替换到链接 http://music.163.com/song/media/outer/url?id=ID.mp3 中的ID位置即可获得歌曲的外链：http://music.163.com/song/media/outer/url?id=476592630.mp3</span>

<span class="kn">import</span> <span class="nn">requests</span>						<span class="c1"># 用于获取网页内容的模块</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="k">import</span> <span class="n">BeautifulSoup</span>		<span class="c1"># 用于解析网页源代码的模块</span>

<span class="n">header</span><span class="o">=</span><span class="p">{</span>	<span class="c1"># 伪造浏览器头部，不然获取不到网易云音乐的页面源代码。</span>
	<span class="s1">'User-Agent'</span><span class="p">:</span><span class="s1">'Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/46.0.2490.80 Safari/537.36'</span><span class="p">,</span>
	<span class="s1">'Referer'</span><span class="p">:</span><span class="s1">'http://93.174.95.27'</span><span class="p">,</span>
<span class="p">}</span>
<span class="n">link</span> <span class="o">=</span> <span class="s2">"http://music.163.com/discover/toplist?id=3778678"</span>	<span class="c1"># 这是网易云音乐热歌榜的链接（其实是嵌套在网页里面含有歌曲数据的页面框架的真实链接）</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>	<span class="c1"># 通过 requests 模块的 get 方法获取网页数据</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">content</span>	<span class="c1"># 获取网页内容</span>
<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">,</span> <span class="s2">"html.parser"</span><span class="p">)</span>	<span class="c1"># 通过 BeautifulSoup 模块解析网页，具体请参考官方文档。</span>
<span class="n">songs</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"ul"</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s2">"f-hide"</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> 	<span class="c1"># 通过分析网页源代码发现排行榜中的歌曲信息全部放在类名称为 f-hide 的 ul 中，于是根据特殊的类名称查找相应 ul，然后找到里面的全部 a 标签，限制数量为10，即排行榜的前 10 首歌。</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># 设置一个自增参数，表示歌曲的数目</span>

<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">songs</span><span class="p">:</span>  	<span class="c1"># 遍历输出数组 songs 中的内容</span>
	<span class="n">song_id</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="s1">'href'</span><span class="p">][</span><span class="mi">9</span><span class="p">:]</span> 	<span class="c1"># 只截取歌曲链接中的 ID 部分，因为网页中链接的形式为 “/song?id=496870798”，从 = 号之后的就是歌曲的 ID 号。</span>
	<span class="n">song_name</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">text</span> 	<span class="c1"># 获取 a 标签的文本内容，即歌曲的名称。</span>
	<span class="n">song_down_link</span> <span class="o">=</span> <span class="s2">"http://music.163.com/song/media/outer/url?id="</span> <span class="o">+</span> <span class="n">song_id</span> <span class="o">+</span> <span class="s2">".mp3"</span>		<span class="c1"># 根据歌曲的 ID 号拼接出下载的链接。歌曲直链获取的方法参考文前的注释部分。</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"第 "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s2">" 首歌曲："</span> <span class="o">+</span> <span class="n">song_down_link</span><span class="p">)</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"正在下载..."</span><span class="p">)</span>

	<span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">song_down_link</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span><span class="o">.</span><span class="n">content</span> <span class="c1"># 亲测必须要加 headers 信息，不然获取不了。</span>
	<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">song_name</span> <span class="o">+</span> <span class="s2">".mp3"</span><span class="p">,</span> <span class="s1">'wb'</span><span class="p">)</span> <span class="c1"># 以二进制的形式写入文件中</span>
	<span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
	<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
	<span class="nb">print</span><span class="p">(</span><span class="s2">"下载完成.</span><span class="se">\n\r</span><span class="s2">"</span><span class="p">)</span>
	<span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span></code></pre>
 </div>
 <p data-pid="7Bc3DKWZ">于是就可以愉快的听歌了。</p>
 <figure data-size="normal">
  <img src="https://picx.zhimg.com/50/v2-9a058973fe46e7c4be0ff0c283b36b8b_720w.jpg?source=1940ef5c" data-caption="" data-size="normal" data-rawwidth="841" data-rawheight="414" data-original-token="v2-dd87c8e798d9ebe6cbe820de4c0eb180" data-default-watermark-src="https://pic1.zhimg.com/50/v2-30f7c28e5103e13c1b673166abfae147_720w.jpg?source=1940ef5c" class="origin_image zh-lightbox-thumb" width="841" data-original="https://picx.zhimg.com/v2-9a058973fe46e7c4be0ff0c283b36b8b_r.jpg?source=1940ef5c">
 </figure>
 <hr>
 <blockquote data-pid="Uyrt1HgQ">
  以下是很早之前用 <b>Python2</b> 写的一些小作品，当时的代码可能比较幼稚哈，就不删除了吧~
 </blockquote>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="TGN5dYyD"><b>1. 批量下载读者杂志某一期的全部文章</b></p>
 <p data-pid="e-XGsU-p">上次无意中发现读者杂志还有一个在线的版本，然后兴趣一来就用 Python 批量下载了上面的大量文章，保存为 txt 格式。</p>
 <div class="highlight">
  <pre><code class="language-text">#!/usr/bin/env python
# -*- coding: utf-8 -*-
# 保存读者杂志某一期的全部文章为TXT
# By Tsing
# Python 2.7.9

import urllib2
import os
from bs4 import BeautifulSoup

def urlBS(url):
    response = urllib2.urlopen(url)
    html = response.read()
    soup = BeautifulSoup(html)
    return soup

def main(url):
    soup = urlBS(url)
    link = soup.select('.booklist a')
    path = os.getcwd()+u'/读者文章保存/'
    if not os.path.isdir(path):
        os.mkdir(path)
    for item in link:
        newurl = baseurl + item['href']
        result = urlBS(newurl)
        title = result.find("h1").string
        writer = result.find(id="pub_date").string.strip()
        filename = path + title + '.txt'
        print filename.encode("gbk")
        new=open(filename,"w")
        new.write("&lt;&lt;" + title.encode("gbk") + "&gt;&gt;\n\n")
        new.write(writer.encode("gbk")+"\n\n")
        text = result.select('.blkContainerSblkCon p')
        for p in text:
            context = p.text
            new.write(context.encode("gbk"))
        new.close()

if __name__ == '__main__':
    time = '2015_03'
    baseurl = 'http://www.52duzhe.com/' + time +'/'
    firsturl = baseurl + 'index.html'
    main(firsturl)</code></pre>
 </div>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="gdBS3_Q9"><b>2. 获取城市PM2.5浓度和排名</b></p>
 <p data-pid="Le7GAmIA">最近环境问题很受关注，就用 Python 写了一个抓取 PM2.5 的程序玩玩，程序支持多线程，方便扩展。</p>
 <div class="highlight">
  <pre><code class="language-python3"><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># 获取城市PM2.5浓度和排名</span>
<span class="c1"># By Tsing</span>
<span class="c1"># Python 2.7.9</span>

<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">threading</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="k">import</span> <span class="n">ctime</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="k">import</span> <span class="n">BeautifulSoup</span>

<span class="k">def</span> <span class="nf">getPM25</span><span class="p">(</span><span class="n">cityname</span><span class="p">):</span>
    <span class="n">site</span> <span class="o">=</span> <span class="s1">'http://www.pm25.com/'</span> <span class="o">+</span> <span class="n">cityname</span> <span class="o">+</span> <span class="s1">'.html'</span>
    <span class="n">html</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">site</span><span class="p">)</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">html</span><span class="p">)</span>

    <span class="n">city</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">class_</span> <span class="o">=</span> <span class="s1">'bi_loaction_city'</span><span class="p">)</span>   <span class="c1"># 城市名称</span>
    <span class="n">aqi</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"a"</span><span class="p">,{</span><span class="s2">"class"</span><span class="p">,</span><span class="s2">"bi_aqiarea_num"</span><span class="p">})</span>  <span class="c1"># AQI指数</span>
    <span class="n">quality</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">".bi_aqiarea_right span"</span><span class="p">)</span>  <span class="c1"># 空气质量等级</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">"div"</span><span class="p">,</span><span class="n">class_</span> <span class="o">=</span><span class="s1">'bi_aqiarea_bottom'</span><span class="p">)</span>   <span class="c1"># 空气质量描述</span>

    <span class="nb">print</span> <span class="n">city</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="sa">u</span><span class="s1">'AQI指数：'</span> <span class="o">+</span> <span class="n">aqi</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="sa">u</span><span class="s1">'</span><span class="se">\n</span><span class="s1">空气质量：'</span> <span class="o">+</span> <span class="n">quality</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="n">text</span>
    <span class="nb">print</span> <span class="s1">'*'</span><span class="o">*</span><span class="mi">20</span> <span class="o">+</span> <span class="n">ctime</span><span class="p">()</span> <span class="o">+</span> <span class="s1">'*'</span><span class="o">*</span><span class="mi">20</span>

<span class="k">def</span> <span class="nf">one_thread</span><span class="p">():</span>   <span class="c1"># 单线程</span>
    <span class="nb">print</span> <span class="s1">'One_thread Start: '</span> <span class="o">+</span> <span class="n">ctime</span><span class="p">()</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span>
    <span class="n">getPM25</span><span class="p">(</span><span class="s1">'hefei'</span><span class="p">)</span>
    <span class="n">getPM25</span><span class="p">(</span><span class="s1">'shanghai'</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">two_thread</span><span class="p">():</span>   <span class="c1"># 多线程</span>
    <span class="nb">print</span> <span class="s1">'Two_thread Start: '</span> <span class="o">+</span> <span class="n">ctime</span><span class="p">()</span> <span class="o">+</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span>
    <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">t1</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">getPM25</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="s1">'hefei'</span><span class="p">,))</span>
    <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t1</span><span class="p">)</span>
    <span class="n">t2</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">getPM25</span><span class="p">,</span><span class="n">args</span><span class="o">=</span><span class="p">(</span><span class="s1">'shanghai'</span><span class="p">,))</span>
    <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t2</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">threads</span><span class="p">:</span>
        <span class="c1"># t.setDaemon(True)</span>
        <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>

    <span class="n">one_thread</span><span class="p">()</span>
    <span class="nb">print</span> <span class="s1">'</span><span class="se">\n</span><span class="s1">'</span> <span class="o">*</span> <span class="mi">2</span>
    <span class="n">two_thread</span><span class="p">()</span></code></pre>
 </div>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="lr9UszlK"><b>3. 爬取易迅网商品价格信息</b></p>
 <p data-pid="5wNWatco">当时准备抓取淘宝价格的，发现有点难，后来就没有尝试，就把目标选在了易迅网。</p>
 <div class="highlight">
  <pre><code class="language-text">#!/usr/bin/env python
#coding:utf-8
# 根据易迅网的商品ID，爬取商品价格信息。
# By Tsing
# Python 2.7.9

import urllib2
from bs4 import BeautifulSoup
def get_yixun(id):
    price_origin,price_sale = '0','0'
    url = 'http://item.yixun.com/item-' + id + '.html'
    html = urllib2.urlopen(url).read().decode('utf-8')
    soup = BeautifulSoup(html)
    title = unicode(soup.title.text.strip().strip(u'【价格_报价_图片_行情】-易迅网').replace(u'】','')).encode('utf-8').decode('utf-8')
    print title
    try:
        soup_origin = soup.find("dl", { "class" : "xbase_item xprice xprice_origin" })
        price_origin = soup_origin.find("span", { "class" : "mod_price xprice_val" }).contents[1].text 
        print  u'原价：' + price_origin
    except:
        pass
    try:
        soup_sale= soup.find('dl',{'class':'xbase_item xprice'})
        price_sale = soup_sale.find("span", { "class" : "mod_price xprice_val" }).contents[1] 
        print  u'现价：'+ price_sale
    except:
        pass
    print url
    return None

if __name__ == '__main__':
    get_yixun('2189654')</code></pre>
 </div>
 <p class="ztext-empty-paragraph"><br></p>
 <p data-pid="hVL4PYf9"><b>4. 音悦台MV免积分下载</b></p>
 <p data-pid="t36OdBwZ">音悦台上有好多高质量的 MV，想要下载却没有积分，于是就想到破解下载。当时受一个大神的代码的启发，就写出了下面的代码，虽然写的有点乱，但还是可以成功破解的哈。</p>
 <div class="highlight">
  <pre><code class="language-python3"><span class="ch">#!/usr/bin/env python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># 音悦台MV免积分下载</span>
<span class="c1"># By Tsing</span>
<span class="c1"># Python 2.7.9</span>

<span class="kn">import</span> <span class="nn">urllib2</span>
<span class="kn">import</span> <span class="nn">urllib</span>
<span class="kn">import</span> <span class="nn">re</span>

<span class="n">mv_id</span> <span class="o">=</span> <span class="s1">'2278607'</span>   <span class="c1"># 这里输入mv的id，即http://v.yinyuetai.com/video/2275893最后的数字</span>

<span class="n">url</span> <span class="o">=</span> <span class="s2">"http://www.yinyuetai.com/insite/get-video-info?flex=true&amp;videoId="</span> <span class="o">+</span> <span class="n">mv_id</span> 
<span class="n">timeout</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'User-Agent'</span><span class="p">:</span><span class="s1">'Mozilla/5.0 (Windows NT 6.3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.95 Safari/537.36'</span><span class="p">,</span>
    <span class="s1">'Accept'</span><span class="p">:</span><span class="s1">'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8'</span>
<span class="p">}</span>

<span class="n">req</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">headers</span><span class="p">)</span>
<span class="n">res</span> <span class="o">=</span> <span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">req</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="p">)</span>
<span class="n">html</span> <span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

<span class="n">reg</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">"http://\w*?\.yinyuetai\.com/uploads/videos/common/.*?(?=&amp;br)"</span>
<span class="n">pattern</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">reg</span><span class="p">)</span>
<span class="n">findList</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">pattern</span><span class="p">,</span><span class="n">html</span><span class="p">)</span>     <span class="c1"># 找到mv所有版本的下载链接</span>

<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">findList</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">3</span><span class="p">:</span>  
    <span class="n">mvurl</span> <span class="o">=</span> <span class="n">findList</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>     <span class="c1"># 含有流畅、高清、超清三个版本时下载超清</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">mvurl</span> <span class="o">=</span> <span class="n">findList</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>     <span class="c1"># 版本少时下载流畅视频</span>

<span class="n">local</span> <span class="o">=</span> <span class="s1">'MV.flv'</span>

<span class="k">try</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s1">'downloading...please wait...'</span>
    <span class="n">urllib</span><span class="o">.</span><span class="n">urlretrieve</span><span class="p">(</span><span class="n">mvurl</span><span class="p">,</span><span class="n">local</span><span class="p">)</span>
    <span class="nb">print</span> <span class="s2">"[:)] Great! The mv has been downloaded.</span><span class="se">\n</span><span class="s2">"</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span> <span class="s2">"[:(] Sorry! The action is failed.</span><span class="se">\n</span><span class="s2">"</span>

</code></pre>
 </div>
 <hr>
 <p data-pid="iKE-ZVGM"><b>以后再慢慢更新一些进来吧，大家可以收藏以下本回答哈~</b></p>
 <p data-pid="9P9G1Czs"><b>结语：</b>Python 真的是一个利器，而我用到的肯定也只是皮毛，写过的程序多多少少也有点相似，但是我对 Python 的爱却是越来越浓的。</p>
 <p data-pid="YMNMgqB1"><b>补充：</b>看到评论中有好多知友问哪里可以快速而全面地学习Python编程，我只给大家推荐一个博客，大家认真看就够了：<a href="https://link.zhihu.com/?target=http%3A//www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000" class=" wrap external" target="_blank" rel="nofollow noreferrer">Python教程 - 廖雪峰的官方网站</a></p>
</body>